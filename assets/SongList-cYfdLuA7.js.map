{"version":3,"file":"SongList-cYfdLuA7.js","sources":["../../node_modules/lucide-react/dist/esm/icons/arrow-down-0-1.js","../../node_modules/lucide-react/dist/esm/icons/arrow-down-1-0.js","../../node_modules/lucide-react/dist/esm/icons/arrow-down-a-z.js","../../node_modules/lucide-react/dist/esm/icons/arrow-down-up.js","../../node_modules/lucide-react/dist/esm/icons/arrow-down-z-a.js","../../node_modules/lucide-react/dist/esm/icons/audio-lines.js","../../node_modules/lucide-react/dist/esm/icons/calendar-plus.js","../../node_modules/lucide-react/dist/esm/icons/filter.js","../../node_modules/lucide-react/dist/esm/icons/flag-off.js","../../node_modules/lucide-react/dist/esm/icons/handshake.js","../../node_modules/lucide-react/dist/esm/icons/images.js","../../node_modules/lucide-react/dist/esm/icons/languages.js","../../node_modules/lucide-react/dist/esm/icons/mic-vocal.js","../../node_modules/lucide-react/dist/esm/icons/music.js","../../node_modules/lucide-react/dist/esm/icons/search.js","../../node_modules/lucide-react/dist/esm/icons/x.js","../../node_modules/react-virtualized-auto-sizer/dist/react-virtualized-auto-sizer.esm.js","../../node_modules/@babel/runtime/helpers/esm/extends.js","../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../../node_modules/react-window/node_modules/memoize-one/dist/memoize-one.esm.js","../../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../node_modules/react-window/dist/index.esm.js","../../node_modules/@radix-ui/react-avatar/dist/index.mjs","../../src/components/ui/avatar.tsx","../../node_modules/@radix-ui/react-dialog/dist/index.mjs","../../src/components/ui/dialog-custom.tsx","../../src/components/IllustrationPopup.tsx","../../src/components/LanguageFlag.tsx","../../src/components/ui/circular-progress.tsx","../../src/routes/SongList/SongRow.tsx","../../node_modules/@uidotdev/usehooks/index.js","../../src/routes/SongList/Toolbar/filters/LanguageFilter.tsx","../../node_modules/@radix-ui/number/dist/index.mjs","../../node_modules/@radix-ui/react-use-previous/dist/index.mjs","../../node_modules/@radix-ui/react-slider/dist/index.mjs","../../src/components/ui/slider.tsx","../../src/routes/SongList/Toolbar/filters/VocalRangeFilter.tsx","../../src/routes/SongList/Toolbar/filters/Filters.tsx","../../src/components/ui/input.tsx","../../src/routes/SongList/Toolbar/SearchBar.tsx","../../src/routes/SongList/Toolbar/SortMenu.tsx","../../src/routes/SongList/Toolbar/Toolbar.tsx","../../node_modules/fuse.js/dist/fuse.mjs","../../src/routes/SongList/useFilteredSongs.ts","../../src/routes/SongList/SongList.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowDown01 = createLucideIcon(\"ArrowDown01\", [\n  [\"path\", { d: \"m3 16 4 4 4-4\", key: \"1co6wj\" }],\n  [\"path\", { d: \"M7 20V4\", key: \"1yoxec\" }],\n  [\"rect\", { x: \"15\", y: \"4\", width: \"4\", height: \"6\", ry: \"2\", key: \"1bwicg\" }],\n  [\"path\", { d: \"M17 20v-6h-2\", key: \"1qp1so\" }],\n  [\"path\", { d: \"M15 20h4\", key: \"1j968p\" }]\n]);\n\nexport { ArrowDown01 as default };\n//# sourceMappingURL=arrow-down-0-1.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowDown10 = createLucideIcon(\"ArrowDown10\", [\n  [\"path\", { d: \"m3 16 4 4 4-4\", key: \"1co6wj\" }],\n  [\"path\", { d: \"M7 20V4\", key: \"1yoxec\" }],\n  [\"path\", { d: \"M17 10V4h-2\", key: \"zcsr5x\" }],\n  [\"path\", { d: \"M15 10h4\", key: \"id2lce\" }],\n  [\"rect\", { x: \"15\", y: \"14\", width: \"4\", height: \"6\", ry: \"2\", key: \"33xykx\" }]\n]);\n\nexport { ArrowDown10 as default };\n//# sourceMappingURL=arrow-down-1-0.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowDownAZ = createLucideIcon(\"ArrowDownAZ\", [\n  [\"path\", { d: \"m3 16 4 4 4-4\", key: \"1co6wj\" }],\n  [\"path\", { d: \"M7 20V4\", key: \"1yoxec\" }],\n  [\"path\", { d: \"M20 8h-5\", key: \"1vsyxs\" }],\n  [\"path\", { d: \"M15 10V6.5a2.5 2.5 0 0 1 5 0V10\", key: \"ag13bf\" }],\n  [\"path\", { d: \"M15 14h5l-5 6h5\", key: \"ur5jdg\" }]\n]);\n\nexport { ArrowDownAZ as default };\n//# sourceMappingURL=arrow-down-a-z.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowDownUp = createLucideIcon(\"ArrowDownUp\", [\n  [\"path\", { d: \"m3 16 4 4 4-4\", key: \"1co6wj\" }],\n  [\"path\", { d: \"M7 20V4\", key: \"1yoxec\" }],\n  [\"path\", { d: \"m21 8-4-4-4 4\", key: \"1c9v7m\" }],\n  [\"path\", { d: \"M17 4v16\", key: \"7dpous\" }]\n]);\n\nexport { ArrowDownUp as default };\n//# sourceMappingURL=arrow-down-up.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowDownZA = createLucideIcon(\"ArrowDownZA\", [\n  [\"path\", { d: \"m3 16 4 4 4-4\", key: \"1co6wj\" }],\n  [\"path\", { d: \"M7 4v16\", key: \"1glfcx\" }],\n  [\"path\", { d: \"M15 4h5l-5 6h5\", key: \"8asdl1\" }],\n  [\"path\", { d: \"M15 20v-3.5a2.5 2.5 0 0 1 5 0V20\", key: \"r6l5cz\" }],\n  [\"path\", { d: \"M20 18h-5\", key: \"18j1r2\" }]\n]);\n\nexport { ArrowDownZA as default };\n//# sourceMappingURL=arrow-down-z-a.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst AudioLines = createLucideIcon(\"AudioLines\", [\n  [\"path\", { d: \"M2 10v3\", key: \"1fnikh\" }],\n  [\"path\", { d: \"M6 6v11\", key: \"11sgs0\" }],\n  [\"path\", { d: \"M10 3v18\", key: \"yhl04a\" }],\n  [\"path\", { d: \"M14 8v7\", key: \"3a1oy3\" }],\n  [\"path\", { d: \"M18 5v13\", key: \"123xd1\" }],\n  [\"path\", { d: \"M22 10v3\", key: \"154ddg\" }]\n]);\n\nexport { AudioLines as default };\n//# sourceMappingURL=audio-lines.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CalendarPlus = createLucideIcon(\"CalendarPlus\", [\n  [\"path\", { d: \"M8 2v4\", key: \"1cmpym\" }],\n  [\"path\", { d: \"M16 2v4\", key: \"4m81vk\" }],\n  [\"path\", { d: \"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8\", key: \"3spt84\" }],\n  [\"path\", { d: \"M3 10h18\", key: \"8toen8\" }],\n  [\"path\", { d: \"M16 19h6\", key: \"xwg31i\" }],\n  [\"path\", { d: \"M19 16v6\", key: \"tddt3s\" }]\n]);\n\nexport { CalendarPlus as default };\n//# sourceMappingURL=calendar-plus.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Filter = createLucideIcon(\"Filter\", [\n  [\"polygon\", { points: \"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3\", key: \"1yg77f\" }]\n]);\n\nexport { Filter as default };\n//# sourceMappingURL=filter.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FlagOff = createLucideIcon(\"FlagOff\", [\n  [\"path\", { d: \"M8 2c3 0 5 2 8 2s4-1 4-1v11\", key: \"9rwyz9\" }],\n  [\"path\", { d: \"M4 22V4\", key: \"1plyxx\" }],\n  [\"path\", { d: \"M4 15s1-1 4-1 5 2 8 2\", key: \"1myooe\" }],\n  [\"line\", { x1: \"2\", x2: \"22\", y1: \"2\", y2: \"22\", key: \"a6p6uj\" }]\n]);\n\nexport { FlagOff as default };\n//# sourceMappingURL=flag-off.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Handshake = createLucideIcon(\"Handshake\", [\n  [\"path\", { d: \"m11 17 2 2a1 1 0 1 0 3-3\", key: \"efffak\" }],\n  [\n    \"path\",\n    {\n      d: \"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4\",\n      key: \"9pr0kb\"\n    }\n  ],\n  [\"path\", { d: \"m21 3 1 11h-2\", key: \"1tisrp\" }],\n  [\"path\", { d: \"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3\", key: \"1uvwmv\" }],\n  [\"path\", { d: \"M3 4h8\", key: \"1ep09j\" }]\n]);\n\nexport { Handshake as default };\n//# sourceMappingURL=handshake.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Images = createLucideIcon(\"Images\", [\n  [\"path\", { d: \"M18 22H4a2 2 0 0 1-2-2V6\", key: \"pblm9e\" }],\n  [\"path\", { d: \"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18\", key: \"nf6bnh\" }],\n  [\"circle\", { cx: \"12\", cy: \"8\", r: \"2\", key: \"1822b1\" }],\n  [\"rect\", { width: \"16\", height: \"16\", x: \"6\", y: \"2\", rx: \"2\", key: \"12espp\" }]\n]);\n\nexport { Images as default };\n//# sourceMappingURL=images.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Languages = createLucideIcon(\"Languages\", [\n  [\"path\", { d: \"m5 8 6 6\", key: \"1wu5hv\" }],\n  [\"path\", { d: \"m4 14 6-6 2-3\", key: \"1k1g8d\" }],\n  [\"path\", { d: \"M2 5h12\", key: \"or177f\" }],\n  [\"path\", { d: \"M7 2h1\", key: \"1t2jsx\" }],\n  [\"path\", { d: \"m22 22-5-10-5 10\", key: \"don7ne\" }],\n  [\"path\", { d: \"M14 18h6\", key: \"1m8k6r\" }]\n]);\n\nexport { Languages as default };\n//# sourceMappingURL=languages.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst MicVocal = createLucideIcon(\"MicVocal\", [\n  [\n    \"path\",\n    {\n      d: \"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12\",\n      key: \"80a601\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5\",\n      key: \"j0ngtp\"\n    }\n  ],\n  [\"circle\", { cx: \"16\", cy: \"7\", r: \"5\", key: \"d08jfb\" }]\n]);\n\nexport { MicVocal as default };\n//# sourceMappingURL=mic-vocal.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Music = createLucideIcon(\"Music\", [\n  [\"path\", { d: \"M9 18V5l12-2v13\", key: \"1jmyc2\" }],\n  [\"circle\", { cx: \"6\", cy: \"18\", r: \"3\", key: \"fqmcym\" }],\n  [\"circle\", { cx: \"18\", cy: \"16\", r: \"3\", key: \"1hluhg\" }]\n]);\n\nexport { Music as default };\n//# sourceMappingURL=music.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Search = createLucideIcon(\"Search\", [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"path\", { d: \"m21 21-4.3-4.3\", key: \"1qie3q\" }]\n]);\n\nexport { Search as default };\n//# sourceMappingURL=search.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst X = createLucideIcon(\"X\", [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n]);\n\nexport { X as default };\n//# sourceMappingURL=x.js.map\n","import { Component, createElement } from 'react';\n\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1) Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2) Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n * 5) Use 'export' statement over 'module.exports' assignment\n **/\n\n// Check `document` and `window` in case of server-side rendering\nlet windowObject;\nif (typeof window !== \"undefined\") {\n  windowObject = window;\n\n  // eslint-disable-next-line no-restricted-globals\n} else if (typeof self !== \"undefined\") {\n  // eslint-disable-next-line no-restricted-globals\n  windowObject = self;\n} else {\n  windowObject = global;\n}\nlet cancelFrame = null;\nlet requestFrame = null;\nconst TIMEOUT_DURATION = 20;\nconst clearTimeoutFn = windowObject.clearTimeout;\nconst setTimeoutFn = windowObject.setTimeout;\nconst cancelAnimationFrameFn = windowObject.cancelAnimationFrame || windowObject.mozCancelAnimationFrame || windowObject.webkitCancelAnimationFrame;\nconst requestAnimationFrameFn = windowObject.requestAnimationFrame || windowObject.mozRequestAnimationFrame || windowObject.webkitRequestAnimationFrame;\nif (cancelAnimationFrameFn == null || requestAnimationFrameFn == null) {\n  // For environments that don't support animation frame,\n  // fallback to a setTimeout based approach.\n  cancelFrame = clearTimeoutFn;\n  requestFrame = function requestAnimationFrameViaSetTimeout(callback) {\n    return setTimeoutFn(callback, TIMEOUT_DURATION);\n  };\n} else {\n  // Counter intuitively, environments that support animation frames can be trickier.\n  // Chrome's \"Throttle non-visible cross-origin iframes\" flag can prevent rAFs from being called.\n  // In this case, we should fallback to a setTimeout() implementation.\n  cancelFrame = function cancelFrame([animationFrameID, timeoutID]) {\n    cancelAnimationFrameFn(animationFrameID);\n    clearTimeoutFn(timeoutID);\n  };\n  requestFrame = function requestAnimationFrameWithSetTimeoutFallback(callback) {\n    const animationFrameID = requestAnimationFrameFn(function animationFrameCallback() {\n      clearTimeoutFn(timeoutID);\n      callback();\n    });\n    const timeoutID = setTimeoutFn(function timeoutCallback() {\n      cancelAnimationFrameFn(animationFrameID);\n      callback();\n    }, TIMEOUT_DURATION);\n    return [animationFrameID, timeoutID];\n  };\n}\nfunction createDetectElementResize(nonce) {\n  let animationKeyframes;\n  let animationName;\n  let animationStartEvent;\n  let animationStyle;\n  let checkTriggers;\n  let resetTriggers;\n  let scrollListener;\n  const attachEvent = typeof document !== \"undefined\" && document.attachEvent;\n  if (!attachEvent) {\n    resetTriggers = function (element) {\n      const triggers = element.__resizeTriggers__,\n        expand = triggers.firstElementChild,\n        contract = triggers.lastElementChild,\n        expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + \"px\";\n      expandChild.style.height = expand.offsetHeight + 1 + \"px\";\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n    checkTriggers = function (element) {\n      return element.offsetWidth !== element.__resizeLast__.width || element.offsetHeight !== element.__resizeLast__.height;\n    };\n    scrollListener = function (e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className && typeof e.target.className.indexOf === \"function\" && e.target.className.indexOf(\"contract-trigger\") < 0 && e.target.className.indexOf(\"expand-trigger\") < 0) {\n        return;\n      }\n      const element = this;\n      resetTriggers(this);\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n      this.__resizeRAF__ = requestFrame(function animationFrame() {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n          element.__resizeListeners__.forEach(function forEachResizeListener(fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n\n    /* Detect CSS Animations support to detect element display/re-attach */\n    let animation = false;\n    let keyframeprefix = \"\";\n    animationStartEvent = \"animationstart\";\n    const domPrefixes = \"Webkit Moz O ms\".split(\" \");\n    let startEvents = \"webkitAnimationStart animationstart oAnimationStart MSAnimationStart\".split(\" \");\n    let pfx = \"\";\n    {\n      const elm = document.createElement(\"fakeelement\");\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n      if (animation === false) {\n        for (let i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + \"AnimationName\"] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = \"-\" + pfx.toLowerCase() + \"-\";\n            animationStartEvent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n    animationName = \"resizeanim\";\n    animationKeyframes = \"@\" + keyframeprefix + \"keyframes \" + animationName + \" { from { opacity: 0; } to { opacity: 0; } } \";\n    animationStyle = keyframeprefix + \"animation: 1ms \" + animationName + \"; \";\n  }\n  const createStyles = function (doc) {\n    if (!doc.getElementById(\"detectElementResize\")) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      const css = (animationKeyframes ? animationKeyframes : \"\") + \".resize-triggers { \" + (animationStyle ? animationStyle : \"\") + \"visibility: hidden; opacity: 0; } \" + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n        head = doc.head || doc.getElementsByTagName(\"head\")[0],\n        style = doc.createElement(\"style\");\n      style.id = \"detectElementResize\";\n      style.type = \"text/css\";\n      if (nonce != null) {\n        style.setAttribute(\"nonce\", nonce);\n      }\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n      head.appendChild(style);\n    }\n  };\n  const addResizeListener = function (element, fn) {\n    if (attachEvent) {\n      element.attachEvent(\"onresize\", fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        const doc = element.ownerDocument;\n        const elementStyle = windowObject.getComputedStyle(element);\n        if (elementStyle && elementStyle.position === \"static\") {\n          element.style.position = \"relative\";\n        }\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement(\"div\")).className = \"resize-triggers\";\n        const expandTrigger = doc.createElement(\"div\");\n        expandTrigger.className = \"expand-trigger\";\n        expandTrigger.appendChild(doc.createElement(\"div\"));\n        const contractTrigger = doc.createElement(\"div\");\n        contractTrigger.className = \"contract-trigger\";\n        element.__resizeTriggers__.appendChild(expandTrigger);\n        element.__resizeTriggers__.appendChild(contractTrigger);\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener(\"scroll\", scrollListener, true);\n\n        /* Listen for a css animation to detect element display/re-attach */\n        if (animationStartEvent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName === animationName) {\n              resetTriggers(element);\n            }\n          };\n          element.__resizeTriggers__.addEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n      element.__resizeListeners__.push(fn);\n    }\n  };\n  const removeResizeListener = function (element, fn) {\n    if (attachEvent) {\n      element.detachEvent(\"onresize\", fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener(\"scroll\", scrollListener, true);\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {\n          // Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n  return {\n    addResizeListener,\n    removeResizeListener\n  };\n}\n\nclass AutoSizer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      height: this.props.defaultHeight || 0,\n      scaledHeight: this.props.defaultHeight || 0,\n      scaledWidth: this.props.defaultWidth || 0,\n      width: this.props.defaultWidth || 0\n    };\n    this._autoSizer = null;\n    this._detectElementResize = null;\n    this._parentNode = null;\n    this._resizeObserver = null;\n    this._timeoutId = null;\n    this._onResize = () => {\n      this._timeoutId = null;\n      const {\n        disableHeight,\n        disableWidth,\n        onResize\n      } = this.props;\n      if (this._parentNode) {\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n\n        const style = window.getComputedStyle(this._parentNode) || {};\n        const paddingLeft = parseFloat(style.paddingLeft || \"0\");\n        const paddingRight = parseFloat(style.paddingRight || \"0\");\n        const paddingTop = parseFloat(style.paddingTop || \"0\");\n        const paddingBottom = parseFloat(style.paddingBottom || \"0\");\n        const rect = this._parentNode.getBoundingClientRect();\n        const scaledHeight = rect.height - paddingTop - paddingBottom;\n        const scaledWidth = rect.width - paddingLeft - paddingRight;\n        const height = this._parentNode.offsetHeight - paddingTop - paddingBottom;\n        const width = this._parentNode.offsetWidth - paddingLeft - paddingRight;\n        if (!disableHeight && (this.state.height !== height || this.state.scaledHeight !== scaledHeight) || !disableWidth && (this.state.width !== width || this.state.scaledWidth !== scaledWidth)) {\n          this.setState({\n            height,\n            width,\n            scaledHeight,\n            scaledWidth\n          });\n          if (typeof onResize === \"function\") {\n            onResize({\n              height,\n              scaledHeight,\n              scaledWidth,\n              width\n            });\n          }\n        }\n      }\n    };\n    this._setRef = autoSizer => {\n      this._autoSizer = autoSizer;\n    };\n  }\n  componentDidMount() {\n    const {\n      nonce\n    } = this.props;\n    const parentNode = this._autoSizer ? this._autoSizer.parentNode : null;\n    if (parentNode != null && parentNode.ownerDocument && parentNode.ownerDocument.defaultView && parentNode instanceof parentNode.ownerDocument.defaultView.HTMLElement) {\n      // Delay access of parentNode until mount.\n      // This handles edge-cases where the component has already been unmounted before its ref has been set,\n      // As well as libraries like react-lite which have a slightly different lifecycle.\n      this._parentNode = parentNode;\n\n      // Use ResizeObserver from the same context where parentNode (which we will observe) was defined\n      // Using just global can result into onResize events not being emitted in cases with multiple realms\n      const ResizeObserverInstance = parentNode.ownerDocument.defaultView.ResizeObserver;\n      if (ResizeObserverInstance != null) {\n        this._resizeObserver = new ResizeObserverInstance(() => {\n          // Guard against \"ResizeObserver loop limit exceeded\" error;\n          // could be triggered if the state update causes the ResizeObserver handler to run long.\n          // See https://github.com/bvaughn/react-virtualized-auto-sizer/issues/55\n          this._timeoutId = setTimeout(this._onResize, 0);\n        });\n        this._resizeObserver.observe(parentNode);\n      } else {\n        // Defer requiring resize handler in order to support server-side rendering.\n        // See issue #41\n        this._detectElementResize = createDetectElementResize(nonce);\n        this._detectElementResize.addResizeListener(parentNode, this._onResize);\n      }\n      this._onResize();\n    }\n  }\n  componentWillUnmount() {\n    if (this._parentNode) {\n      if (this._detectElementResize) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n      if (this._timeoutId !== null) {\n        clearTimeout(this._timeoutId);\n      }\n      if (this._resizeObserver) {\n        this._resizeObserver.disconnect();\n      }\n    }\n  }\n  render() {\n    const {\n      children,\n      defaultHeight,\n      defaultWidth,\n      disableHeight = false,\n      disableWidth = false,\n      doNotBailOutOnEmptyChildren = false,\n      nonce,\n      onResize,\n      style = {},\n      tagName = \"div\",\n      ...rest\n    } = this.props;\n    const {\n      height,\n      scaledHeight,\n      scaledWidth,\n      width\n    } = this.state;\n\n    // Outer div should not force width/height since that may prevent containers from shrinking.\n    // Inner component should overflow and use calculated width/height.\n    // See issue #68 for more information.\n    const outerStyle = {\n      overflow: \"visible\"\n    };\n    const childParams = {};\n\n    // Avoid rendering children before the initial measurements have been collected.\n    // At best this would just be wasting cycles.\n    let bailoutOnChildren = false;\n    if (!disableHeight) {\n      if (height === 0) {\n        bailoutOnChildren = true;\n      }\n      outerStyle.height = 0;\n      childParams.height = height;\n      childParams.scaledHeight = scaledHeight;\n    }\n    if (!disableWidth) {\n      if (width === 0) {\n        bailoutOnChildren = true;\n      }\n      outerStyle.width = 0;\n      childParams.width = width;\n      childParams.scaledWidth = scaledWidth;\n    }\n    if (doNotBailOutOnEmptyChildren) {\n      bailoutOnChildren = false;\n    }\n    return createElement(tagName, {\n      ref: this._setRef,\n      style: {\n        ...outerStyle,\n        ...style\n      },\n      ...rest\n    }, !bailoutOnChildren && children(childParams));\n  }\n}\n\nfunction isHeightAndWidthProps(props) {\n  return props && props.disableHeight !== true && props.disableWidth !== true;\n}\nfunction isHeightOnlyProps(props) {\n  return props && props.disableHeight !== true && props.disableWidth === true;\n}\nfunction isWidthOnlyProps(props) {\n  return props && props.disableHeight === true && props.disableWidth !== true;\n}\n\nexport { AutoSizer as default, isHeightAndWidthProps, isHeightOnlyProps, isWidthOnlyProps };\n","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","function _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nexport { _assertThisInitialized as default };","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","var safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nexport default memoizeOne;\n","function _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (e.includes(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nexport { _objectWithoutPropertiesLoose as default };","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport memoizeOne from 'memoize-one';\nimport { createElement, PureComponent } from 'react';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\n\n// Animation frame based implementation of setTimeout.\n// Inspired by Joe Lambert, https://gist.github.com/joelambert/1002116#file-requesttimeout-js\nvar hasNativePerformanceNow = typeof performance === 'object' && typeof performance.now === 'function';\nvar now = hasNativePerformanceNow ? function () {\n  return performance.now();\n} : function () {\n  return Date.now();\n};\nfunction cancelTimeout(timeoutID) {\n  cancelAnimationFrame(timeoutID.id);\n}\nfunction requestTimeout(callback, delay) {\n  var start = now();\n\n  function tick() {\n    if (now() - start >= delay) {\n      callback.call(null);\n    } else {\n      timeoutID.id = requestAnimationFrame(tick);\n    }\n  }\n\n  var timeoutID = {\n    id: requestAnimationFrame(tick)\n  };\n  return timeoutID;\n}\n\nvar size = -1; // This utility copied from \"dom-helpers\" package.\n\nfunction getScrollbarSize(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (size === -1 || recalculate) {\n    var div = document.createElement('div');\n    var style = div.style;\n    style.width = '50px';\n    style.height = '50px';\n    style.overflow = 'scroll';\n    document.body.appendChild(div);\n    size = div.offsetWidth - div.clientWidth;\n    document.body.removeChild(div);\n  }\n\n  return size;\n}\nvar cachedRTLResult = null; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n// Chrome does not seem to adhere; its scrollLeft values are positive (measured relative to the left).\n// Safari's elastic bounce makes detecting this even more complicated wrt potential false positives.\n// The safest way to check this is to intentionally set a negative offset,\n// and then verify that the subsequent \"scroll\" event matches the negative offset.\n// If it does not match, then we can assume a non-standard RTL scroll implementation.\n\nfunction getRTLOffsetType(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (cachedRTLResult === null || recalculate) {\n    var outerDiv = document.createElement('div');\n    var outerStyle = outerDiv.style;\n    outerStyle.width = '50px';\n    outerStyle.height = '50px';\n    outerStyle.overflow = 'scroll';\n    outerStyle.direction = 'rtl';\n    var innerDiv = document.createElement('div');\n    var innerStyle = innerDiv.style;\n    innerStyle.width = '100px';\n    innerStyle.height = '100px';\n    outerDiv.appendChild(innerDiv);\n    document.body.appendChild(outerDiv);\n\n    if (outerDiv.scrollLeft > 0) {\n      cachedRTLResult = 'positive-descending';\n    } else {\n      outerDiv.scrollLeft = 1;\n\n      if (outerDiv.scrollLeft === 0) {\n        cachedRTLResult = 'negative';\n      } else {\n        cachedRTLResult = 'positive-ascending';\n      }\n    }\n\n    document.body.removeChild(outerDiv);\n    return cachedRTLResult;\n  }\n\n  return cachedRTLResult;\n}\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL = 150;\n\nvar defaultItemKey = function defaultItemKey(_ref) {\n  var columnIndex = _ref.columnIndex,\n      data = _ref.data,\n      rowIndex = _ref.rowIndex;\n  return rowIndex + \":\" + columnIndex;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsOverscanCount = null;\nvar devWarningsOverscanRowsColumnsCount = null;\nvar devWarningsTagName = null;\n\nif (process.env.NODE_ENV !== 'production') {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsOverscanCount = /*#__PURE__*/new WeakSet();\n    devWarningsOverscanRowsColumnsCount = /*#__PURE__*/new WeakSet();\n    devWarningsTagName = /*#__PURE__*/new WeakSet();\n  }\n}\n\nfunction createGridComponent(_ref2) {\n  var _class;\n\n  var getColumnOffset = _ref2.getColumnOffset,\n      getColumnStartIndexForOffset = _ref2.getColumnStartIndexForOffset,\n      getColumnStopIndexForStartIndex = _ref2.getColumnStopIndexForStartIndex,\n      getColumnWidth = _ref2.getColumnWidth,\n      getEstimatedTotalHeight = _ref2.getEstimatedTotalHeight,\n      getEstimatedTotalWidth = _ref2.getEstimatedTotalWidth,\n      getOffsetForColumnAndAlignment = _ref2.getOffsetForColumnAndAlignment,\n      getOffsetForRowAndAlignment = _ref2.getOffsetForRowAndAlignment,\n      getRowHeight = _ref2.getRowHeight,\n      getRowOffset = _ref2.getRowOffset,\n      getRowStartIndexForOffset = _ref2.getRowStartIndexForOffset,\n      getRowStopIndexForStartIndex = _ref2.getRowStopIndexForStartIndex,\n      initInstanceProps = _ref2.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref2.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref2.validateProps;\n  return _class = /*#__PURE__*/function (_PureComponent) {\n    _inheritsLoose(Grid, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function Grid(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, _assertThisInitialized(_this));\n      _this._resetIsScrollingTimeoutId = null;\n      _this._outerRef = void 0;\n      _this.state = {\n        instance: _assertThisInitialized(_this),\n        isScrolling: false,\n        horizontalScrollDirection: 'forward',\n        scrollLeft: typeof _this.props.initialScrollLeft === 'number' ? _this.props.initialScrollLeft : 0,\n        scrollTop: typeof _this.props.initialScrollTop === 'number' ? _this.props.initialScrollTop : 0,\n        scrollUpdateWasRequested: false,\n        verticalScrollDirection: 'forward'\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = memoizeOne(function (overscanColumnStartIndex, overscanColumnStopIndex, overscanRowStartIndex, overscanRowStopIndex, visibleColumnStartIndex, visibleColumnStopIndex, visibleRowStartIndex, visibleRowStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanColumnStartIndex: overscanColumnStartIndex,\n          overscanColumnStopIndex: overscanColumnStopIndex,\n          overscanRowStartIndex: overscanRowStartIndex,\n          overscanRowStopIndex: overscanRowStopIndex,\n          visibleColumnStartIndex: visibleColumnStartIndex,\n          visibleColumnStopIndex: visibleColumnStopIndex,\n          visibleRowStartIndex: visibleRowStartIndex,\n          visibleRowStopIndex: visibleRowStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = memoizeOne(function (scrollLeft, scrollTop, horizontalScrollDirection, verticalScrollDirection, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          horizontalScrollDirection: horizontalScrollDirection,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          verticalScrollDirection: verticalScrollDirection,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (rowIndex, columnIndex) {\n        var _this$props = _this.props,\n            columnWidth = _this$props.columnWidth,\n            direction = _this$props.direction,\n            rowHeight = _this$props.rowHeight;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && columnWidth, shouldResetStyleCacheOnItemSizeChange && direction, shouldResetStyleCacheOnItemSizeChange && rowHeight);\n\n        var key = rowIndex + \":\" + columnIndex;\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(key)) {\n          style = itemStyleCache[key];\n        } else {\n          var _offset = getColumnOffset(_this.props, columnIndex, _this._instanceProps);\n\n          var isRtl = direction === 'rtl';\n          itemStyleCache[key] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : _offset,\n            right: isRtl ? _offset : undefined,\n            top: getRowOffset(_this.props, rowIndex, _this._instanceProps),\n            height: getRowHeight(_this.props, rowIndex, _this._instanceProps),\n            width: getColumnWidth(_this.props, columnIndex, _this._instanceProps)\n          };\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = memoizeOne(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScroll = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientHeight = _event$currentTarget.clientHeight,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollTop = _event$currentTarget.scrollTop,\n            scrollHeight = _event$currentTarget.scrollHeight,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n          // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n          // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n          // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n\n          var calculatedScrollLeft = scrollLeft;\n\n          if (direction === 'rtl') {\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                calculatedScrollLeft = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                calculatedScrollLeft = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          calculatedScrollLeft = Math.max(0, Math.min(calculatedScrollLeft, scrollWidth - clientWidth));\n          var calculatedScrollTop = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n            scrollLeft: calculatedScrollLeft,\n            scrollTop: calculatedScrollTop,\n            verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward',\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1);\n        });\n      };\n\n      return _this;\n    }\n\n    Grid.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = Grid.prototype;\n\n    _proto.scrollTo = function scrollTo(_ref3) {\n      var scrollLeft = _ref3.scrollLeft,\n          scrollTop = _ref3.scrollTop;\n\n      if (scrollLeft !== undefined) {\n        scrollLeft = Math.max(0, scrollLeft);\n      }\n\n      if (scrollTop !== undefined) {\n        scrollTop = Math.max(0, scrollTop);\n      }\n\n      this.setState(function (prevState) {\n        if (scrollLeft === undefined) {\n          scrollLeft = prevState.scrollLeft;\n        }\n\n        if (scrollTop === undefined) {\n          scrollTop = prevState.scrollTop;\n        }\n\n        if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n          return null;\n        }\n\n        return {\n          horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          scrollUpdateWasRequested: true,\n          verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward'\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(_ref4) {\n      var _ref4$align = _ref4.align,\n          align = _ref4$align === void 0 ? 'auto' : _ref4$align,\n          columnIndex = _ref4.columnIndex,\n          rowIndex = _ref4.rowIndex;\n      var _this$props2 = this.props,\n          columnCount = _this$props2.columnCount,\n          height = _this$props2.height,\n          rowCount = _this$props2.rowCount,\n          width = _this$props2.width;\n      var _this$state = this.state,\n          scrollLeft = _this$state.scrollLeft,\n          scrollTop = _this$state.scrollTop;\n      var scrollbarSize = getScrollbarSize();\n\n      if (columnIndex !== undefined) {\n        columnIndex = Math.max(0, Math.min(columnIndex, columnCount - 1));\n      }\n\n      if (rowIndex !== undefined) {\n        rowIndex = Math.max(0, Math.min(rowIndex, rowCount - 1));\n      }\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps); // The scrollbar size should be considered when scrolling an item into view,\n      // to ensure it's fully visible.\n      // But we only need to account for its size when it's actually visible.\n\n      var horizontalScrollbarSize = estimatedTotalWidth > width ? scrollbarSize : 0;\n      var verticalScrollbarSize = estimatedTotalHeight > height ? scrollbarSize : 0;\n      this.scrollTo({\n        scrollLeft: columnIndex !== undefined ? getOffsetForColumnAndAlignment(this.props, columnIndex, align, scrollLeft, this._instanceProps, verticalScrollbarSize) : scrollLeft,\n        scrollTop: rowIndex !== undefined ? getOffsetForRowAndAlignment(this.props, rowIndex, align, scrollTop, this._instanceProps, horizontalScrollbarSize) : scrollTop\n      });\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props3 = this.props,\n          initialScrollLeft = _this$props3.initialScrollLeft,\n          initialScrollTop = _this$props3.initialScrollTop;\n\n      if (this._outerRef != null) {\n        var outerRef = this._outerRef;\n\n        if (typeof initialScrollLeft === 'number') {\n          outerRef.scrollLeft = initialScrollLeft;\n        }\n\n        if (typeof initialScrollTop === 'number') {\n          outerRef.scrollTop = initialScrollTop;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var direction = this.props.direction;\n      var _this$state2 = this.state,\n          scrollLeft = _this$state2.scrollLeft,\n          scrollTop = _this$state2.scrollTop,\n          scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n        // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n        // So we need to determine which browser behavior we're dealing with, and mimic it.\n        var outerRef = this._outerRef;\n\n        if (direction === 'rtl') {\n          switch (getRTLOffsetType()) {\n            case 'negative':\n              outerRef.scrollLeft = -scrollLeft;\n              break;\n\n            case 'positive-ascending':\n              outerRef.scrollLeft = scrollLeft;\n              break;\n\n            default:\n              var clientWidth = outerRef.clientWidth,\n                  scrollWidth = outerRef.scrollWidth;\n              outerRef.scrollLeft = scrollWidth - clientWidth - scrollLeft;\n              break;\n          }\n        } else {\n          outerRef.scrollLeft = Math.max(0, scrollLeft);\n        }\n\n        outerRef.scrollTop = Math.max(0, scrollTop);\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          className = _this$props4.className,\n          columnCount = _this$props4.columnCount,\n          direction = _this$props4.direction,\n          height = _this$props4.height,\n          innerRef = _this$props4.innerRef,\n          innerElementType = _this$props4.innerElementType,\n          innerTagName = _this$props4.innerTagName,\n          itemData = _this$props4.itemData,\n          _this$props4$itemKey = _this$props4.itemKey,\n          itemKey = _this$props4$itemKey === void 0 ? defaultItemKey : _this$props4$itemKey,\n          outerElementType = _this$props4.outerElementType,\n          outerTagName = _this$props4.outerTagName,\n          rowCount = _this$props4.rowCount,\n          style = _this$props4.style,\n          useIsScrolling = _this$props4.useIsScrolling,\n          width = _this$props4.width;\n      var isScrolling = this.state.isScrolling;\n\n      var _this$_getHorizontalR = this._getHorizontalRangeToRender(),\n          columnStartIndex = _this$_getHorizontalR[0],\n          columnStopIndex = _this$_getHorizontalR[1];\n\n      var _this$_getVerticalRan = this._getVerticalRangeToRender(),\n          rowStartIndex = _this$_getVerticalRan[0],\n          rowStopIndex = _this$_getVerticalRan[1];\n\n      var items = [];\n\n      if (columnCount > 0 && rowCount) {\n        for (var _rowIndex = rowStartIndex; _rowIndex <= rowStopIndex; _rowIndex++) {\n          for (var _columnIndex = columnStartIndex; _columnIndex <= columnStopIndex; _columnIndex++) {\n            items.push(createElement(children, {\n              columnIndex: _columnIndex,\n              data: itemData,\n              isScrolling: useIsScrolling ? isScrolling : undefined,\n              key: itemKey({\n                columnIndex: _columnIndex,\n                data: itemData,\n                rowIndex: _rowIndex\n              }),\n              rowIndex: _rowIndex,\n              style: this._getItemStyle(_rowIndex, _columnIndex)\n            }));\n          }\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps);\n      return createElement(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: this._onScroll,\n        ref: this._outerRefSetter,\n        style: _extends({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, createElement(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: estimatedTotalHeight,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: estimatedTotalWidth\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      var _this$props5 = this.props,\n          columnCount = _this$props5.columnCount,\n          onItemsRendered = _this$props5.onItemsRendered,\n          onScroll = _this$props5.onScroll,\n          rowCount = _this$props5.rowCount;\n\n      if (typeof onItemsRendered === 'function') {\n        if (columnCount > 0 && rowCount > 0) {\n          var _this$_getHorizontalR2 = this._getHorizontalRangeToRender(),\n              _overscanColumnStartIndex = _this$_getHorizontalR2[0],\n              _overscanColumnStopIndex = _this$_getHorizontalR2[1],\n              _visibleColumnStartIndex = _this$_getHorizontalR2[2],\n              _visibleColumnStopIndex = _this$_getHorizontalR2[3];\n\n          var _this$_getVerticalRan2 = this._getVerticalRangeToRender(),\n              _overscanRowStartIndex = _this$_getVerticalRan2[0],\n              _overscanRowStopIndex = _this$_getVerticalRan2[1],\n              _visibleRowStartIndex = _this$_getVerticalRan2[2],\n              _visibleRowStopIndex = _this$_getVerticalRan2[3];\n\n          this._callOnItemsRendered(_overscanColumnStartIndex, _overscanColumnStopIndex, _overscanRowStartIndex, _overscanRowStopIndex, _visibleColumnStartIndex, _visibleColumnStopIndex, _visibleRowStartIndex, _visibleRowStopIndex);\n        }\n      }\n\n      if (typeof onScroll === 'function') {\n        var _this$state3 = this.state,\n            _horizontalScrollDirection = _this$state3.horizontalScrollDirection,\n            _scrollLeft = _this$state3.scrollLeft,\n            _scrollTop = _this$state3.scrollTop,\n            _scrollUpdateWasRequested = _this$state3.scrollUpdateWasRequested,\n            _verticalScrollDirection = _this$state3.verticalScrollDirection;\n\n        this._callOnScroll(_scrollLeft, _scrollTop, _horizontalScrollDirection, _verticalScrollDirection, _scrollUpdateWasRequested);\n      }\n    } // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n    ;\n\n    _proto._getHorizontalRangeToRender = function _getHorizontalRangeToRender() {\n      var _this$props6 = this.props,\n          columnCount = _this$props6.columnCount,\n          overscanColumnCount = _this$props6.overscanColumnCount,\n          overscanColumnsCount = _this$props6.overscanColumnsCount,\n          overscanCount = _this$props6.overscanCount,\n          rowCount = _this$props6.rowCount;\n      var _this$state4 = this.state,\n          horizontalScrollDirection = _this$state4.horizontalScrollDirection,\n          isScrolling = _this$state4.isScrolling,\n          scrollLeft = _this$state4.scrollLeft;\n      var overscanCountResolved = overscanColumnCount || overscanColumnsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getColumnStartIndexForOffset(this.props, scrollLeft, this._instanceProps);\n      var stopIndex = getColumnStopIndexForStartIndex(this.props, startIndex, scrollLeft, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || horizontalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || horizontalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(columnCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    _proto._getVerticalRangeToRender = function _getVerticalRangeToRender() {\n      var _this$props7 = this.props,\n          columnCount = _this$props7.columnCount,\n          overscanCount = _this$props7.overscanCount,\n          overscanRowCount = _this$props7.overscanRowCount,\n          overscanRowsCount = _this$props7.overscanRowsCount,\n          rowCount = _this$props7.rowCount;\n      var _this$state5 = this.state,\n          isScrolling = _this$state5.isScrolling,\n          verticalScrollDirection = _this$state5.verticalScrollDirection,\n          scrollTop = _this$state5.scrollTop;\n      var overscanCountResolved = overscanRowCount || overscanRowsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getRowStartIndexForOffset(this.props, scrollTop, this._instanceProps);\n      var stopIndex = getRowStopIndexForStartIndex(this.props, startIndex, scrollTop, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || verticalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || verticalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(rowCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return Grid;\n  }(PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    useIsScrolling: false\n  }, _class;\n}\n\nvar validateSharedProps = function validateSharedProps(_ref5, _ref6) {\n  var children = _ref5.children,\n      direction = _ref5.direction,\n      height = _ref5.height,\n      innerTagName = _ref5.innerTagName,\n      outerTagName = _ref5.outerTagName,\n      overscanColumnsCount = _ref5.overscanColumnsCount,\n      overscanCount = _ref5.overscanCount,\n      overscanRowsCount = _ref5.overscanRowsCount,\n      width = _ref5.width;\n  var instance = _ref6.instance;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof overscanCount === 'number') {\n      if (devWarningsOverscanCount && !devWarningsOverscanCount.has(instance)) {\n        devWarningsOverscanCount.add(instance);\n        console.warn('The overscanCount prop has been deprecated. ' + 'Please use the overscanColumnCount and overscanRowCount props instead.');\n      }\n    }\n\n    if (typeof overscanColumnsCount === 'number' || typeof overscanRowsCount === 'number') {\n      if (devWarningsOverscanRowsColumnsCount && !devWarningsOverscanRowsColumnsCount.has(instance)) {\n        devWarningsOverscanRowsColumnsCount.add(instance);\n        console.warn('The overscanColumnsCount and overscanRowsCount props have been deprecated. ' + 'Please use the overscanColumnCount and overscanRowCount props instead.');\n      }\n    }\n\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName && !devWarningsTagName.has(instance)) {\n        devWarningsTagName.add(instance);\n        console.warn('The innerTagName and outerTagName props have been deprecated. ' + 'Please use the innerElementType and outerElementType props instead.');\n      }\n    }\n\n    if (children == null) {\n      throw Error('An invalid \"children\" prop has been specified. ' + 'Value should be a React component. ' + (\"\\\"\" + (children === null ? 'null' : typeof children) + \"\\\" was specified.\"));\n    }\n\n    switch (direction) {\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"direction\" prop has been specified. ' + 'Value should be either \"ltr\" or \"rtl\". ' + (\"\\\"\" + direction + \"\\\" was specified.\"));\n    }\n\n    if (typeof width !== 'number') {\n      throw Error('An invalid \"width\" prop has been specified. ' + 'Grids must specify a number for width. ' + (\"\\\"\" + (width === null ? 'null' : typeof width) + \"\\\" was specified.\"));\n    }\n\n    if (typeof height !== 'number') {\n      throw Error('An invalid \"height\" prop has been specified. ' + 'Grids must specify a number for height. ' + (\"\\\"\" + (height === null ? 'null' : typeof height) + \"\\\" was specified.\"));\n    }\n  }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE = 50;\n\nvar getEstimatedTotalHeight = function getEstimatedTotalHeight(_ref, _ref2) {\n  var rowCount = _ref.rowCount;\n  var rowMetadataMap = _ref2.rowMetadataMap,\n      estimatedRowHeight = _ref2.estimatedRowHeight,\n      lastMeasuredRowIndex = _ref2.lastMeasuredRowIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredRowIndex >= rowCount) {\n    lastMeasuredRowIndex = rowCount - 1;\n  }\n\n  if (lastMeasuredRowIndex >= 0) {\n    var itemMetadata = rowMetadataMap[lastMeasuredRowIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = rowCount - lastMeasuredRowIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedRowHeight;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getEstimatedTotalWidth = function getEstimatedTotalWidth(_ref3, _ref4) {\n  var columnCount = _ref3.columnCount;\n  var columnMetadataMap = _ref4.columnMetadataMap,\n      estimatedColumnWidth = _ref4.estimatedColumnWidth,\n      lastMeasuredColumnIndex = _ref4.lastMeasuredColumnIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredColumnIndex >= columnCount) {\n    lastMeasuredColumnIndex = columnCount - 1;\n  }\n\n  if (lastMeasuredColumnIndex >= 0) {\n    var itemMetadata = columnMetadataMap[lastMeasuredColumnIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = columnCount - lastMeasuredColumnIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedColumnWidth;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getItemMetadata = function getItemMetadata(itemType, props, index, instanceProps) {\n  var itemMetadataMap, itemSize, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    itemSize = props.columnWidth;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    itemSize = props.rowHeight;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    if (itemType === 'column') {\n      instanceProps.lastMeasuredColumnIndex = index;\n    } else {\n      instanceProps.lastMeasuredRowIndex = index;\n    }\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem = function findNearestItem(itemType, props, instanceProps, offset) {\n  var itemMetadataMap, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch(itemType, props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch(itemType, props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch = function findNearestItemBinarySearch(itemType, props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata(itemType, props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch = function findNearestItemExponentialSearch(itemType, props, instanceProps, index, offset) {\n  var itemCount = itemType === 'column' ? props.columnCount : props.rowCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata(itemType, props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch(itemType, props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getOffsetForIndexAndAlignment = function getOffsetForIndexAndAlignment(itemType, props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n  var size = itemType === 'column' ? props.width : props.height;\n  var itemMetadata = getItemMetadata(itemType, props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n  // To ensure it reflects actual measurements instead of just estimates.\n\n  var estimatedTotalSize = itemType === 'column' ? getEstimatedTotalWidth(props, instanceProps) : getEstimatedTotalHeight(props, instanceProps);\n  var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n  var minOffset = Math.max(0, itemMetadata.offset - size + scrollbarSize + itemMetadata.size);\n\n  if (align === 'smart') {\n    if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n      align = 'auto';\n    } else {\n      align = 'center';\n    }\n  }\n\n  switch (align) {\n    case 'start':\n      return maxOffset;\n\n    case 'end':\n      return minOffset;\n\n    case 'center':\n      return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n    case 'auto':\n    default:\n      if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n        return scrollOffset;\n      } else if (minOffset > maxOffset) {\n        // Because we only take into account the scrollbar size when calculating minOffset\n        // this value can be larger than maxOffset when at the end of the list\n        return minOffset;\n      } else if (scrollOffset < minOffset) {\n        return minOffset;\n      } else {\n        return maxOffset;\n      }\n\n  }\n};\n\nvar VariableSizeGrid = /*#__PURE__*/createGridComponent({\n  getColumnOffset: function getColumnOffset(props, index, instanceProps) {\n    return getItemMetadata('column', props, index, instanceProps).offset;\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(props, scrollLeft, instanceProps) {\n    return findNearestItem('column', props, instanceProps, scrollLeft);\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(props, startIndex, scrollLeft, instanceProps) {\n    var columnCount = props.columnCount,\n        width = props.width;\n    var itemMetadata = getItemMetadata('column', props, startIndex, instanceProps);\n    var maxOffset = scrollLeft + width;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < columnCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('column', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  getColumnWidth: function getColumnWidth(props, index, instanceProps) {\n    return instanceProps.columnMetadataMap[index].size;\n  },\n  getEstimatedTotalHeight: getEstimatedTotalHeight,\n  getEstimatedTotalWidth: getEstimatedTotalWidth,\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('column', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('row', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getRowOffset: function getRowOffset(props, index, instanceProps) {\n    return getItemMetadata('row', props, index, instanceProps).offset;\n  },\n  getRowHeight: function getRowHeight(props, index, instanceProps) {\n    return instanceProps.rowMetadataMap[index].size;\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(props, scrollTop, instanceProps) {\n    return findNearestItem('row', props, instanceProps, scrollTop);\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(props, startIndex, scrollTop, instanceProps) {\n    var rowCount = props.rowCount,\n        height = props.height;\n    var itemMetadata = getItemMetadata('row', props, startIndex, instanceProps);\n    var maxOffset = scrollTop + height;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < rowCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('row', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref5 = props,\n        estimatedColumnWidth = _ref5.estimatedColumnWidth,\n        estimatedRowHeight = _ref5.estimatedRowHeight;\n    var instanceProps = {\n      columnMetadataMap: {},\n      estimatedColumnWidth: estimatedColumnWidth || DEFAULT_ESTIMATED_ITEM_SIZE,\n      estimatedRowHeight: estimatedRowHeight || DEFAULT_ESTIMATED_ITEM_SIZE,\n      lastMeasuredColumnIndex: -1,\n      lastMeasuredRowIndex: -1,\n      rowMetadataMap: {}\n    };\n\n    instance.resetAfterColumnIndex = function (columnIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        columnIndex: columnIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterRowIndex = function (rowIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        rowIndex: rowIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterIndices = function (_ref6) {\n      var columnIndex = _ref6.columnIndex,\n          rowIndex = _ref6.rowIndex,\n          _ref6$shouldForceUpda = _ref6.shouldForceUpdate,\n          shouldForceUpdate = _ref6$shouldForceUpda === void 0 ? true : _ref6$shouldForceUpda;\n\n      if (typeof columnIndex === 'number') {\n        instanceProps.lastMeasuredColumnIndex = Math.min(instanceProps.lastMeasuredColumnIndex, columnIndex - 1);\n      }\n\n      if (typeof rowIndex === 'number') {\n        instanceProps.lastMeasuredRowIndex = Math.min(instanceProps.lastMeasuredRowIndex, rowIndex - 1);\n      } // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref7) {\n    var columnWidth = _ref7.columnWidth,\n        rowHeight = _ref7.rowHeight;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof columnWidth !== 'function') {\n        throw Error('An invalid \"columnWidth\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (columnWidth === null ? 'null' : typeof columnWidth) + \"\\\" was specified.\"));\n      } else if (typeof rowHeight !== 'function') {\n        throw Error('An invalid \"rowHeight\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (rowHeight === null ? 'null' : typeof rowHeight) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL$1 = 150;\n\nvar defaultItemKey$1 = function defaultItemKey(index, data) {\n  return index;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsDirection = null;\nvar devWarningsTagName$1 = null;\n\nif (process.env.NODE_ENV !== 'production') {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsDirection = /*#__PURE__*/new WeakSet();\n    devWarningsTagName$1 = /*#__PURE__*/new WeakSet();\n  }\n}\n\nfunction createListComponent(_ref) {\n  var _class;\n\n  var getItemOffset = _ref.getItemOffset,\n      getEstimatedTotalSize = _ref.getEstimatedTotalSize,\n      getItemSize = _ref.getItemSize,\n      getOffsetForIndexAndAlignment = _ref.getOffsetForIndexAndAlignment,\n      getStartIndexForOffset = _ref.getStartIndexForOffset,\n      getStopIndexForStartIndex = _ref.getStopIndexForStartIndex,\n      initInstanceProps = _ref.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref.validateProps;\n  return _class = /*#__PURE__*/function (_PureComponent) {\n    _inheritsLoose(List, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function List(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, _assertThisInitialized(_this));\n      _this._outerRef = void 0;\n      _this._resetIsScrollingTimeoutId = null;\n      _this.state = {\n        instance: _assertThisInitialized(_this),\n        isScrolling: false,\n        scrollDirection: 'forward',\n        scrollOffset: typeof _this.props.initialScrollOffset === 'number' ? _this.props.initialScrollOffset : 0,\n        scrollUpdateWasRequested: false\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = memoizeOne(function (overscanStartIndex, overscanStopIndex, visibleStartIndex, visibleStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanStartIndex: overscanStartIndex,\n          overscanStopIndex: overscanStopIndex,\n          visibleStartIndex: visibleStartIndex,\n          visibleStopIndex: visibleStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = memoizeOne(function (scrollDirection, scrollOffset, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          scrollDirection: scrollDirection,\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (index) {\n        var _this$props = _this.props,\n            direction = _this$props.direction,\n            itemSize = _this$props.itemSize,\n            layout = _this$props.layout;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && itemSize, shouldResetStyleCacheOnItemSizeChange && layout, shouldResetStyleCacheOnItemSizeChange && direction);\n\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(index)) {\n          style = itemStyleCache[index];\n        } else {\n          var _offset = getItemOffset(_this.props, index, _this._instanceProps);\n\n          var size = getItemSize(_this.props, index, _this._instanceProps); // TODO Deprecate direction \"horizontal\"\n\n          var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n          var isRtl = direction === 'rtl';\n          var offsetHorizontal = isHorizontal ? _offset : 0;\n          itemStyleCache[index] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : offsetHorizontal,\n            right: isRtl ? offsetHorizontal : undefined,\n            top: !isHorizontal ? _offset : 0,\n            height: !isHorizontal ? size : '100%',\n            width: isHorizontal ? size : '100%'\n          };\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = memoizeOne(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScrollHorizontal = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollLeft) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction;\n          var scrollOffset = scrollLeft;\n\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n            // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                scrollOffset = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                scrollOffset = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          scrollOffset = Math.max(0, Math.min(scrollOffset, scrollWidth - clientWidth));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._onScrollVertical = function (event) {\n        var _event$currentTarget2 = event.currentTarget,\n            clientHeight = _event$currentTarget2.clientHeight,\n            scrollHeight = _event$currentTarget2.scrollHeight,\n            scrollTop = _event$currentTarget2.scrollTop;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          var scrollOffset = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL$1);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1, null);\n        });\n      };\n\n      return _this;\n    }\n\n    List.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps$1(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = List.prototype;\n\n    _proto.scrollTo = function scrollTo(scrollOffset) {\n      scrollOffset = Math.max(0, scrollOffset);\n      this.setState(function (prevState) {\n        if (prevState.scrollOffset === scrollOffset) {\n          return null;\n        }\n\n        return {\n          scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: true\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(index, align) {\n      if (align === void 0) {\n        align = 'auto';\n      }\n\n      var _this$props2 = this.props,\n          itemCount = _this$props2.itemCount,\n          layout = _this$props2.layout;\n      var scrollOffset = this.state.scrollOffset;\n      index = Math.max(0, Math.min(index, itemCount - 1)); // The scrollbar size should be considered when scrolling an item into view, to ensure it's fully visible.\n      // But we only need to account for its size when it's actually visible.\n      // This is an edge case for lists; normally they only scroll in the dominant direction.\n\n      var scrollbarSize = 0;\n\n      if (this._outerRef) {\n        var outerRef = this._outerRef;\n\n        if (layout === 'vertical') {\n          scrollbarSize = outerRef.scrollWidth > outerRef.clientWidth ? getScrollbarSize() : 0;\n        } else {\n          scrollbarSize = outerRef.scrollHeight > outerRef.clientHeight ? getScrollbarSize() : 0;\n        }\n      }\n\n      this.scrollTo(getOffsetForIndexAndAlignment(this.props, index, align, scrollOffset, this._instanceProps, scrollbarSize));\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props3 = this.props,\n          direction = _this$props3.direction,\n          initialScrollOffset = _this$props3.initialScrollOffset,\n          layout = _this$props3.layout;\n\n      if (typeof initialScrollOffset === 'number' && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          outerRef.scrollLeft = initialScrollOffset;\n        } else {\n          outerRef.scrollTop = initialScrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var _this$props4 = this.props,\n          direction = _this$props4.direction,\n          layout = _this$props4.layout;\n      var _this$state = this.state,\n          scrollOffset = _this$state.scrollOffset,\n          scrollUpdateWasRequested = _this$state.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // So we need to determine which browser behavior we're dealing with, and mimic it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                outerRef.scrollLeft = -scrollOffset;\n                break;\n\n              case 'positive-ascending':\n                outerRef.scrollLeft = scrollOffset;\n                break;\n\n              default:\n                var clientWidth = outerRef.clientWidth,\n                    scrollWidth = outerRef.scrollWidth;\n                outerRef.scrollLeft = scrollWidth - clientWidth - scrollOffset;\n                break;\n            }\n          } else {\n            outerRef.scrollLeft = scrollOffset;\n          }\n        } else {\n          outerRef.scrollTop = scrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props5 = this.props,\n          children = _this$props5.children,\n          className = _this$props5.className,\n          direction = _this$props5.direction,\n          height = _this$props5.height,\n          innerRef = _this$props5.innerRef,\n          innerElementType = _this$props5.innerElementType,\n          innerTagName = _this$props5.innerTagName,\n          itemCount = _this$props5.itemCount,\n          itemData = _this$props5.itemData,\n          _this$props5$itemKey = _this$props5.itemKey,\n          itemKey = _this$props5$itemKey === void 0 ? defaultItemKey$1 : _this$props5$itemKey,\n          layout = _this$props5.layout,\n          outerElementType = _this$props5.outerElementType,\n          outerTagName = _this$props5.outerTagName,\n          style = _this$props5.style,\n          useIsScrolling = _this$props5.useIsScrolling,\n          width = _this$props5.width;\n      var isScrolling = this.state.isScrolling; // TODO Deprecate direction \"horizontal\"\n\n      var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n      var onScroll = isHorizontal ? this._onScrollHorizontal : this._onScrollVertical;\n\n      var _this$_getRangeToRend = this._getRangeToRender(),\n          startIndex = _this$_getRangeToRend[0],\n          stopIndex = _this$_getRangeToRend[1];\n\n      var items = [];\n\n      if (itemCount > 0) {\n        for (var _index = startIndex; _index <= stopIndex; _index++) {\n          items.push(createElement(children, {\n            data: itemData,\n            key: itemKey(_index, itemData),\n            index: _index,\n            isScrolling: useIsScrolling ? isScrolling : undefined,\n            style: this._getItemStyle(_index)\n          }));\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalSize = getEstimatedTotalSize(this.props, this._instanceProps);\n      return createElement(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: onScroll,\n        ref: this._outerRefSetter,\n        style: _extends({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, createElement(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: isHorizontal ? '100%' : estimatedTotalSize,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: isHorizontal ? estimatedTotalSize : '100%'\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      if (typeof this.props.onItemsRendered === 'function') {\n        var itemCount = this.props.itemCount;\n\n        if (itemCount > 0) {\n          var _this$_getRangeToRend2 = this._getRangeToRender(),\n              _overscanStartIndex = _this$_getRangeToRend2[0],\n              _overscanStopIndex = _this$_getRangeToRend2[1],\n              _visibleStartIndex = _this$_getRangeToRend2[2],\n              _visibleStopIndex = _this$_getRangeToRend2[3];\n\n          this._callOnItemsRendered(_overscanStartIndex, _overscanStopIndex, _visibleStartIndex, _visibleStopIndex);\n        }\n      }\n\n      if (typeof this.props.onScroll === 'function') {\n        var _this$state2 = this.state,\n            _scrollDirection = _this$state2.scrollDirection,\n            _scrollOffset = _this$state2.scrollOffset,\n            _scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n        this._callOnScroll(_scrollDirection, _scrollOffset, _scrollUpdateWasRequested);\n      }\n    } // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n    ;\n\n    _proto._getRangeToRender = function _getRangeToRender() {\n      var _this$props6 = this.props,\n          itemCount = _this$props6.itemCount,\n          overscanCount = _this$props6.overscanCount;\n      var _this$state3 = this.state,\n          isScrolling = _this$state3.isScrolling,\n          scrollDirection = _this$state3.scrollDirection,\n          scrollOffset = _this$state3.scrollOffset;\n\n      if (itemCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getStartIndexForOffset(this.props, scrollOffset, this._instanceProps);\n      var stopIndex = getStopIndexForStartIndex(this.props, startIndex, scrollOffset, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || scrollDirection === 'backward' ? Math.max(1, overscanCount) : 1;\n      var overscanForward = !isScrolling || scrollDirection === 'forward' ? Math.max(1, overscanCount) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(itemCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return List;\n  }(PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    layout: 'vertical',\n    overscanCount: 2,\n    useIsScrolling: false\n  }, _class;\n} // NOTE: I considered further wrapping individual items with a pure ListItem component.\n// This would avoid ever calling the render function for the same index more than once,\n// But it would also add the overhead of a lot of components/fibers.\n// I assume people already do this (render function returning a class component),\n// So my doing it would just unnecessarily double the wrappers.\n\nvar validateSharedProps$1 = function validateSharedProps(_ref2, _ref3) {\n  var children = _ref2.children,\n      direction = _ref2.direction,\n      height = _ref2.height,\n      layout = _ref2.layout,\n      innerTagName = _ref2.innerTagName,\n      outerTagName = _ref2.outerTagName,\n      width = _ref2.width;\n  var instance = _ref3.instance;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName$1 && !devWarningsTagName$1.has(instance)) {\n        devWarningsTagName$1.add(instance);\n        console.warn('The innerTagName and outerTagName props have been deprecated. ' + 'Please use the innerElementType and outerElementType props instead.');\n      }\n    } // TODO Deprecate direction \"horizontal\"\n\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n\n    switch (direction) {\n      case 'horizontal':\n      case 'vertical':\n        if (devWarningsDirection && !devWarningsDirection.has(instance)) {\n          devWarningsDirection.add(instance);\n          console.warn('The direction prop should be either \"ltr\" (default) or \"rtl\". ' + 'Please use the layout prop to specify \"vertical\" (default) or \"horizontal\" orientation.');\n        }\n\n        break;\n\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"direction\" prop has been specified. ' + 'Value should be either \"ltr\" or \"rtl\". ' + (\"\\\"\" + direction + \"\\\" was specified.\"));\n    }\n\n    switch (layout) {\n      case 'horizontal':\n      case 'vertical':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"layout\" prop has been specified. ' + 'Value should be either \"horizontal\" or \"vertical\". ' + (\"\\\"\" + layout + \"\\\" was specified.\"));\n    }\n\n    if (children == null) {\n      throw Error('An invalid \"children\" prop has been specified. ' + 'Value should be a React component. ' + (\"\\\"\" + (children === null ? 'null' : typeof children) + \"\\\" was specified.\"));\n    }\n\n    if (isHorizontal && typeof width !== 'number') {\n      throw Error('An invalid \"width\" prop has been specified. ' + 'Horizontal lists must specify a number for width. ' + (\"\\\"\" + (width === null ? 'null' : typeof width) + \"\\\" was specified.\"));\n    } else if (!isHorizontal && typeof height !== 'number') {\n      throw Error('An invalid \"height\" prop has been specified. ' + 'Vertical lists must specify a number for height. ' + (\"\\\"\" + (height === null ? 'null' : typeof height) + \"\\\" was specified.\"));\n    }\n  }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE$1 = 50;\n\nvar getItemMetadata$1 = function getItemMetadata(props, index, instanceProps) {\n  var _ref = props,\n      itemSize = _ref.itemSize;\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    instanceProps.lastMeasuredIndex = index;\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem$1 = function findNearestItem(props, instanceProps, offset) {\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch$1(props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch$1(props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch$1 = function findNearestItemBinarySearch(props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata$1(props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch$1 = function findNearestItemExponentialSearch(props, instanceProps, index, offset) {\n  var itemCount = props.itemCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata$1(props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch$1(props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getEstimatedTotalSize = function getEstimatedTotalSize(_ref2, _ref3) {\n  var itemCount = _ref2.itemCount;\n  var itemMetadataMap = _ref3.itemMetadataMap,\n      estimatedItemSize = _ref3.estimatedItemSize,\n      lastMeasuredIndex = _ref3.lastMeasuredIndex;\n  var totalSizeOfMeasuredItems = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredIndex >= itemCount) {\n    lastMeasuredIndex = itemCount - 1;\n  }\n\n  if (lastMeasuredIndex >= 0) {\n    var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n    totalSizeOfMeasuredItems = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = itemCount - lastMeasuredIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedItemSize;\n  return totalSizeOfMeasuredItems + totalSizeOfUnmeasuredItems;\n};\n\nvar VariableSizeList = /*#__PURE__*/createListComponent({\n  getItemOffset: function getItemOffset(props, index, instanceProps) {\n    return getItemMetadata$1(props, index, instanceProps).offset;\n  },\n  getItemSize: function getItemSize(props, index, instanceProps) {\n    return instanceProps.itemMetadataMap[index].size;\n  },\n  getEstimatedTotalSize: getEstimatedTotalSize,\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    var direction = props.direction,\n        height = props.height,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n    // To ensure it reflects actual measurements instead of just estimates.\n\n    var estimatedTotalSize = getEstimatedTotalSize(props, instanceProps);\n    var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n    var minOffset = Math.max(0, itemMetadata.offset - size + itemMetadata.size + scrollbarSize);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(props, offset, instanceProps) {\n    return findNearestItem$1(props, instanceProps, offset);\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(props, startIndex, scrollOffset, instanceProps) {\n    var direction = props.direction,\n        height = props.height,\n        itemCount = props.itemCount,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, startIndex, instanceProps);\n    var maxOffset = scrollOffset + size;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < itemCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata$1(props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref4 = props,\n        estimatedItemSize = _ref4.estimatedItemSize;\n    var instanceProps = {\n      itemMetadataMap: {},\n      estimatedItemSize: estimatedItemSize || DEFAULT_ESTIMATED_ITEM_SIZE$1,\n      lastMeasuredIndex: -1\n    };\n\n    instance.resetAfterIndex = function (index, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instanceProps.lastMeasuredIndex = Math.min(instanceProps.lastMeasuredIndex, index - 1); // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref5) {\n    var itemSize = _ref5.itemSize;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'function') {\n        throw Error('An invalid \"itemSize\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (itemSize === null ? 'null' : typeof itemSize) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar FixedSizeGrid = /*#__PURE__*/createGridComponent({\n  getColumnOffset: function getColumnOffset(_ref, index) {\n    var columnWidth = _ref.columnWidth;\n    return index * columnWidth;\n  },\n  getColumnWidth: function getColumnWidth(_ref2, index) {\n    var columnWidth = _ref2.columnWidth;\n    return columnWidth;\n  },\n  getRowOffset: function getRowOffset(_ref3, index) {\n    var rowHeight = _ref3.rowHeight;\n    return index * rowHeight;\n  },\n  getRowHeight: function getRowHeight(_ref4, index) {\n    var rowHeight = _ref4.rowHeight;\n    return rowHeight;\n  },\n  getEstimatedTotalHeight: function getEstimatedTotalHeight(_ref5) {\n    var rowCount = _ref5.rowCount,\n        rowHeight = _ref5.rowHeight;\n    return rowHeight * rowCount;\n  },\n  getEstimatedTotalWidth: function getEstimatedTotalWidth(_ref6) {\n    var columnCount = _ref6.columnCount,\n        columnWidth = _ref6.columnWidth;\n    return columnWidth * columnCount;\n  },\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(_ref7, columnIndex, align, scrollLeft, instanceProps, scrollbarSize) {\n    var columnCount = _ref7.columnCount,\n        columnWidth = _ref7.columnWidth,\n        width = _ref7.width;\n    var lastColumnOffset = Math.max(0, columnCount * columnWidth - width);\n    var maxOffset = Math.min(lastColumnOffset, columnIndex * columnWidth);\n    var minOffset = Math.max(0, columnIndex * columnWidth - width + scrollbarSize + columnWidth);\n\n    if (align === 'smart') {\n      if (scrollLeft >= minOffset - width && scrollLeft <= maxOffset + width) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(width / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastColumnOffset + Math.floor(width / 2)) {\n          return lastColumnOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollLeft >= minOffset && scrollLeft <= maxOffset) {\n          return scrollLeft;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollLeft < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(_ref8, rowIndex, align, scrollTop, instanceProps, scrollbarSize) {\n    var rowHeight = _ref8.rowHeight,\n        height = _ref8.height,\n        rowCount = _ref8.rowCount;\n    var lastRowOffset = Math.max(0, rowCount * rowHeight - height);\n    var maxOffset = Math.min(lastRowOffset, rowIndex * rowHeight);\n    var minOffset = Math.max(0, rowIndex * rowHeight - height + scrollbarSize + rowHeight);\n\n    if (align === 'smart') {\n      if (scrollTop >= minOffset - height && scrollTop <= maxOffset + height) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(height / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastRowOffset + Math.floor(height / 2)) {\n          return lastRowOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollTop >= minOffset && scrollTop <= maxOffset) {\n          return scrollTop;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollTop < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(_ref9, scrollLeft) {\n    var columnWidth = _ref9.columnWidth,\n        columnCount = _ref9.columnCount;\n    return Math.max(0, Math.min(columnCount - 1, Math.floor(scrollLeft / columnWidth)));\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(_ref10, startIndex, scrollLeft) {\n    var columnWidth = _ref10.columnWidth,\n        columnCount = _ref10.columnCount,\n        width = _ref10.width;\n    var left = startIndex * columnWidth;\n    var numVisibleColumns = Math.ceil((width + scrollLeft - left) / columnWidth);\n    return Math.max(0, Math.min(columnCount - 1, startIndex + numVisibleColumns - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(_ref11, scrollTop) {\n    var rowHeight = _ref11.rowHeight,\n        rowCount = _ref11.rowCount;\n    return Math.max(0, Math.min(rowCount - 1, Math.floor(scrollTop / rowHeight)));\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(_ref12, startIndex, scrollTop) {\n    var rowHeight = _ref12.rowHeight,\n        rowCount = _ref12.rowCount,\n        height = _ref12.height;\n    var top = startIndex * rowHeight;\n    var numVisibleRows = Math.ceil((height + scrollTop - top) / rowHeight);\n    return Math.max(0, Math.min(rowCount - 1, startIndex + numVisibleRows - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref13) {\n    var columnWidth = _ref13.columnWidth,\n        rowHeight = _ref13.rowHeight;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof columnWidth !== 'number') {\n        throw Error('An invalid \"columnWidth\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (columnWidth === null ? 'null' : typeof columnWidth) + \"\\\" was specified.\"));\n      }\n\n      if (typeof rowHeight !== 'number') {\n        throw Error('An invalid \"rowHeight\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (rowHeight === null ? 'null' : typeof rowHeight) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar FixedSizeList = /*#__PURE__*/createListComponent({\n  getItemOffset: function getItemOffset(_ref, index) {\n    var itemSize = _ref.itemSize;\n    return index * itemSize;\n  },\n  getItemSize: function getItemSize(_ref2, index) {\n    var itemSize = _ref2.itemSize;\n    return itemSize;\n  },\n  getEstimatedTotalSize: function getEstimatedTotalSize(_ref3) {\n    var itemCount = _ref3.itemCount,\n        itemSize = _ref3.itemSize;\n    return itemSize * itemCount;\n  },\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(_ref4, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    var direction = _ref4.direction,\n        height = _ref4.height,\n        itemCount = _ref4.itemCount,\n        itemSize = _ref4.itemSize,\n        layout = _ref4.layout,\n        width = _ref4.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var lastItemOffset = Math.max(0, itemCount * itemSize - size);\n    var maxOffset = Math.min(lastItemOffset, index * itemSize);\n    var minOffset = Math.max(0, index * itemSize - size + itemSize + scrollbarSize);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        {\n          // \"Centered\" offset is usually the average of the min and max.\n          // But near the edges of the list, this doesn't hold true.\n          var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n          if (middleOffset < Math.ceil(size / 2)) {\n            return 0; // near the beginning\n          } else if (middleOffset > lastItemOffset + Math.floor(size / 2)) {\n            return lastItemOffset; // near the end\n          } else {\n            return middleOffset;\n          }\n        }\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(_ref5, offset) {\n    var itemCount = _ref5.itemCount,\n        itemSize = _ref5.itemSize;\n    return Math.max(0, Math.min(itemCount - 1, Math.floor(offset / itemSize)));\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(_ref6, startIndex, scrollOffset) {\n    var direction = _ref6.direction,\n        height = _ref6.height,\n        itemCount = _ref6.itemCount,\n        itemSize = _ref6.itemSize,\n        layout = _ref6.layout,\n        width = _ref6.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var offset = startIndex * itemSize;\n    var size = isHorizontal ? width : height;\n    var numVisibleItems = Math.ceil((size + scrollOffset - offset) / itemSize);\n    return Math.max(0, Math.min(itemCount - 1, startIndex + numVisibleItems - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref7) {\n    var itemSize = _ref7.itemSize;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'number') {\n        throw Error('An invalid \"itemSize\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (itemSize === null ? 'null' : typeof itemSize) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nfunction shallowDiffers(prev, next) {\n  for (var attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n\n  for (var _attribute in next) {\n    if (prev[_attribute] !== next[_attribute]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar _excluded = [\"style\"],\n    _excluded2 = [\"style\"];\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-api.html#reactmemo\n\nfunction areEqual(prevProps, nextProps) {\n  var prevStyle = prevProps.style,\n      prevRest = _objectWithoutPropertiesLoose(prevProps, _excluded);\n\n  var nextStyle = nextProps.style,\n      nextRest = _objectWithoutPropertiesLoose(nextProps, _excluded2);\n\n  return !shallowDiffers(prevStyle, nextStyle) && !shallowDiffers(prevRest, nextRest);\n}\n\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-component.html#shouldcomponentupdate\n\nfunction shouldComponentUpdate(nextProps, nextState) {\n  return !areEqual(this.props, nextProps) || shallowDiffers(this.state, nextState);\n}\n\nexport { FixedSizeGrid, FixedSizeList, VariableSizeGrid, VariableSizeList, areEqual, shouldComponentUpdate };\n//# sourceMappingURL=index.esm.js.map\n","\"use client\";\n\n// packages/react/avatar/src/Avatar.tsx\nimport * as React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar AVATAR_NAME = \"Avatar\";\nvar [createAvatarContext, createAvatarScope] = createContextScope(AVATAR_NAME);\nvar [AvatarProvider, useAvatarContext] = createAvatarContext(AVATAR_NAME);\nvar Avatar = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, ...avatarProps } = props;\n    const [imageLoadingStatus, setImageLoadingStatus] = React.useState(\"idle\");\n    return /* @__PURE__ */ jsx(\n      AvatarProvider,\n      {\n        scope: __scopeAvatar,\n        imageLoadingStatus,\n        onImageLoadingStatusChange: setImageLoadingStatus,\n        children: /* @__PURE__ */ jsx(Primitive.span, { ...avatarProps, ref: forwardedRef })\n      }\n    );\n  }\n);\nAvatar.displayName = AVATAR_NAME;\nvar IMAGE_NAME = \"AvatarImage\";\nvar AvatarImage = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, src, onLoadingStatusChange = () => {\n    }, ...imageProps } = props;\n    const context = useAvatarContext(IMAGE_NAME, __scopeAvatar);\n    const imageLoadingStatus = useImageLoadingStatus(src, imageProps.referrerPolicy);\n    const handleLoadingStatusChange = useCallbackRef((status) => {\n      onLoadingStatusChange(status);\n      context.onImageLoadingStatusChange(status);\n    });\n    useLayoutEffect(() => {\n      if (imageLoadingStatus !== \"idle\") {\n        handleLoadingStatusChange(imageLoadingStatus);\n      }\n    }, [imageLoadingStatus, handleLoadingStatusChange]);\n    return imageLoadingStatus === \"loaded\" ? /* @__PURE__ */ jsx(Primitive.img, { ...imageProps, ref: forwardedRef, src }) : null;\n  }\n);\nAvatarImage.displayName = IMAGE_NAME;\nvar FALLBACK_NAME = \"AvatarFallback\";\nvar AvatarFallback = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, delayMs, ...fallbackProps } = props;\n    const context = useAvatarContext(FALLBACK_NAME, __scopeAvatar);\n    const [canRender, setCanRender] = React.useState(delayMs === void 0);\n    React.useEffect(() => {\n      if (delayMs !== void 0) {\n        const timerId = window.setTimeout(() => setCanRender(true), delayMs);\n        return () => window.clearTimeout(timerId);\n      }\n    }, [delayMs]);\n    return canRender && context.imageLoadingStatus !== \"loaded\" ? /* @__PURE__ */ jsx(Primitive.span, { ...fallbackProps, ref: forwardedRef }) : null;\n  }\n);\nAvatarFallback.displayName = FALLBACK_NAME;\nfunction useImageLoadingStatus(src, referrerPolicy) {\n  const [loadingStatus, setLoadingStatus] = React.useState(\"idle\");\n  useLayoutEffect(() => {\n    if (!src) {\n      setLoadingStatus(\"error\");\n      return;\n    }\n    let isMounted = true;\n    const image = new window.Image();\n    const updateStatus = (status) => () => {\n      if (!isMounted) return;\n      setLoadingStatus(status);\n    };\n    setLoadingStatus(\"loading\");\n    image.onload = updateStatus(\"loaded\");\n    image.onerror = updateStatus(\"error\");\n    image.src = src;\n    if (referrerPolicy) {\n      image.referrerPolicy = referrerPolicy;\n    }\n    return () => {\n      isMounted = false;\n    };\n  }, [src, referrerPolicy]);\n  return loadingStatus;\n}\nvar Root = Avatar;\nvar Image = AvatarImage;\nvar Fallback = AvatarFallback;\nexport {\n  Avatar,\n  AvatarFallback,\n  AvatarImage,\n  Fallback,\n  Image,\n  Root,\n  createAvatarScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square flex object-cover w-full h-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","\"use client\";\n\n// packages/react/dialog/src/Dialog.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContext, createContextScope } from \"@radix-ui/react-context\";\nimport { useId } from \"@radix-ui/react-id\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { FocusScope } from \"@radix-ui/react-focus-scope\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useFocusGuards } from \"@radix-ui/react-focus-guards\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { hideOthers } from \"aria-hidden\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar DIALOG_NAME = \"Dialog\";\nvar [createDialogContext, createDialogScope] = createContextScope(DIALOG_NAME);\nvar [DialogProvider, useDialogContext] = createDialogContext(DIALOG_NAME);\nvar Dialog = (props) => {\n  const {\n    __scopeDialog,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = true\n  } = props;\n  const triggerRef = React.useRef(null);\n  const contentRef = React.useRef(null);\n  const [open = false, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen,\n    onChange: onOpenChange\n  });\n  return /* @__PURE__ */ jsx(\n    DialogProvider,\n    {\n      scope: __scopeDialog,\n      triggerRef,\n      contentRef,\n      contentId: useId(),\n      titleId: useId(),\n      descriptionId: useId(),\n      open,\n      onOpenChange: setOpen,\n      onOpenToggle: React.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen]),\n      modal,\n      children\n    }\n  );\n};\nDialog.displayName = DIALOG_NAME;\nvar TRIGGER_NAME = \"DialogTrigger\";\nvar DialogTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, ...triggerProps } = props;\n    const context = useDialogContext(TRIGGER_NAME, __scopeDialog);\n    const composedTriggerRef = useComposedRefs(forwardedRef, context.triggerRef);\n    return /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        \"aria-haspopup\": \"dialog\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": context.contentId,\n        \"data-state\": getState(context.open),\n        ...triggerProps,\n        ref: composedTriggerRef,\n        onClick: composeEventHandlers(props.onClick, context.onOpenToggle)\n      }\n    );\n  }\n);\nDialogTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"DialogPortal\";\nvar [PortalProvider, usePortalContext] = createDialogContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar DialogPortal = (props) => {\n  const { __scopeDialog, forceMount, children, container } = props;\n  const context = useDialogContext(PORTAL_NAME, __scopeDialog);\n  return /* @__PURE__ */ jsx(PortalProvider, { scope: __scopeDialog, forceMount, children: React.Children.map(children, (child) => /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, container, children: child }) })) });\n};\nDialogPortal.displayName = PORTAL_NAME;\nvar OVERLAY_NAME = \"DialogOverlay\";\nvar DialogOverlay = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(OVERLAY_NAME, props.__scopeDialog);\n    const { forceMount = portalContext.forceMount, ...overlayProps } = props;\n    const context = useDialogContext(OVERLAY_NAME, props.__scopeDialog);\n    return context.modal ? /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(DialogOverlayImpl, { ...overlayProps, ref: forwardedRef }) }) : null;\n  }\n);\nDialogOverlay.displayName = OVERLAY_NAME;\nvar DialogOverlayImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, ...overlayProps } = props;\n    const context = useDialogContext(OVERLAY_NAME, __scopeDialog);\n    return (\n      // Make sure `Content` is scrollable even when it doesn't live inside `RemoveScroll`\n      // ie. when `Overlay` and `Content` are siblings\n      /* @__PURE__ */ jsx(RemoveScroll, { as: Slot, allowPinchZoom: true, shards: [context.contentRef], children: /* @__PURE__ */ jsx(\n        Primitive.div,\n        {\n          \"data-state\": getState(context.open),\n          ...overlayProps,\n          ref: forwardedRef,\n          style: { pointerEvents: \"auto\", ...overlayProps.style }\n        }\n      ) })\n    );\n  }\n);\nvar CONTENT_NAME = \"DialogContent\";\nvar DialogContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeDialog);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = useDialogContext(CONTENT_NAME, props.__scopeDialog);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: context.modal ? /* @__PURE__ */ jsx(DialogContentModal, { ...contentProps, ref: forwardedRef }) : /* @__PURE__ */ jsx(DialogContentNonModal, { ...contentProps, ref: forwardedRef }) });\n  }\n);\nDialogContent.displayName = CONTENT_NAME;\nvar DialogContentModal = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useDialogContext(CONTENT_NAME, props.__scopeDialog);\n    const contentRef = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, context.contentRef, contentRef);\n    React.useEffect(() => {\n      const content = contentRef.current;\n      if (content) return hideOthers(content);\n    }, []);\n    return /* @__PURE__ */ jsx(\n      DialogContentImpl,\n      {\n        ...props,\n        ref: composedRefs,\n        trapFocus: context.open,\n        disableOutsidePointerEvents: true,\n        onCloseAutoFocus: composeEventHandlers(props.onCloseAutoFocus, (event) => {\n          event.preventDefault();\n          context.triggerRef.current?.focus();\n        }),\n        onPointerDownOutside: composeEventHandlers(props.onPointerDownOutside, (event) => {\n          const originalEvent = event.detail.originalEvent;\n          const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n          const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n          if (isRightClick) event.preventDefault();\n        }),\n        onFocusOutside: composeEventHandlers(\n          props.onFocusOutside,\n          (event) => event.preventDefault()\n        )\n      }\n    );\n  }\n);\nvar DialogContentNonModal = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useDialogContext(CONTENT_NAME, props.__scopeDialog);\n    const hasInteractedOutsideRef = React.useRef(false);\n    const hasPointerDownOutsideRef = React.useRef(false);\n    return /* @__PURE__ */ jsx(\n      DialogContentImpl,\n      {\n        ...props,\n        ref: forwardedRef,\n        trapFocus: false,\n        disableOutsidePointerEvents: false,\n        onCloseAutoFocus: (event) => {\n          props.onCloseAutoFocus?.(event);\n          if (!event.defaultPrevented) {\n            if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n            event.preventDefault();\n          }\n          hasInteractedOutsideRef.current = false;\n          hasPointerDownOutsideRef.current = false;\n        },\n        onInteractOutside: (event) => {\n          props.onInteractOutside?.(event);\n          if (!event.defaultPrevented) {\n            hasInteractedOutsideRef.current = true;\n            if (event.detail.originalEvent.type === \"pointerdown\") {\n              hasPointerDownOutsideRef.current = true;\n            }\n          }\n          const target = event.target;\n          const targetIsTrigger = context.triggerRef.current?.contains(target);\n          if (targetIsTrigger) event.preventDefault();\n          if (event.detail.originalEvent.type === \"focusin\" && hasPointerDownOutsideRef.current) {\n            event.preventDefault();\n          }\n        }\n      }\n    );\n  }\n);\nvar DialogContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, trapFocus, onOpenAutoFocus, onCloseAutoFocus, ...contentProps } = props;\n    const context = useDialogContext(CONTENT_NAME, __scopeDialog);\n    const contentRef = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef);\n    useFocusGuards();\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(\n        FocusScope,\n        {\n          asChild: true,\n          loop: true,\n          trapped: trapFocus,\n          onMountAutoFocus: onOpenAutoFocus,\n          onUnmountAutoFocus: onCloseAutoFocus,\n          children: /* @__PURE__ */ jsx(\n            DismissableLayer,\n            {\n              role: \"dialog\",\n              id: context.contentId,\n              \"aria-describedby\": context.descriptionId,\n              \"aria-labelledby\": context.titleId,\n              \"data-state\": getState(context.open),\n              ...contentProps,\n              ref: composedRefs,\n              onDismiss: () => context.onOpenChange(false)\n            }\n          )\n        }\n      ),\n      /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsx(TitleWarning, { titleId: context.titleId }),\n        /* @__PURE__ */ jsx(DescriptionWarning, { contentRef, descriptionId: context.descriptionId })\n      ] })\n    ] });\n  }\n);\nvar TITLE_NAME = \"DialogTitle\";\nvar DialogTitle = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, ...titleProps } = props;\n    const context = useDialogContext(TITLE_NAME, __scopeDialog);\n    return /* @__PURE__ */ jsx(Primitive.h2, { id: context.titleId, ...titleProps, ref: forwardedRef });\n  }\n);\nDialogTitle.displayName = TITLE_NAME;\nvar DESCRIPTION_NAME = \"DialogDescription\";\nvar DialogDescription = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, ...descriptionProps } = props;\n    const context = useDialogContext(DESCRIPTION_NAME, __scopeDialog);\n    return /* @__PURE__ */ jsx(Primitive.p, { id: context.descriptionId, ...descriptionProps, ref: forwardedRef });\n  }\n);\nDialogDescription.displayName = DESCRIPTION_NAME;\nvar CLOSE_NAME = \"DialogClose\";\nvar DialogClose = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, ...closeProps } = props;\n    const context = useDialogContext(CLOSE_NAME, __scopeDialog);\n    return /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        ...closeProps,\n        ref: forwardedRef,\n        onClick: composeEventHandlers(props.onClick, () => context.onOpenChange(false))\n      }\n    );\n  }\n);\nDialogClose.displayName = CLOSE_NAME;\nfunction getState(open) {\n  return open ? \"open\" : \"closed\";\n}\nvar TITLE_WARNING_NAME = \"DialogTitleWarning\";\nvar [WarningProvider, useWarningContext] = createContext(TITLE_WARNING_NAME, {\n  contentName: CONTENT_NAME,\n  titleName: TITLE_NAME,\n  docsSlug: \"dialog\"\n});\nvar TitleWarning = ({ titleId }) => {\n  const titleWarningContext = useWarningContext(TITLE_WARNING_NAME);\n  const MESSAGE = `\\`${titleWarningContext.contentName}\\` requires a \\`${titleWarningContext.titleName}\\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \\`${titleWarningContext.titleName}\\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${titleWarningContext.docsSlug}`;\n  React.useEffect(() => {\n    if (titleId) {\n      const hasTitle = document.getElementById(titleId);\n      if (!hasTitle) console.error(MESSAGE);\n    }\n  }, [MESSAGE, titleId]);\n  return null;\n};\nvar DESCRIPTION_WARNING_NAME = \"DialogDescriptionWarning\";\nvar DescriptionWarning = ({ contentRef, descriptionId }) => {\n  const descriptionWarningContext = useWarningContext(DESCRIPTION_WARNING_NAME);\n  const MESSAGE = `Warning: Missing \\`Description\\` or \\`aria-describedby={undefined}\\` for {${descriptionWarningContext.contentName}}.`;\n  React.useEffect(() => {\n    const describedById = contentRef.current?.getAttribute(\"aria-describedby\");\n    if (descriptionId && describedById) {\n      const hasDescription = document.getElementById(descriptionId);\n      if (!hasDescription) console.warn(MESSAGE);\n    }\n  }, [MESSAGE, contentRef, descriptionId]);\n  return null;\n};\nvar Root = Dialog;\nvar Trigger = DialogTrigger;\nvar Portal = DialogPortal;\nvar Overlay = DialogOverlay;\nvar Content = DialogContent;\nvar Title = DialogTitle;\nvar Description = DialogDescription;\nvar Close = DialogClose;\nexport {\n  Close,\n  Content,\n  Description,\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n  Overlay,\n  Portal,\n  Root,\n  Title,\n  Trigger,\n  WarningProvider,\n  createDialogScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"./button\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-30 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 backdrop-blur-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, close, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay onClick={e => { close(); e.stopPropagation() }} />\n    <DialogPrimitive.Content onClick={e => e.stopPropagation()}\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogClose asChild>\n        <Button variant=\"circular\" size=\"icon\"\n          onClick={e => e.stopPropagation()}\n          className=\"absolute top-4 right-4 p-2\"\n          aria-label=\"Close full screen image\"\n        >\n          <X className=\"h-6 w-6\" />\n        </Button>\n\n      </DialogClose>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","\n\nimport { useState, useCallback, useRef, useEffect } from \"react\"\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\nimport { Dialog, DialogClose, DialogContent, DialogDescription, DialogOverlay, DialogPortal, DialogTitle } from \"@/components/ui/dialog-custom\"\nimport { Instagram, X } from 'lucide-react'\nimport { Button } from \"./ui/button\"\nimport { Description } from \"@radix-ui/react-dialog\"\nimport { IllustrationPrompt } from \"./IllustrationPrompt\"\nimport { SongData } from \"@/types/types\"\n\ninterface IllustrationPopupProps {\n  avatarClassName: string\n  song: SongData\n}\n\nexport function IllustrationPopup({ avatarClassName, song }: IllustrationPopupProps) {\n  const [isOpen, setIsOpen] = useState(false);\n\n  return (\n    <>\n      <Avatar className={\"cursor-pointer \" + avatarClassName} onClick={(e) => { e.stopPropagation(); setIsOpen(true) }}>\n        <AvatarImage src={song.thumbnailURL()} alt={\"song illustration thumbnail\"} />\n        {/* <AvatarFallback><Instagram></AvatarFallback> */}\n      </Avatar>\n      <Dialog open={isOpen} onOpenChange={setIsOpen}>\n        <DialogTitle className=\"hidden\">Illustration image view</DialogTitle>\n        {/* DialogDescription is here just so that accessibility does not complain */}\n        <DialogDescription className=\"hidden\">Illustration</DialogDescription>\n        <DialogContent className=\" max-w-[512px] max-h-[calc(100vh)] h-fit rounded-lg backdrop-blur-sm p-0 avatar-modal-dialog overflow-clip content-radix bg-glass/50 gap-0 flex flex-col\"\n          close={() => setIsOpen(false)}\n        >\n          <div className=\"relative flex justify-center max-h-[512px] shadow-lg\">\n            <img\n              style={{ backgroundImage: `url(${song.thumbnailURL()})`, backgroundRepeat: \"no-repeat\", backgroundSize: \"cover\" }}\n              src={song.illustrationURL()}\n              width={512}\n              height={512}\n              className=\"object-scale-down z-50\"\n            />\n          </div>\n          <IllustrationPrompt song={song} show={isOpen} className={\"text-center text-white font-bold !items-center min-h-32 max-h-48 [@media(max-height:600px)]:!hidden\"} />\n        </DialogContent>\n      </Dialog>\n    </>\n  )\n}\n","\nimport { FlagOff } from 'lucide-react';\nimport { Avatar, AvatarFallback, AvatarImage } from './ui/avatar';\nconst language2iso = {\n    \"czech\": \"cz\",\n    \"english\": \"gb\",\n    \"german\": \"de\",\n    \"slovak\": \"sk\",\n    \"polish\": \"pl\",\n    \"spanish\": \"uy\",\n    \"romanian\": \"ro\",\n    \"finnish\": \"fi\",\n    \"estonian\": \"ee\",\n    \"french\": \"fr\",\n    \"italian\": \"it\",\n    \"portuguese\": \"br\",\n    \"icelandic\": \"is\",\n    \"all\": \"un\",\n    \"other\": \"un\",\n}\n\nfunction convert2flag(language: string): string {\n    language = language.toLowerCase()\n    if (language in language2iso) {\n        return \"https://flagcdn.com/\" + language2iso[language] + \".svg\";\n    } else if (language === \"russian\") {\n        return \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/Flag_of_Mordor.svg/800px-Flag_of_Mordor.svg.png\"\n    }\n    return \"\";\n}\n\nfunction LanguageFlag({ language }) {\n    return (\n        <Avatar className='w-6 h-6 shadow-black'>\n            <AvatarImage alt={language} src={convert2flag(language)} />\n            <AvatarFallback><FlagOff /></AvatarFallback>\n        </Avatar>\n    )\n}\n\nexport default LanguageFlag;","export default function CircularProgress({ value, maxValue, color = \"hsl(var(--primary))\", strokeWidth = 10 }) {\n    return (\n        <div className=\"block relative items-center justify-center h-10 w-10\">\n            <svg className=\"w-full h-full relative overflow-visible\" viewBox=\"0 0 100 100\">\n                <circle cx=\"50\" cy=\"50\" r=\"40\" fill=\"transparent\" stroke={\"#e5e7eb\"} strokeWidth={strokeWidth} />\n                <circle\n                    cx=\"50\"\n                    cy=\"50\"\n                    r=\"40\"\n                    className=\"transition-all !duration-500 progress\"\n                    fill=\"transparent\"\n                    transform=\"rotate(-90 50 50)\"\n                    stroke={color}\n                    strokeWidth={strokeWidth * 1.2}\n                    strokeDasharray=\"251.3\"\n                    strokeDashoffset={251.3 * (1 - value / maxValue)}\n                    strokeLinecap=\"round\"\n                    role=\"progressbar\" />\n            </svg>\n            <div className=\"absolute inset-0 flex items-center justify-center font-normal text-[0.65rem] text-muted-foreground\">\n                {value}\n            </div>\n        </div>\n    )\n}","import { IllustrationPopup } from \"@/components/IllustrationPopup\";\nimport LanguageFlag from \"@/components/LanguageFlag\";\nimport CircularProgress from \"@/components/ui/circular-progress\";\nimport {\n    useLinkClickHandler\n} from \"react-router-dom\";\nimport { SongData } from \"../../types/types\";\nimport { memo } from \"react\";\n\nconst MONTH_NAMES = [\n    'January', 'February', 'March', 'April', 'May', 'June',\n    'July', 'August', 'September', 'October', 'November', 'December'\n] as const;\n\ninterface VocalRangeIndicatorProps {\n    songRangeSemitones: number | undefined;\n    maxRange: number;\n}\n\nconst VocalRangeIndicator = memo(({ songRangeSemitones, maxRange }: VocalRangeIndicatorProps) => (\n    <CircularProgress value={songRangeSemitones || maxRange} maxValue={maxRange} />\n));\n\n\ninterface DateDisplayProps {\n    month: number;\n    year: number;\n}\n\nconst DateDisplay = memo(({ month, year }: DateDisplayProps) => (\n    <div className=\"basis-[13%] min-w-12 flex-col content-center justify-center hidden sm:flex text-center\">\n        <h3 className=\"text-xs opacity-70\">{MONTH_NAMES[month - 1]}</h3>\n        <h2 className=\"text-sm opacity-70\">{year}</h2>\n    </div>\n));\n\n\ninterface CapoDisplayProps {\n    capo: number;\n}\n\nconst CapoDisplay = memo(({ capo }: CapoDisplayProps) => (\n    <div className=\"basis-[13%] flex-shrink min-w-12 text-center content-center justify-center hidden lg:flex flex-col\">\n        <h2 className=\"text-xs opacity-70\">Capo</h2>\n        <h3 className=\"text-sm opacity-70\">{capo}</h3>\n    </div>\n));\n\ninterface SongInfoProps {\n    title: string;\n    artist: string;\n}\n\nconst SongInfo = memo(({ title, artist }: SongInfoProps) => (\n    <div className=\"flex-auto min-w-40 flex-col text-left content-center\">\n        <h2 className=\"text-sm font-bold truncate\">{title}</h2>\n        <h3 className=\"text-sm opacity-50 truncate\">{artist}</h3>\n    </div>\n));\n\n\ninterface SongRowProps {\n    song: SongData;\n    maxRange: number;\n}\n\n\nconst SongRow = memo(({ song, maxRange }: SongRowProps) => {\n    const handleClick = useLinkClickHandler(song.url(), {});\n\n    if (!song) {\n        console.error(\"Invalid song provided to SongRow\");\n        return (\n            <div className=\"h-[70px] flex items-center container max-w-2xl mx-auto px-2 sm:px-4 bg-white text-foreground\">\n                Invalid song\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"h-[70px] flex items-center container max-w-2xl mx-auto px-2 sm:px-4 song-row-wrapper\">\n            <div\n                className=\"flex h-14 min-w-72 w-full rounded-full song-row-bg-image\"\n                style={{ backgroundImage: `url(${song.thumbnailURL()})` }}\n                onClick={handleClick}\n            >\n                <div className=\"flex relative h-full w-full items-center rounded-full p-1 backdrop-blur-md song-row-bg-image shadow-black row-text-shadow\">\n                    <IllustrationPopup\n                        avatarClassName=\"absolute -left-0 top-0 bottom-0 m-auto song-avatar z-10 w-16 h-16 text-large\"\n                        song={song}\n                    />\n                    <div className=\"flex relative h-12 song-row w-full backdrop-blur-lg bg-glass/60 hover:bg-glass/90 rounded-full\">\n                        <div className=\"flex basis-[12%] min-w-[72px] rounded-l-full content-center justify-center relative\" />\n\n                        <SongInfo title={song.title} artist={song.artist} />\n\n                        <DateDisplay\n                            month={song.dateAdded.month}\n                            year={song.dateAdded.year}\n                        />\n\n                        <CapoDisplay capo={song.capo} />\n\n                        <div className=\"hidden basis-[13%] min-w-12 sm:flex content-center justify-center\">\n                            <div className=\"flex items-center\">\n                                <VocalRangeIndicator\n                                    songRangeSemitones={song.range.semitones}\n                                    maxRange={maxRange}\n                                />\n                            </div>\n                        </div>\n\n                        <div className=\"flex basis-1/12 min-w-12 items-center justify-end p-2\">\n                            <LanguageFlag language={song.language} />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n});\n\n\nexport default SongRow;","import * as React from \"react\";\n\nfunction isShallowEqual(object1, object2) {\n  const keys1 = Object.keys(object1);\n  const keys2 = Object.keys(object2);\n\n  if (keys1.length !== keys2.length) {\n    return false;\n  }\n\n  for (let key of keys1) {\n    if (object1[key] !== object2[key]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction isTouchEvent({ nativeEvent }) {\n  return window.TouchEvent\n    ? nativeEvent instanceof TouchEvent\n    : \"touches\" in nativeEvent;\n}\n\nfunction isMouseEvent(event) {\n  return event.nativeEvent instanceof MouseEvent;\n}\n\nfunction throttle(cb, ms) {\n  let lastTime = 0;\n  return () => {\n    const now = Date.now();\n    if (now - lastTime >= ms) {\n      cb();\n      lastTime = now;\n    }\n  };\n}\n\nfunction isPlainObject(value) {\n  return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n\nfunction dispatchStorageEvent(key, newValue) {\n  window.dispatchEvent(new StorageEvent(\"storage\", { key, newValue }));\n}\n\nexport function useBattery() {\n  const [state, setState] = React.useState({\n    supported: true,\n    loading: true,\n    level: null,\n    charging: null,\n    chargingTime: null,\n    dischargingTime: null,\n  });\n\n  React.useEffect(() => {\n    if (!navigator.getBattery) {\n      setState((s) => ({\n        ...s,\n        supported: false,\n        loading: false,\n      }));\n      return;\n    }\n\n    let battery = null;\n\n    const handleChange = () => {\n      setState({\n        supported: true,\n        loading: false,\n        level: battery.level,\n        charging: battery.charging,\n        chargingTime: battery.chargingTime,\n        dischargingTime: battery.dischargingTime,\n      });\n    };\n\n    navigator.getBattery().then((b) => {\n      battery = b;\n      handleChange();\n\n      b.addEventListener(\"levelchange\", handleChange);\n      b.addEventListener(\"chargingchange\", handleChange);\n      b.addEventListener(\"chargingtimechange\", handleChange);\n      b.addEventListener(\"dischargingtimechange\", handleChange);\n    });\n\n    return () => {\n      if (battery) {\n        battery.removeEventListener(\"levelchange\", handleChange);\n        battery.removeEventListener(\"chargingchange\", handleChange);\n        battery.removeEventListener(\"chargingtimechange\", handleChange);\n        battery.removeEventListener(\"dischargingtimechange\", handleChange);\n      }\n    };\n  }, []);\n\n  return state;\n}\n\nexport function useClickAway(cb) {\n  const ref = React.useRef(null);\n  const refCb = React.useRef(cb);\n\n  React.useLayoutEffect(() => {\n    refCb.current = cb;\n  });\n\n  React.useEffect(() => {\n    const handler = (e) => {\n      const element = ref.current;\n      if (element && !element.contains(e.target)) {\n        refCb.current(e);\n      }\n    };\n\n    document.addEventListener(\"mousedown\", handler);\n    document.addEventListener(\"touchstart\", handler);\n\n    return () => {\n      document.removeEventListener(\"mousedown\", handler);\n      document.removeEventListener(\"touchstart\", handler);\n    };\n  }, []);\n\n  return ref;\n}\n\nfunction oldSchoolCopy(text) {\n  const tempTextArea = document.createElement(\"textarea\");\n  tempTextArea.value = text;\n  document.body.appendChild(tempTextArea);\n  tempTextArea.select();\n  document.execCommand(\"copy\");\n  document.body.removeChild(tempTextArea);\n}\n\nexport function useCopyToClipboard() {\n  const [state, setState] = React.useState(null);\n\n  const copyToClipboard = React.useCallback((value) => {\n    const handleCopy = async () => {\n      try {\n        if (navigator?.clipboard?.writeText) {\n          await navigator.clipboard.writeText(value);\n          setState(value);\n        } else {\n          throw new Error(\"writeText not supported\");\n        }\n      } catch (e) {\n        oldSchoolCopy(value);\n        setState(value);\n      }\n    };\n\n    handleCopy();\n  }, []);\n\n  return [state, copyToClipboard];\n}\n\nexport function useCounter(startingValue = 0, options = {}) {\n  const { min, max } = options;\n\n  if (typeof min === \"number\" && startingValue < min) {\n    throw new Error(\n      `Your starting value of ${startingValue} is less than your min of ${min}.`\n    );\n  }\n\n  if (typeof max === \"number\" && startingValue > max) {\n    throw new Error(\n      `Your starting value of ${startingValue} is greater than your max of ${max}.`\n    );\n  }\n\n  const [count, setCount] = React.useState(startingValue);\n\n  const increment = React.useCallback(() => {\n    setCount((c) => {\n      const nextCount = c + 1;\n\n      if (typeof max === \"number\" && nextCount > max) {\n        return c;\n      }\n\n      return nextCount;\n    });\n  }, [max]);\n\n  const decrement = React.useCallback(() => {\n    setCount((c) => {\n      const nextCount = c - 1;\n\n      if (typeof min === \"number\" && nextCount < min) {\n        return c;\n      }\n\n      return nextCount;\n    });\n  }, [min]);\n\n  const set = React.useCallback(\n    (nextCount) => {\n      setCount((c) => {\n        if (typeof max === \"number\" && nextCount > max) {\n          return c;\n        }\n\n        if (typeof min === \"number\" && nextCount < min) {\n          return c;\n        }\n\n        return nextCount;\n      });\n    },\n    [max, min]\n  );\n\n  const reset = React.useCallback(() => {\n    setCount(startingValue);\n  }, [startingValue]);\n\n  return [\n    count,\n    {\n      increment,\n      decrement,\n      set,\n      reset,\n    },\n  ];\n}\n\nexport function useDebounce(value, delay) {\n  const [debouncedValue, setDebouncedValue] = React.useState(value);\n\n  React.useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n\nexport function useDefault(initialValue, defaultValue) {\n  const [state, setState] = React.useState(initialValue);\n\n  if (typeof state === \"undefined\" || state === null) {\n    return [defaultValue, setState];\n  }\n\n  return [state, setState];\n}\n\nexport function useDocumentTitle(title) {\n  React.useEffect(() => {\n    document.title = title;\n  }, [title]);\n}\n\nexport function useFavicon(url) {\n  React.useEffect(() => {\n    let link = document.querySelector(`link[rel~=\"icon\"]`);\n\n    if (!link) {\n      link = document.createElement(\"link\");\n      link.type = \"image/x-icon\";\n      link.rel = \"icon\";\n      link.href = url;\n      document.head.appendChild(link);\n    } else {\n      link.href = url;\n    }\n  }, [url]);\n}\n\nexport function useGeolocation(options = {}) {\n  const [state, setState] = React.useState({\n    loading: true,\n    accuracy: null,\n    altitude: null,\n    altitudeAccuracy: null,\n    heading: null,\n    latitude: null,\n    longitude: null,\n    speed: null,\n    timestamp: null,\n    error: null,\n  });\n\n  const optionsRef = React.useRef(options);\n\n  React.useEffect(() => {\n    const onEvent = ({ coords, timestamp }) => {\n      setState({\n        loading: false,\n        timestamp,\n        latitude: coords.latitude,\n        longitude: coords.longitude,\n        altitude: coords.altitude,\n        accuracy: coords.accuracy,\n        altitudeAccuracy: coords.altitudeAccuracy,\n        heading: coords.heading,\n        speed: coords.speed,\n      });\n    };\n\n    const onEventError = (error) => {\n      setState((s) => ({\n        ...s,\n        loading: false,\n        error,\n      }));\n    };\n\n    navigator.geolocation.getCurrentPosition(\n      onEvent,\n      onEventError,\n      optionsRef.current\n    );\n\n    const watchId = navigator.geolocation.watchPosition(\n      onEvent,\n      onEventError,\n      optionsRef.current\n    );\n\n    return () => {\n      navigator.geolocation.clearWatch(watchId);\n    };\n  }, []);\n\n  return state;\n}\n\nconst initialUseHistoryStateState = {\n  past: [],\n  present: null,\n  future: [],\n};\n\nconst useHistoryStateReducer = (state, action) => {\n  const { past, present, future } = state;\n\n  if (action.type === \"UNDO\") {\n    return {\n      past: past.slice(0, past.length - 1),\n      present: past[past.length - 1],\n      future: [present, ...future],\n    };\n  } else if (action.type === \"REDO\") {\n    return {\n      past: [...past, present],\n      present: future[0],\n      future: future.slice(1),\n    };\n  } else if (action.type === \"SET\") {\n    const { newPresent } = action;\n\n    if (action.newPresent === present) {\n      return state;\n    }\n\n    return {\n      past: [...past, present],\n      present: newPresent,\n      future: [],\n    };\n  } else if (action.type === \"CLEAR\") {\n    return {\n      ...initialUseHistoryStateState,\n      present: action.initialPresent,\n    };\n  } else {\n    throw new Error(\"Unsupported action type\");\n  }\n};\n\nexport function useHistoryState(initialPresent = {}) {\n  const initialPresentRef = React.useRef(initialPresent);\n\n  const [state, dispatch] = React.useReducer(useHistoryStateReducer, {\n    ...initialUseHistoryStateState,\n    present: initialPresentRef.current,\n  });\n\n  const canUndo = state.past.length !== 0;\n  const canRedo = state.future.length !== 0;\n\n  const undo = React.useCallback(() => {\n    if (canUndo) {\n      dispatch({ type: \"UNDO\" });\n    }\n  }, [canUndo]);\n\n  const redo = React.useCallback(() => {\n    if (canRedo) {\n      dispatch({ type: \"REDO\" });\n    }\n  }, [canRedo]);\n\n  const set = React.useCallback(\n    (newPresent) => dispatch({ type: \"SET\", newPresent }),\n    []\n  );\n\n  const clear = React.useCallback(\n    () =>\n      dispatch({ type: \"CLEAR\", initialPresent: initialPresentRef.current }),\n    []\n  );\n\n  return { state: state.present, set, undo, redo, clear, canUndo, canRedo };\n}\n\nexport function useHover() {\n  const [hovering, setHovering] = React.useState(false);\n  const previousNode = React.useRef(null);\n\n  const handleMouseEnter = React.useCallback(() => {\n    setHovering(true);\n  }, []);\n\n  const handleMouseLeave = React.useCallback(() => {\n    setHovering(false);\n  }, []);\n\n  const customRef = React.useCallback(\n    (node) => {\n      if (previousNode.current?.nodeType === Node.ELEMENT_NODE) {\n        previousNode.current.removeEventListener(\n          \"mouseenter\",\n          handleMouseEnter\n        );\n        previousNode.current.removeEventListener(\n          \"mouseleave\",\n          handleMouseLeave\n        );\n      }\n\n      if (node?.nodeType === Node.ELEMENT_NODE) {\n        node.addEventListener(\"mouseenter\", handleMouseEnter);\n        node.addEventListener(\"mouseleave\", handleMouseLeave);\n      }\n\n      previousNode.current = node;\n    },\n    [handleMouseEnter, handleMouseLeave]\n  );\n\n  return [customRef, hovering];\n}\n\nexport function useIdle(ms = 1000 * 60) {\n  const [idle, setIdle] = React.useState(false);\n\n  React.useEffect(() => {\n    let timeoutId;\n\n    const handleTimeout = () => {\n      setIdle(true);\n    };\n\n    const handleEvent = throttle((e) => {\n      setIdle(false);\n\n      window.clearTimeout(timeoutId);\n      timeoutId = window.setTimeout(handleTimeout, ms);\n    }, 500);\n\n    const handleVisibilityChange = () => {\n      if (!document.hidden) {\n        handleEvent();\n      }\n    };\n\n    timeoutId = window.setTimeout(handleTimeout, ms);\n\n    window.addEventListener(\"mousemove\", handleEvent);\n    window.addEventListener(\"mousedown\", handleEvent);\n    window.addEventListener(\"resize\", handleEvent);\n    window.addEventListener(\"keydown\", handleEvent);\n    window.addEventListener(\"touchstart\", handleEvent);\n    window.addEventListener(\"wheel\", handleEvent);\n    document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n\n    return () => {\n      window.removeEventListener(\"mousemove\", handleEvent);\n      window.removeEventListener(\"mousedown\", handleEvent);\n      window.removeEventListener(\"resize\", handleEvent);\n      window.removeEventListener(\"keydown\", handleEvent);\n      window.removeEventListener(\"touchstart\", handleEvent);\n      window.removeEventListener(\"wheel\", handleEvent);\n      document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n      window.clearTimeout(timeoutId);\n    };\n  }, [ms]);\n\n  return idle;\n}\n\nexport function useIntersectionObserver(options = {}) {\n  const { threshold = 1, root = null, rootMargin = \"0px\" } = options;\n  const [entry, setEntry] = React.useState(null);\n\n  const previousObserver = React.useRef(null);\n\n  const customRef = React.useCallback(\n    (node) => {\n      if (previousObserver.current) {\n        previousObserver.current.disconnect();\n        previousObserver.current = null;\n      }\n\n      if (node?.nodeType === Node.ELEMENT_NODE) {\n        const observer = new IntersectionObserver(\n          ([entry]) => {\n            setEntry(entry);\n          },\n          { threshold, root, rootMargin }\n        );\n\n        observer.observe(node);\n        previousObserver.current = observer;\n      }\n    },\n    [threshold, root, rootMargin]\n  );\n\n  return [customRef, entry];\n}\n\nexport function useIsClient() {\n  const [isClient, setIsClient] = React.useState(false);\n\n  React.useEffect(() => {\n    setIsClient(true);\n  }, []);\n\n  return isClient;\n}\n\nexport function useIsFirstRender() {\n  const renderRef = React.useRef(true);\n\n  if (renderRef.current === true) {\n    renderRef.current = false;\n    return true;\n  }\n\n  return renderRef.current;\n}\n\nexport function useList(defaultList = []) {\n  const [list, setList] = React.useState(defaultList);\n\n  const set = React.useCallback((l) => {\n    setList(l);\n  }, []);\n\n  const push = React.useCallback((element) => {\n    setList((l) => [...l, element]);\n  }, []);\n\n  const removeAt = React.useCallback((index) => {\n    setList((l) => [...l.slice(0, index), ...l.slice(index + 1)]);\n  }, []);\n\n  const insertAt = React.useCallback((index, element) => {\n    setList((l) => [...l.slice(0, index), element, ...l.slice(index)]);\n  }, []);\n\n  const updateAt = React.useCallback((index, element) => {\n    setList((l) => l.map((e, i) => (i === index ? element : e)));\n  }, []);\n\n  const clear = React.useCallback(() => setList([]), []);\n\n  return [list, { set, push, removeAt, insertAt, updateAt, clear }];\n}\n\nconst setLocalStorageItem = (key, value) => {\n  const stringifiedValue = JSON.stringify(value);\n  window.localStorage.setItem(key, stringifiedValue);\n  dispatchStorageEvent(key, stringifiedValue);\n};\n\nconst removeLocalStorageItem = (key) => {\n  window.localStorage.removeItem(key);\n  dispatchStorageEvent(key, null);\n};\n\nconst getLocalStorageItem = (key) => {\n  return window.localStorage.getItem(key);\n};\n\nconst useLocalStorageSubscribe = (callback) => {\n  window.addEventListener(\"storage\", callback);\n  return () => window.removeEventListener(\"storage\", callback);\n};\n\nconst getLocalStorageServerSnapshot = () => {\n  throw Error(\"useLocalStorage is a client-only hook\");\n};\n\nexport function useLocalStorage(key, initialValue) {\n  const getSnapshot = () => getLocalStorageItem(key);\n\n  const store = React.useSyncExternalStore(\n    useLocalStorageSubscribe,\n    getSnapshot,\n    getLocalStorageServerSnapshot\n  );\n\n  const setState = React.useCallback(\n    (v) => {\n      try {\n        const nextState = typeof v === \"function\" ? v(JSON.parse(store)) : v;\n\n        if (nextState === undefined || nextState === null) {\n          removeLocalStorageItem(key);\n        } else {\n          setLocalStorageItem(key, nextState);\n        }\n      } catch (e) {\n        console.warn(e);\n      }\n    },\n    [key, store]\n  );\n\n  React.useEffect(() => {\n    if (\n      getLocalStorageItem(key) === null &&\n      typeof initialValue !== \"undefined\"\n    ) {\n      setLocalStorageItem(key, initialValue);\n    }\n  }, [key, initialValue]);\n\n  return [store ? JSON.parse(store) : initialValue, setState];\n}\n\nexport function useLockBodyScroll() {\n  React.useLayoutEffect(() => {\n    const originalStyle = window.getComputedStyle(document.body).overflow;\n    document.body.style.overflow = \"hidden\";\n    return () => {\n      document.body.style.overflow = originalStyle;\n    };\n  }, []);\n}\n\nexport function useLongPress(callback, options = {}) {\n  const { threshold = 400, onStart, onFinish, onCancel } = options;\n  const isLongPressActive = React.useRef(false);\n  const isPressed = React.useRef(false);\n  const timerId = React.useRef();\n\n  return React.useMemo(() => {\n    if (typeof callback !== \"function\") {\n      return {};\n    }\n\n    const start = (event) => {\n      if (!isMouseEvent(event) && !isTouchEvent(event)) return;\n\n      if (onStart) {\n        onStart(event);\n      }\n\n      isPressed.current = true;\n      timerId.current = setTimeout(() => {\n        callback(event);\n        isLongPressActive.current = true;\n      }, threshold);\n    };\n\n    const cancel = (event) => {\n      if (!isMouseEvent(event) && !isTouchEvent(event)) return;\n\n      if (isLongPressActive.current) {\n        if (onFinish) {\n          onFinish(event);\n        }\n      } else if (isPressed.current) {\n        if (onCancel) {\n          onCancel(event);\n        }\n      }\n\n      isLongPressActive.current = false;\n      isPressed.current = false;\n\n      if (timerId.current) {\n        window.clearTimeout(timerId.current);\n      }\n    };\n\n    const mouseHandlers = {\n      onMouseDown: start,\n      onMouseUp: cancel,\n      onMouseLeave: cancel,\n    };\n\n    const touchHandlers = {\n      onTouchStart: start,\n      onTouchEnd: cancel,\n    };\n\n    return {\n      ...mouseHandlers,\n      ...touchHandlers,\n    };\n  }, [callback, threshold, onCancel, onFinish, onStart]);\n}\n\nexport function useMap(initialState) {\n  const mapRef = React.useRef(new Map(initialState));\n  const [, reRender] = React.useReducer((x) => x + 1, 0);\n\n  mapRef.current.set = (...args) => {\n    Map.prototype.set.apply(mapRef.current, args);\n    reRender();\n    return mapRef.current;\n  };\n\n  mapRef.current.clear = (...args) => {\n    Map.prototype.clear.apply(mapRef.current, args);\n    reRender();\n  };\n\n  mapRef.current.delete = (...args) => {\n    const res = Map.prototype.delete.apply(mapRef.current, args);\n    reRender();\n\n    return res;\n  };\n\n  return mapRef.current;\n}\n\nexport function useMeasure() {\n  const [dimensions, setDimensions] = React.useState({\n    width: null,\n    height: null,\n  });\n\n  const previousObserver = React.useRef(null);\n\n  const customRef = React.useCallback((node) => {\n    if (previousObserver.current) {\n      previousObserver.current.disconnect();\n      previousObserver.current = null;\n    }\n\n    if (node?.nodeType === Node.ELEMENT_NODE) {\n      const observer = new ResizeObserver(([entry]) => {\n        if (entry && entry.borderBoxSize) {\n          const { inlineSize: width, blockSize: height } =\n            entry.borderBoxSize[0];\n\n          setDimensions({ width, height });\n        }\n      });\n\n      observer.observe(node);\n      previousObserver.current = observer;\n    }\n  }, []);\n\n  return [customRef, dimensions];\n}\n\nexport function useMediaQuery(query) {\n  const subscribe = React.useCallback(\n    (callback) => {\n      const matchMedia = window.matchMedia(query);\n\n      matchMedia.addEventListener(\"change\", callback);\n      return () => {\n        matchMedia.removeEventListener(\"change\", callback);\n      };\n    },\n    [query]\n  );\n\n  const getSnapshot = () => {\n    return window.matchMedia(query).matches;\n  };\n\n  const getServerSnapshot = () => {\n    throw Error(\"useMediaQuery is a client-only hook\");\n  };\n\n  return React.useSyncExternalStore(subscribe, getSnapshot, getServerSnapshot);\n}\n\nexport function useMouse() {\n  const [state, setState] = React.useState({\n    x: 0,\n    y: 0,\n    elementX: 0,\n    elementY: 0,\n    elementPositionX: 0,\n    elementPositionY: 0,\n  });\n\n  const ref = React.useRef(null);\n\n  React.useLayoutEffect(() => {\n    const handleMouseMove = (event) => {\n      let newState = {\n        x: event.pageX,\n        y: event.pageY,\n      };\n\n      if (ref.current?.nodeType === Node.ELEMENT_NODE) {\n        const { left, top } = ref.current.getBoundingClientRect();\n        const elementPositionX = left + window.scrollX;\n        const elementPositionY = top + window.scrollY;\n        const elementX = event.pageX - elementPositionX;\n        const elementY = event.pageY - elementPositionY;\n\n        newState.elementX = elementX;\n        newState.elementY = elementY;\n        newState.elementPositionX = elementPositionX;\n        newState.elementPositionY = elementPositionY;\n      }\n\n      setState((s) => {\n        return {\n          ...s,\n          ...newState,\n        };\n      });\n    };\n\n    document.addEventListener(\"mousemove\", handleMouseMove);\n\n    return () => {\n      document.removeEventListener(\"mousemove\", handleMouseMove);\n    };\n  }, []);\n\n  return [state, ref];\n}\n\nconst getConnection = () => {\n  return (\n    navigator?.connection ||\n    navigator?.mozConnection ||\n    navigator?.webkitConnection\n  );\n};\n\nconst useNetworkStateSubscribe = (callback) => {\n  window.addEventListener(\"online\", callback, { passive: true });\n  window.addEventListener(\"offline\", callback, { passive: true });\n\n  const connection = getConnection();\n\n  if (connection) {\n    connection.addEventListener(\"change\", callback, { passive: true });\n  }\n\n  return () => {\n    window.removeEventListener(\"online\", callback);\n    window.removeEventListener(\"offline\", callback);\n\n    if (connection) {\n      connection.removeEventListener(\"change\", callback);\n    }\n  };\n};\n\nconst getNetworkStateServerSnapshot = () => {\n  throw Error(\"useNetworkState is a client-only hook\");\n};\n\nexport function useNetworkState() {\n  const cache = React.useRef({});\n\n  const getSnapshot = () => {\n    const online = navigator.onLine;\n    const connection = getConnection();\n\n    const nextState = {\n      online,\n      downlink: connection?.downlink,\n      downlinkMax: connection?.downlinkMax,\n      effectiveType: connection?.effectiveType,\n      rtt: connection?.rtt,\n      saveData: connection?.saveData,\n      type: connection?.type,\n    };\n\n    if (isShallowEqual(cache.current, nextState)) {\n      return cache.current;\n    } else {\n      cache.current = nextState;\n      return nextState;\n    }\n  };\n\n  return React.useSyncExternalStore(\n    useNetworkStateSubscribe,\n    getSnapshot,\n    getNetworkStateServerSnapshot\n  );\n}\n\nexport function useObjectState(initialValue) {\n  const [state, setState] = React.useState(initialValue);\n\n  const handleUpdate = React.useCallback((arg) => {\n    if (typeof arg === \"function\") {\n      setState((s) => {\n        const newState = arg(s);\n\n        if (isPlainObject(newState)) {\n          return {\n            ...s,\n            ...newState,\n          };\n        }\n      });\n    }\n\n    if (isPlainObject(arg)) {\n      setState((s) => ({\n        ...s,\n        ...arg,\n      }));\n    }\n  }, []);\n\n  return [state, handleUpdate];\n}\n\nexport function useOrientation() {\n  const [orientation, setOrientation] = React.useState({\n    angle: 0,\n    type: \"landscape-primary\",\n  });\n\n  React.useLayoutEffect(() => {\n    const handleChange = () => {\n      const { angle, type } = window.screen.orientation;\n      setOrientation({\n        angle,\n        type,\n      });\n    };\n\n    const handle_orientationchange = () => {\n      setOrientation({\n        type: \"UNKNOWN\",\n        angle: window.orientation,\n      });\n    };\n\n    if (window.screen?.orientation) {\n      handleChange();\n      window.screen.orientation.addEventListener(\"change\", handleChange);\n    } else {\n      handle_orientationchange();\n      window.addEventListener(\"orientationchange\", handle_orientationchange);\n    }\n\n    return () => {\n      if (window.screen?.orientation) {\n        window.screen.orientation.removeEventListener(\"change\", handleChange);\n      } else {\n        window.removeEventListener(\n          \"orientationchange\",\n          handle_orientationchange\n        );\n      }\n    };\n  }, []);\n\n  return orientation;\n}\n\nconst usePreferredLanguageSubscribe = (cb) => {\n  window.addEventListener(\"languagechange\", cb);\n  return () => window.removeEventListener(\"languagechange\", cb);\n};\n\nconst getPreferredLanguageSnapshot = () => {\n  return navigator.language;\n};\n\nconst getPreferredLanguageServerSnapshot = () => {\n  throw Error(\"usePreferredLanguage is a client-only hook\");\n};\n\nexport function usePreferredLanguage() {\n  return React.useSyncExternalStore(\n    usePreferredLanguageSubscribe,\n    getPreferredLanguageSnapshot,\n    getPreferredLanguageServerSnapshot\n  );\n}\n\nexport function usePrevious(value) {\n  const [current, setCurrent] = React.useState(value);\n  const [previous, setPrevious] = React.useState(null);\n\n  if (value !== current) {\n    setPrevious(current);\n    setCurrent(value);\n  }\n\n  return previous;\n}\n\nexport function useQueue(initialValue = []) {\n  const [queue, setQueue] = React.useState(initialValue);\n\n  const add = React.useCallback((element) => {\n    setQueue((q) => [...q, element]);\n  }, []);\n\n  const remove = React.useCallback(() => {\n    let removedElement;\n\n    setQueue(([first, ...q]) => {\n      removedElement = first;\n      return q;\n    });\n\n    return removedElement;\n  }, []);\n\n  const clear = React.useCallback(() => {\n    setQueue([]);\n  }, []);\n\n  return {\n    add,\n    remove,\n    clear,\n    first: queue[0],\n    last: queue[queue.length - 1],\n    size: queue.length,\n    queue,\n  };\n}\n\nexport function useRenderCount() {\n  const count = React.useRef(0);\n\n  count.current++;\n\n  return count.current;\n}\n\nexport function useRenderInfo(name = \"Unknown\") {\n  const count = React.useRef(0);\n  const lastRender = React.useRef();\n  const now = Date.now();\n\n  count.current++;\n\n  React.useEffect(() => {\n    lastRender.current = Date.now();\n  });\n\n  const sinceLastRender = lastRender.current ? now - lastRender.current : 0;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    const info = {\n      name,\n      renders: count.current,\n      sinceLastRender,\n      timestamp: now,\n    };\n\n    console.log(info);\n\n    return info;\n  }\n}\n\nexport function useScript(src, options = {}) {\n  const [status, setStatus] = React.useState(\"loading\");\n  const optionsRef = React.useRef(options);\n\n  React.useEffect(() => {\n    let script = document.querySelector(`script[src=\"${src}\"]`);\n\n    const domStatus = script?.getAttribute(\"data-status\");\n    if (domStatus) {\n      setStatus(domStatus);\n      return;\n    }\n\n    if (script === null) {\n      script = document.createElement(\"script\");\n      script.src = src;\n      script.async = true;\n      script.setAttribute(\"data-status\", \"loading\");\n      document.body.appendChild(script);\n\n      const handleScriptLoad = () => {\n        script.setAttribute(\"data-status\", \"ready\");\n        setStatus(\"ready\");\n        removeEventListeners();\n      };\n\n      const handleScriptError = () => {\n        script.setAttribute(\"data-status\", \"error\");\n        setStatus(\"error\");\n        removeEventListeners();\n      };\n\n      const removeEventListeners = () => {\n        script.removeEventListener(\"load\", handleScriptLoad);\n        script.removeEventListener(\"error\", handleScriptError);\n      };\n\n      script.addEventListener(\"load\", handleScriptLoad);\n      script.addEventListener(\"error\", handleScriptError);\n\n      const removeOnUnmount = optionsRef.current.removeOnUnmount;\n\n      return () => {\n        if (removeOnUnmount === true) {\n          script.remove();\n          removeEventListeners();\n        }\n      };\n    } else {\n      setStatus(\"unknown\");\n    }\n  }, [src]);\n\n  return status;\n}\n\nconst setSessionStorageItem = (key, value) => {\n  const stringifiedValue = JSON.stringify(value);\n  window.sessionStorage.setItem(key, stringifiedValue);\n  dispatchStorageEvent(key, stringifiedValue);\n};\n\nconst removeSessionStorageItem = (key) => {\n  window.sessionStorage.removeItem(key);\n  dispatchStorageEvent(key, null);\n};\n\nconst getSessionStorageItem = (key) => {\n  return window.sessionStorage.getItem(key);\n};\n\nconst useSessionStorageSubscribe = (callback) => {\n  window.addEventListener(\"storage\", callback);\n  return () => window.removeEventListener(\"storage\", callback);\n};\n\nconst getSessionStorageServerSnapshot = () => {\n  throw Error(\"useSessionStorage is a client-only hook\");\n};\n\nexport function useSessionStorage(key, initialValue) {\n  const getSnapshot = () => getSessionStorageItem(key);\n\n  const store = React.useSyncExternalStore(\n    useSessionStorageSubscribe,\n    getSnapshot,\n    getSessionStorageServerSnapshot\n  );\n\n  const setState = React.useCallback(\n    (v) => {\n      try {\n        const nextState = typeof v === \"function\" ? v(JSON.parse(store)) : v;\n\n        if (nextState === undefined || nextState === null) {\n          removeSessionStorageItem(key);\n        } else {\n          setSessionStorageItem(key, nextState);\n        }\n      } catch (e) {\n        console.warn(e);\n      }\n    },\n    [key, store]\n  );\n\n  React.useEffect(() => {\n    if (\n      getSessionStorageItem(key) === null &&\n      typeof initialValue !== \"undefined\"\n    ) {\n      setSessionStorageItem(key, initialValue);\n    }\n  }, [key, initialValue]);\n\n  return [store ? JSON.parse(store) : initialValue, setState];\n}\n\nexport function useSet(values) {\n  const setRef = React.useRef(new Set(values));\n  const [, reRender] = React.useReducer((x) => x + 1, 0);\n\n  setRef.current.add = (...args) => {\n    const res = Set.prototype.add.apply(setRef.current, args);\n    reRender();\n\n    return res;\n  };\n\n  setRef.current.clear = (...args) => {\n    Set.prototype.clear.apply(setRef.current, args);\n    reRender();\n  };\n\n  setRef.current.delete = (...args) => {\n    const res = Set.prototype.delete.apply(setRef.current, args);\n    reRender();\n\n    return res;\n  };\n\n  return setRef.current;\n}\n\nexport function useThrottle(value, interval = 500) {\n  const [throttledValue, setThrottledValue] = React.useState(value);\n  const lastUpdated = React.useRef(null);\n\n  React.useEffect(() => {\n    const now = Date.now();\n\n    if (lastUpdated.current && now >= lastUpdated.current + interval) {\n      lastUpdated.current = now;\n      setThrottledValue(value);\n    } else {\n      const id = window.setTimeout(() => {\n        lastUpdated.current = now;\n        setThrottledValue(value);\n      }, interval);\n\n      return () => window.clearTimeout(id);\n    }\n  }, [value, interval]);\n\n  return throttledValue;\n}\n\nexport function useToggle(initialValue) {\n  const [on, setOn] = React.useState(() => {\n    if (typeof initialValue === \"boolean\") {\n      return initialValue;\n    }\n\n    return Boolean(initialValue);\n  });\n\n  const handleToggle = React.useCallback((value) => {\n    if (typeof value === \"boolean\") {\n      return setOn(value);\n    }\n\n    return setOn((v) => !v);\n  }, []);\n\n  return [on, handleToggle];\n}\n\nconst useVisibilityChangeSubscribe = (callback) => {\n  document.addEventListener(\"visibilitychange\", callback);\n\n  return () => {\n    document.removeEventListener(\"visibilitychange\", callback);\n  };\n};\n\nconst getVisibilityChangeSnapshot = () => {\n  return document.visibilityState;\n};\n\nconst getVisibilityChangeServerSnapshot = () => {\n  throw Error(\"useVisibilityChange is a client-only hook\");\n};\n\nexport function useVisibilityChange() {\n  const visibilityState = React.useSyncExternalStore(\n    useVisibilityChangeSubscribe,\n    getVisibilityChangeSnapshot,\n    getVisibilityChangeServerSnapshot\n  );\n\n  return visibilityState === \"visible\";\n}\n\nexport function useWindowScroll() {\n  const [state, setState] = React.useState({\n    x: null,\n    y: null,\n  });\n\n  const scrollTo = React.useCallback((...args) => {\n    if (typeof args[0] === \"object\") {\n      window.scrollTo(args[0]);\n    } else if (typeof args[0] === \"number\" && typeof args[1] === \"number\") {\n      window.scrollTo(args[0], args[1]);\n    } else {\n      throw new Error(\n        `Invalid arguments passed to scrollTo. See here for more info. https://developer.mozilla.org/en-US/docs/Web/API/Window/scrollTo`\n      );\n    }\n  }, []);\n\n  React.useLayoutEffect(() => {\n    const handleScroll = () => {\n      setState({ x: window.scrollX, y: window.scrollY });\n    };\n\n    handleScroll();\n    window.addEventListener(\"scroll\", handleScroll);\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, []);\n\n  return [state, scrollTo];\n}\n\nexport function useWindowSize() {\n  const [size, setSize] = React.useState({\n    width: null,\n    height: null,\n  });\n\n  React.useLayoutEffect(() => {\n    const handleResize = () => {\n      setSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    };\n\n    handleResize();\n    window.addEventListener(\"resize\", handleResize);\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, []);\n\n  return size;\n}\n","import LanguageFlag from \"@/components/LanguageFlag\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n    DropdownIconStart,\n    DropdownMenu,\n    DropdownMenuCheckboxItem,\n    DropdownMenuContent,\n    DropdownMenuLabel,\n    DropdownMenuSeparator,\n    DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Languages } from \"lucide-react\";\n\nexport type SongLanguage = string;\n\ninterface LanguageChoice {\n    text: string;\n    value: string;\n}\n\ninterface LanguageFilterProps {\n    languages: SongLanguage[];\n    selectedLanguage: SongLanguage;\n    setSelectedLanguage: (language: SongLanguage) => void;\n    iconOnly: boolean;\n}\n\nconst capitalizeFirstLetter = (str: string): string => {\n    if (!str) return '';\n\n    const firstCodePoint = str.codePointAt(0);\n    if (!firstCodePoint) return str;\n\n    const index = firstCodePoint > 0xFFFF ? 2 : 1;\n    return String.fromCodePoint(firstCodePoint).toUpperCase() + str.slice(index);\n};\n\nconst createLanguageChoices = (\n    languages: SongLanguage[],\n    selectedLanguage: SongLanguage,\n    setSelectedLanguage: (language: SongLanguage) => void\n): JSX.Element[] => {\n    const languageChoices: LanguageChoice[] = Object.keys(languages)\n        .map((language) => ({\n            text: capitalizeFirstLetter(language),\n            value: language\n        }));\n\n    languageChoices.unshift({ text: \"All\", value: \"all\" });\n\n    return languageChoices.map((choice) => (\n        <DropdownMenuCheckboxItem\n            key={choice.value}\n            onSelect={(e) => e.preventDefault()}\n            checked={selectedLanguage === choice.value}\n            onClick={() => setSelectedLanguage(choice.value)}\n        >\n            <DropdownIconStart icon={<LanguageFlag language={choice.text} />} />\n            {choice.text}\n        </DropdownMenuCheckboxItem>\n    ));\n};\n\nexport const LanguageFilter = ({\n    languages,\n    selectedLanguage,\n    setSelectedLanguage,\n    iconOnly\n}: LanguageFilterProps): JSX.Element => {\n    const active = selectedLanguage === \"all\";\n\n    return (\n        <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n                <Button\n                    variant=\"circular\"\n                    isActive={active}\n                    className=\"outline-0 rounded-r-none font-bold\"\n                >\n                    <Languages />\n                    {!iconOnly && \"Languages\"}\n                </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent aria-label=\"Language Choices\" sideOffset={15}>\n                {createLanguageChoices(languages, selectedLanguage, setSelectedLanguage)}\n            </DropdownMenuContent>\n        </DropdownMenu>\n    );\n};\n\nexport const LanguageFilterDropdownSection = (\n    languages: SongLanguage[],\n    selectedLanguage: SongLanguage,\n    setSelectedLanguage: (language: SongLanguage) => void\n): JSX.Element => {\n    return (\n        <>\n            <DropdownMenuLabel>Select languages</DropdownMenuLabel>\n            <DropdownMenuSeparator />\n            {createLanguageChoices(languages, selectedLanguage, setSelectedLanguage)}\n        </>\n    );\n};","// packages/core/number/src/number.ts\nfunction clamp(value, [min, max]) {\n  return Math.min(max, Math.max(min, value));\n}\nexport {\n  clamp\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/use-previous/src/usePrevious.tsx\nimport * as React from \"react\";\nfunction usePrevious(value) {\n  const ref = React.useRef({ value, previous: value });\n  return React.useMemo(() => {\n    if (ref.current.value !== value) {\n      ref.current.previous = ref.current.value;\n      ref.current.value = value;\n    }\n    return ref.current.previous;\n  }, [value]);\n}\nexport {\n  usePrevious\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// packages/react/slider/src/Slider.tsx\nimport * as React from \"react\";\nimport { clamp } from \"@radix-ui/number\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar PAGE_KEYS = [\"PageUp\", \"PageDown\"];\nvar ARROW_KEYS = [\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"];\nvar BACK_KEYS = {\n  \"from-left\": [\"Home\", \"PageDown\", \"ArrowDown\", \"ArrowLeft\"],\n  \"from-right\": [\"Home\", \"PageDown\", \"ArrowDown\", \"ArrowRight\"],\n  \"from-bottom\": [\"Home\", \"PageDown\", \"ArrowDown\", \"ArrowLeft\"],\n  \"from-top\": [\"Home\", \"PageDown\", \"ArrowUp\", \"ArrowLeft\"]\n};\nvar SLIDER_NAME = \"Slider\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(SLIDER_NAME);\nvar [createSliderContext, createSliderScope] = createContextScope(SLIDER_NAME, [\n  createCollectionScope\n]);\nvar [SliderProvider, useSliderContext] = createSliderContext(SLIDER_NAME);\nvar Slider = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      name,\n      min = 0,\n      max = 100,\n      step = 1,\n      orientation = \"horizontal\",\n      disabled = false,\n      minStepsBetweenThumbs = 0,\n      defaultValue = [min],\n      value,\n      onValueChange = () => {\n      },\n      onValueCommit = () => {\n      },\n      inverted = false,\n      form,\n      ...sliderProps\n    } = props;\n    const thumbRefs = React.useRef(/* @__PURE__ */ new Set());\n    const valueIndexToChangeRef = React.useRef(0);\n    const isHorizontal = orientation === \"horizontal\";\n    const SliderOrientation = isHorizontal ? SliderHorizontal : SliderVertical;\n    const [values = [], setValues] = useControllableState({\n      prop: value,\n      defaultProp: defaultValue,\n      onChange: (value2) => {\n        const thumbs = [...thumbRefs.current];\n        thumbs[valueIndexToChangeRef.current]?.focus();\n        onValueChange(value2);\n      }\n    });\n    const valuesBeforeSlideStartRef = React.useRef(values);\n    function handleSlideStart(value2) {\n      const closestIndex = getClosestValueIndex(values, value2);\n      updateValues(value2, closestIndex);\n    }\n    function handleSlideMove(value2) {\n      updateValues(value2, valueIndexToChangeRef.current);\n    }\n    function handleSlideEnd() {\n      const prevValue = valuesBeforeSlideStartRef.current[valueIndexToChangeRef.current];\n      const nextValue = values[valueIndexToChangeRef.current];\n      const hasChanged = nextValue !== prevValue;\n      if (hasChanged) onValueCommit(values);\n    }\n    function updateValues(value2, atIndex, { commit } = { commit: false }) {\n      const decimalCount = getDecimalCount(step);\n      const snapToStep = roundValue(Math.round((value2 - min) / step) * step + min, decimalCount);\n      const nextValue = clamp(snapToStep, [min, max]);\n      setValues((prevValues = []) => {\n        const nextValues = getNextSortedValues(prevValues, nextValue, atIndex);\n        if (hasMinStepsBetweenValues(nextValues, minStepsBetweenThumbs * step)) {\n          valueIndexToChangeRef.current = nextValues.indexOf(nextValue);\n          const hasChanged = String(nextValues) !== String(prevValues);\n          if (hasChanged && commit) onValueCommit(nextValues);\n          return hasChanged ? nextValues : prevValues;\n        } else {\n          return prevValues;\n        }\n      });\n    }\n    return /* @__PURE__ */ jsx(\n      SliderProvider,\n      {\n        scope: props.__scopeSlider,\n        name,\n        disabled,\n        min,\n        max,\n        valueIndexToChangeRef,\n        thumbs: thumbRefs.current,\n        values,\n        orientation,\n        form,\n        children: /* @__PURE__ */ jsx(Collection.Provider, { scope: props.__scopeSlider, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeSlider, children: /* @__PURE__ */ jsx(\n          SliderOrientation,\n          {\n            \"aria-disabled\": disabled,\n            \"data-disabled\": disabled ? \"\" : void 0,\n            ...sliderProps,\n            ref: forwardedRef,\n            onPointerDown: composeEventHandlers(sliderProps.onPointerDown, () => {\n              if (!disabled) valuesBeforeSlideStartRef.current = values;\n            }),\n            min,\n            max,\n            inverted,\n            onSlideStart: disabled ? void 0 : handleSlideStart,\n            onSlideMove: disabled ? void 0 : handleSlideMove,\n            onSlideEnd: disabled ? void 0 : handleSlideEnd,\n            onHomeKeyDown: () => !disabled && updateValues(min, 0, { commit: true }),\n            onEndKeyDown: () => !disabled && updateValues(max, values.length - 1, { commit: true }),\n            onStepKeyDown: ({ event, direction: stepDirection }) => {\n              if (!disabled) {\n                const isPageKey = PAGE_KEYS.includes(event.key);\n                const isSkipKey = isPageKey || event.shiftKey && ARROW_KEYS.includes(event.key);\n                const multiplier = isSkipKey ? 10 : 1;\n                const atIndex = valueIndexToChangeRef.current;\n                const value2 = values[atIndex];\n                const stepInDirection = step * multiplier * stepDirection;\n                updateValues(value2 + stepInDirection, atIndex, { commit: true });\n              }\n            }\n          }\n        ) }) })\n      }\n    );\n  }\n);\nSlider.displayName = SLIDER_NAME;\nvar [SliderOrientationProvider, useSliderOrientationContext] = createSliderContext(SLIDER_NAME, {\n  startEdge: \"left\",\n  endEdge: \"right\",\n  size: \"width\",\n  direction: 1\n});\nvar SliderHorizontal = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      min,\n      max,\n      dir,\n      inverted,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const [slider, setSlider] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setSlider(node));\n    const rectRef = React.useRef();\n    const direction = useDirection(dir);\n    const isDirectionLTR = direction === \"ltr\";\n    const isSlidingFromLeft = isDirectionLTR && !inverted || !isDirectionLTR && inverted;\n    function getValueFromPointer(pointerPosition) {\n      const rect = rectRef.current || slider.getBoundingClientRect();\n      const input = [0, rect.width];\n      const output = isSlidingFromLeft ? [min, max] : [max, min];\n      const value = linearScale(input, output);\n      rectRef.current = rect;\n      return value(pointerPosition - rect.left);\n    }\n    return /* @__PURE__ */ jsx(\n      SliderOrientationProvider,\n      {\n        scope: props.__scopeSlider,\n        startEdge: isSlidingFromLeft ? \"left\" : \"right\",\n        endEdge: isSlidingFromLeft ? \"right\" : \"left\",\n        direction: isSlidingFromLeft ? 1 : -1,\n        size: \"width\",\n        children: /* @__PURE__ */ jsx(\n          SliderImpl,\n          {\n            dir: direction,\n            \"data-orientation\": \"horizontal\",\n            ...sliderProps,\n            ref: composedRefs,\n            style: {\n              ...sliderProps.style,\n              [\"--radix-slider-thumb-transform\"]: \"translateX(-50%)\"\n            },\n            onSlideStart: (event) => {\n              const value = getValueFromPointer(event.clientX);\n              onSlideStart?.(value);\n            },\n            onSlideMove: (event) => {\n              const value = getValueFromPointer(event.clientX);\n              onSlideMove?.(value);\n            },\n            onSlideEnd: () => {\n              rectRef.current = void 0;\n              onSlideEnd?.();\n            },\n            onStepKeyDown: (event) => {\n              const slideDirection = isSlidingFromLeft ? \"from-left\" : \"from-right\";\n              const isBackKey = BACK_KEYS[slideDirection].includes(event.key);\n              onStepKeyDown?.({ event, direction: isBackKey ? -1 : 1 });\n            }\n          }\n        )\n      }\n    );\n  }\n);\nvar SliderVertical = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      min,\n      max,\n      inverted,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const sliderRef = React.useRef(null);\n    const ref = useComposedRefs(forwardedRef, sliderRef);\n    const rectRef = React.useRef();\n    const isSlidingFromBottom = !inverted;\n    function getValueFromPointer(pointerPosition) {\n      const rect = rectRef.current || sliderRef.current.getBoundingClientRect();\n      const input = [0, rect.height];\n      const output = isSlidingFromBottom ? [max, min] : [min, max];\n      const value = linearScale(input, output);\n      rectRef.current = rect;\n      return value(pointerPosition - rect.top);\n    }\n    return /* @__PURE__ */ jsx(\n      SliderOrientationProvider,\n      {\n        scope: props.__scopeSlider,\n        startEdge: isSlidingFromBottom ? \"bottom\" : \"top\",\n        endEdge: isSlidingFromBottom ? \"top\" : \"bottom\",\n        size: \"height\",\n        direction: isSlidingFromBottom ? 1 : -1,\n        children: /* @__PURE__ */ jsx(\n          SliderImpl,\n          {\n            \"data-orientation\": \"vertical\",\n            ...sliderProps,\n            ref,\n            style: {\n              ...sliderProps.style,\n              [\"--radix-slider-thumb-transform\"]: \"translateY(50%)\"\n            },\n            onSlideStart: (event) => {\n              const value = getValueFromPointer(event.clientY);\n              onSlideStart?.(value);\n            },\n            onSlideMove: (event) => {\n              const value = getValueFromPointer(event.clientY);\n              onSlideMove?.(value);\n            },\n            onSlideEnd: () => {\n              rectRef.current = void 0;\n              onSlideEnd?.();\n            },\n            onStepKeyDown: (event) => {\n              const slideDirection = isSlidingFromBottom ? \"from-bottom\" : \"from-top\";\n              const isBackKey = BACK_KEYS[slideDirection].includes(event.key);\n              onStepKeyDown?.({ event, direction: isBackKey ? -1 : 1 });\n            }\n          }\n        )\n      }\n    );\n  }\n);\nvar SliderImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSlider,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onHomeKeyDown,\n      onEndKeyDown,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const context = useSliderContext(SLIDER_NAME, __scopeSlider);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        ...sliderProps,\n        ref: forwardedRef,\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          if (event.key === \"Home\") {\n            onHomeKeyDown(event);\n            event.preventDefault();\n          } else if (event.key === \"End\") {\n            onEndKeyDown(event);\n            event.preventDefault();\n          } else if (PAGE_KEYS.concat(ARROW_KEYS).includes(event.key)) {\n            onStepKeyDown(event);\n            event.preventDefault();\n          }\n        }),\n        onPointerDown: composeEventHandlers(props.onPointerDown, (event) => {\n          const target = event.target;\n          target.setPointerCapture(event.pointerId);\n          event.preventDefault();\n          if (context.thumbs.has(target)) {\n            target.focus();\n          } else {\n            onSlideStart(event);\n          }\n        }),\n        onPointerMove: composeEventHandlers(props.onPointerMove, (event) => {\n          const target = event.target;\n          if (target.hasPointerCapture(event.pointerId)) onSlideMove(event);\n        }),\n        onPointerUp: composeEventHandlers(props.onPointerUp, (event) => {\n          const target = event.target;\n          if (target.hasPointerCapture(event.pointerId)) {\n            target.releasePointerCapture(event.pointerId);\n            onSlideEnd(event);\n          }\n        })\n      }\n    );\n  }\n);\nvar TRACK_NAME = \"SliderTrack\";\nvar SliderTrack = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSlider, ...trackProps } = props;\n    const context = useSliderContext(TRACK_NAME, __scopeSlider);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        \"data-orientation\": context.orientation,\n        ...trackProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nSliderTrack.displayName = TRACK_NAME;\nvar RANGE_NAME = \"SliderRange\";\nvar SliderRange = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSlider, ...rangeProps } = props;\n    const context = useSliderContext(RANGE_NAME, __scopeSlider);\n    const orientation = useSliderOrientationContext(RANGE_NAME, __scopeSlider);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const valuesCount = context.values.length;\n    const percentages = context.values.map(\n      (value) => convertValueToPercentage(value, context.min, context.max)\n    );\n    const offsetStart = valuesCount > 1 ? Math.min(...percentages) : 0;\n    const offsetEnd = 100 - Math.max(...percentages);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        \"data-orientation\": context.orientation,\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        ...rangeProps,\n        ref: composedRefs,\n        style: {\n          ...props.style,\n          [orientation.startEdge]: offsetStart + \"%\",\n          [orientation.endEdge]: offsetEnd + \"%\"\n        }\n      }\n    );\n  }\n);\nSliderRange.displayName = RANGE_NAME;\nvar THUMB_NAME = \"SliderThumb\";\nvar SliderThumb = React.forwardRef(\n  (props, forwardedRef) => {\n    const getItems = useCollection(props.__scopeSlider);\n    const [thumb, setThumb] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setThumb(node));\n    const index = React.useMemo(\n      () => thumb ? getItems().findIndex((item) => item.ref.current === thumb) : -1,\n      [getItems, thumb]\n    );\n    return /* @__PURE__ */ jsx(SliderThumbImpl, { ...props, ref: composedRefs, index });\n  }\n);\nvar SliderThumbImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSlider, index, name, ...thumbProps } = props;\n    const context = useSliderContext(THUMB_NAME, __scopeSlider);\n    const orientation = useSliderOrientationContext(THUMB_NAME, __scopeSlider);\n    const [thumb, setThumb] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setThumb(node));\n    const isFormControl = thumb ? context.form || !!thumb.closest(\"form\") : true;\n    const size = useSize(thumb);\n    const value = context.values[index];\n    const percent = value === void 0 ? 0 : convertValueToPercentage(value, context.min, context.max);\n    const label = getLabel(index, context.values.length);\n    const orientationSize = size?.[orientation.size];\n    const thumbInBoundsOffset = orientationSize ? getThumbInBoundsOffset(orientationSize, percent, orientation.direction) : 0;\n    React.useEffect(() => {\n      if (thumb) {\n        context.thumbs.add(thumb);\n        return () => {\n          context.thumbs.delete(thumb);\n        };\n      }\n    }, [thumb, context.thumbs]);\n    return /* @__PURE__ */ jsxs(\n      \"span\",\n      {\n        style: {\n          transform: \"var(--radix-slider-thumb-transform)\",\n          position: \"absolute\",\n          [orientation.startEdge]: `calc(${percent}% + ${thumbInBoundsOffset}px)`\n        },\n        children: [\n          /* @__PURE__ */ jsx(Collection.ItemSlot, { scope: props.__scopeSlider, children: /* @__PURE__ */ jsx(\n            Primitive.span,\n            {\n              role: \"slider\",\n              \"aria-label\": props[\"aria-label\"] || label,\n              \"aria-valuemin\": context.min,\n              \"aria-valuenow\": value,\n              \"aria-valuemax\": context.max,\n              \"aria-orientation\": context.orientation,\n              \"data-orientation\": context.orientation,\n              \"data-disabled\": context.disabled ? \"\" : void 0,\n              tabIndex: context.disabled ? void 0 : 0,\n              ...thumbProps,\n              ref: composedRefs,\n              style: value === void 0 ? { display: \"none\" } : props.style,\n              onFocus: composeEventHandlers(props.onFocus, () => {\n                context.valueIndexToChangeRef.current = index;\n              })\n            }\n          ) }),\n          isFormControl && /* @__PURE__ */ jsx(\n            BubbleInput,\n            {\n              name: name ?? (context.name ? context.name + (context.values.length > 1 ? \"[]\" : \"\") : void 0),\n              form: context.form,\n              value\n            },\n            index\n          )\n        ]\n      }\n    );\n  }\n);\nSliderThumb.displayName = THUMB_NAME;\nvar BubbleInput = (props) => {\n  const { value, ...inputProps } = props;\n  const ref = React.useRef(null);\n  const prevValue = usePrevious(value);\n  React.useEffect(() => {\n    const input = ref.current;\n    const inputProto = window.HTMLInputElement.prototype;\n    const descriptor = Object.getOwnPropertyDescriptor(inputProto, \"value\");\n    const setValue = descriptor.set;\n    if (prevValue !== value && setValue) {\n      const event = new Event(\"input\", { bubbles: true });\n      setValue.call(input, value);\n      input.dispatchEvent(event);\n    }\n  }, [prevValue, value]);\n  return /* @__PURE__ */ jsx(\"input\", { style: { display: \"none\" }, ...inputProps, ref, defaultValue: value });\n};\nfunction getNextSortedValues(prevValues = [], nextValue, atIndex) {\n  const nextValues = [...prevValues];\n  nextValues[atIndex] = nextValue;\n  return nextValues.sort((a, b) => a - b);\n}\nfunction convertValueToPercentage(value, min, max) {\n  const maxSteps = max - min;\n  const percentPerStep = 100 / maxSteps;\n  const percentage = percentPerStep * (value - min);\n  return clamp(percentage, [0, 100]);\n}\nfunction getLabel(index, totalValues) {\n  if (totalValues > 2) {\n    return `Value ${index + 1} of ${totalValues}`;\n  } else if (totalValues === 2) {\n    return [\"Minimum\", \"Maximum\"][index];\n  } else {\n    return void 0;\n  }\n}\nfunction getClosestValueIndex(values, nextValue) {\n  if (values.length === 1) return 0;\n  const distances = values.map((value) => Math.abs(value - nextValue));\n  const closestDistance = Math.min(...distances);\n  return distances.indexOf(closestDistance);\n}\nfunction getThumbInBoundsOffset(width, left, direction) {\n  const halfWidth = width / 2;\n  const halfPercent = 50;\n  const offset = linearScale([0, halfPercent], [0, halfWidth]);\n  return (halfWidth - offset(left) * direction) * direction;\n}\nfunction getStepsBetweenValues(values) {\n  return values.slice(0, -1).map((value, index) => values[index + 1] - value);\n}\nfunction hasMinStepsBetweenValues(values, minStepsBetweenValues) {\n  if (minStepsBetweenValues > 0) {\n    const stepsBetweenValues = getStepsBetweenValues(values);\n    const actualMinStepsBetweenValues = Math.min(...stepsBetweenValues);\n    return actualMinStepsBetweenValues >= minStepsBetweenValues;\n  }\n  return true;\n}\nfunction linearScale(input, output) {\n  return (value) => {\n    if (input[0] === input[1] || output[0] === output[1]) return output[0];\n    const ratio = (output[1] - output[0]) / (input[1] - input[0]);\n    return output[0] + ratio * (value - input[0]);\n  };\n}\nfunction getDecimalCount(value) {\n  return (String(value).split(\".\")[1] || \"\").length;\n}\nfunction roundValue(value, decimalCount) {\n  const rounder = Math.pow(10, decimalCount);\n  return Math.round(value * rounder) / rounder;\n}\nvar Root = Slider;\nvar Track = SliderTrack;\nvar Range = SliderRange;\nvar Thumb = SliderThumb;\nexport {\n  Range,\n  Root,\n  Slider,\n  SliderRange,\n  SliderThumb,\n  SliderTrack,\n  Thumb,\n  Track,\n  createSliderScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nconst labelEl = (label, value) => {\n  if (!label || !value) {\n    return <></>;\n  } else {\n    return (\n      <div className=\"flex justify-between\">\n        <div className=\"mt-2 text-muted-foreground\">{label}</div>\n        <div className=\"mt-2 text-muted-foreground\">{value[0]}-{value[1]}</div>\n      </div >)\n  }\n}\n\nconst RangeSlider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex flex-col w-full\">\n    <SliderPrimitive.Root\n      minStepsBetweenThumbs={1}\n      ref={ref}\n      className={cn(\n        \"relative flex w-full touch-none select-none items-center mt-2\",\n        className\n      )}\n      {...props}\n    >\n      <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n        <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n      </SliderPrimitive.Track>\n      <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n      <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n    </SliderPrimitive.Root>\n    {labelEl(props.label, props.value)}\n  </div >\n))\nRangeSlider.displayName = SliderPrimitive.Root.displayName\n\n\nexport { RangeSlider }\n","\nimport { Button } from \"@/components/ui/button\";\nimport {\n    DropdownMenu,\n    DropdownMenuContent,\n    DropdownMenuItem,\n    DropdownMenuLabel,\n    DropdownMenuSeparator,\n    DropdownMenuTrigger\n} from \"@/components/ui/dropdown-menu\";\nimport { RangeSlider } from \"@/components/ui/slider\";\nimport { Music } from \"lucide-react\";\n\nexport type VocalRangeValue = \"all\" | [number, number];\n\ninterface VocalRangeSliderProps {\n    maxRange: number;\n    vocalRangeFilter: VocalRangeValue;\n    setVocalRangeFilter: (range: VocalRangeValue) => void;\n}\n\ninterface VocalRangeFilterProps extends VocalRangeSliderProps {\n    iconOnly: boolean;\n}\n\nconst VocalRangeSlider = ({\n    maxRange,\n    vocalRangeFilter,\n    setVocalRangeFilter\n}: VocalRangeSliderProps): JSX.Element => {\n    const currentValue = vocalRangeFilter === \"all\" ? [0, maxRange] : vocalRangeFilter;\n\n    return (\n        <RangeSlider\n            label=\"Semitones\"\n            step={1}\n            min={0}\n            max={maxRange}\n            defaultValue={currentValue}\n            value={currentValue}\n            className=\"max-w-md\"\n            onValueChange={(value) => setVocalRangeFilter(value as [number, number])}\n        />\n    );\n};\n\nexport const VocalRangeFilter = ({\n    maxRange,\n    vocalRangeFilter,\n    setVocalRangeFilter,\n    iconOnly\n}: VocalRangeFilterProps): JSX.Element => {\n    return (\n        <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n                <Button\n                    variant=\"circular\"\n                    className=\"shadow-none outline-0 font-bold rounded-l-none\"\n                >\n                    <Music />\n                    {!iconOnly && \"Range\"}\n                </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent\n                aria-label=\"Vocal range filter slider\"\n                className=\"w-80\"\n                sideOffset={15}\n            >\n                <DropdownMenuItem\n                    key=\"slider\"\n                    onSelect={(e) => e.preventDefault()}\n                >\n                    <VocalRangeSlider\n                        maxRange={maxRange}\n                        vocalRangeFilter={vocalRangeFilter}\n                        setVocalRangeFilter={setVocalRangeFilter}\n                    />\n                </DropdownMenuItem>\n                <DropdownMenuItem\n                    key=\"reset\"\n                    onClick={() => setVocalRangeFilter(\"all\")}\n                >\n                    Reset\n                </DropdownMenuItem>\n            </DropdownMenuContent>\n        </DropdownMenu>\n    );\n};\n\nexport const VocalRangeDropdownSection = (\n    maxRange: number,\n    vocalRangeFilter: VocalRangeValue,\n    setVocalRangeFilter: (range: VocalRangeValue) => void\n): JSX.Element => {\n    return (\n        <>\n            <DropdownMenuLabel>Select song range</DropdownMenuLabel>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem\n                key=\"slider\"\n                onSelect={(e) => e.preventDefault()}\n            >\n                <VocalRangeSlider\n                    maxRange={maxRange}\n                    vocalRangeFilter={vocalRangeFilter}\n                    setVocalRangeFilter={setVocalRangeFilter}\n                />\n            </DropdownMenuItem>\n            <DropdownMenuItem\n                key=\"reset\"\n                onClick={() => setVocalRangeFilter(\"all\")}\n                onSelect={(e) => e.preventDefault()}\n            >\n                Reset\n            </DropdownMenuItem>\n        </>\n    );\n};","import { Filter, Handshake } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n    DropdownMenu,\n    DropdownMenuCheckboxItem,\n    DropdownMenuContent,\n    DropdownMenuTrigger\n} from \"@/components/ui/dropdown-menu\";\nimport { useMediaQuery } from \"@uidotdev/usehooks\";\nimport { LanguageFilter, LanguageFilterDropdownSection } from \"./LanguageFilter\";\nimport { VocalRangeDropdownSection, VocalRangeFilter } from \"./VocalRangeFilter\";\nimport { create } from 'zustand'\nimport { persist } from \"zustand/middleware\"\n\ntype VocalRangeType = \"all\" | [number, number];\n\ninterface FilterSettings {\n    language: string;\n    vocalRange: VocalRangeType;\n    capo: boolean;\n}\n\ninterface FilterProps {\n    languages: string[];\n    maxRange: number;\n}\n\ninterface FilterButtonsProps extends FilterProps {\n    iconOnly: boolean;\n}\n\ninterface FilterSettingsState extends FilterSettings {\n    setLanguage: (language: string) => void;\n    setVocalRange: (range: VocalRangeType) => void;\n    setCapo: (capo: boolean) => void;\n    toggleCapo: () => void;\n}\n\nexport const useFilterSettingsStore = create<FilterSettingsState>()(\n    persist(\n        (set) => ({\n            language: \"all\",\n            vocalRange: \"all\",\n            capo: true,\n            setLanguage: (language: string) => set({ language: language }),\n            setVocalRange: (range: VocalRangeType) => set({ vocalRange: range }),\n            setCapo: (capo: boolean) => set({ capo: capo }),\n            toggleCapo: () => set((state) => ({ capo: !state.capo }))\n        }),\n        {\n            name: 'filter-settings-store'\n        }\n    )\n)\n\nconst FilterButtons = ({\n    languages,\n    maxRange,\n    iconOnly\n}: FilterButtonsProps): JSX.Element => {\n    const { language, vocalRange, capo, setLanguage, setVocalRange, toggleCapo } = useFilterSettingsStore();\n\n    return (\n        <div className=\"flex outline outline-primary dark:outline-primary/30 rounded-full outline-2\">\n            <LanguageFilter\n                languages={languages}\n                selectedLanguage={language}\n                setSelectedLanguage={setLanguage}\n                iconOnly={iconOnly}\n            />\n            <Button\n                variant=\"circular\"\n                isActive={capo}\n                className=\"font-bold rounded-none outline-0 shadow-none\"\n                onClick={toggleCapo}\n            >\n                <Handshake />\n                {!iconOnly && \"Capo\"}\n            </Button>\n            <VocalRangeFilter\n                maxRange={maxRange}\n                vocalRangeFilter={vocalRange}\n                setVocalRangeFilter={setVocalRange}\n                iconOnly={iconOnly}\n            />\n        </div>\n    );\n};\n\nconst Filtering = ({\n    languages,\n    maxRange\n}: FilterProps): JSX.Element => {\n    const { language, vocalRange, capo, setLanguage, setVocalRange, toggleCapo } = useFilterSettingsStore();\n    const isLargeScreen = useMediaQuery(\"only screen and (min-width : 1000px)\");\n\n    const isFilterInactive = (\n        language === \"all\" &&\n        (vocalRange === \"all\" || (\n            Array.isArray(vocalRange) &&\n            vocalRange[0] === 0 &&\n            vocalRange[1] === maxRange\n        )) &&\n        capo\n    );\n\n    return (\n        <>\n            {/* Desktop View */}\n            <div className=\"hidden lg:flex\">\n                <FilterButtons\n                    languages={languages}\n                    maxRange={maxRange}\n                    iconOnly={isLargeScreen}\n                />\n            </div>\n\n            {/* Mobile View */}\n            <div className=\"lg:hidden\">\n                <DropdownMenu>\n                    <DropdownMenuTrigger asChild>\n                        <Button\n                            size=\"icon\"\n                            variant=\"circular\"\n                            isActive={!isFilterInactive}\n                        >\n                            <Filter />\n                        </Button>\n                    </DropdownMenuTrigger>\n                    <DropdownMenuContent\n                        aria-label=\"Filtering\"\n                        className=\"dropdown-scroll no-scrollbar w-52 max-h-[80vh] overflow-y-scroll\"\n                        sideOffset={15}\n                    >\n                        <DropdownMenuCheckboxItem\n                            onClick={toggleCapo}\n                            onSelect={e => e.preventDefault()}\n                            checked={capo}\n                        >\n                            Allow capo\n                        </DropdownMenuCheckboxItem>\n\n                        {VocalRangeDropdownSection(\n                            maxRange,\n                            vocalRange,\n                            setVocalRange\n                        )}\n                        {LanguageFilterDropdownSection(\n                            languages,\n                            language,\n                            setLanguage\n\n                        )}\n                    </DropdownMenuContent>\n                </DropdownMenu>\n            </div>\n        </>\n    );\n};\n\nexport default Filtering;","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-full w-full rounded-md bg-background text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    ) \n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","import { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { cn } from '@/lib/utils';\nimport { Search as SearchIcon, XIcon } from \"lucide-react\";\nimport { ChangeEvent, useEffect, useRef, useState } from 'react';\nimport { create } from 'zustand';\n\ninterface QueryState {\n    query: string;\n    setQuery: (query: string) => void;\n}\n\nexport const useQueryStore = create<QueryState>()(\n    (set) => ({\n        query: \"\",\n        setQuery: (query: string) => set({ query: query })\n    })\n)\n\nfunction SearchBar() {\n    const [isExpanded, setIsExpanded] = useState(false);\n    const [expandedWidth, setExpandedWidth] = useState(248);\n    const mobileInputRef = useRef<HTMLInputElement>(null);\n    const { query, setQuery } = useQueryStore();\n\n\n    const search = (e: ChangeEvent<HTMLInputElement>) => {\n        const newQuery = e.target.value;\n        setQuery(newQuery);\n    };\n\n    useEffect(() => {\n        if (isExpanded && mobileInputRef.current) {\n            mobileInputRef.current.focus();\n        }\n    }, [isExpanded]);\n\n    const handleToggle = () => {\n        const navbar = document.getElementById('navbar');\n        if (navbar) {\n            setExpandedWidth(navbar.offsetWidth);\n        }\n        setIsExpanded(!isExpanded);\n    };\n\n    const handleClear = () => {\n        setQuery(\"\");\n        setIsExpanded(false);\n    };\n\n    const ClearButton = () => (\n        <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className={cn(\"absolute right-1 top-1/2 transition-all duration-300 ease-in-out -translate-y-1/2 h-7 w-7 !bg-transparent !hover:bg-transparent hover:scale-125 hover:text-primary\", query ? \"scale-100\" : \"scale-0\")}\n            onClick={handleClear}\n        >\n            <XIcon className=\"h-4 w-4\" />\n            <span className=\"sr-only\">Clear</span>\n        </Button>\n    );\n\n    return (\n        <>\n            {/* Mobile Search */}\n            <div className=\"flex xs:hidden items-center gap-2\">\n                <div className={cn(\"relative flex transition-all duration-300 ease-in-out items-center z-50\", isExpanded ? \"-translate-x-12\" : \"\")}>\n                    <Button\n                        type=\"button\"\n                        variant=\"circular\"\n                        size=\"icon\"\n                        className={cn(\"relative z-10 transition-all duration-300 ease-in-out\", isExpanded ? 'bg-background rounded-r-none text-primary dark:outline-primary' : '', query ? \"bg-primary text-white dark:bg-background dark:text-primary\" : \"\")}\n                        onClick={handleToggle}\n                        aria-label={isExpanded ? \"Close search\" : \"Open search\"}\n                        aria-expanded={isExpanded}\n                    >\n                        <SearchIcon className={cn(\"h-4 w-4\", isExpanded ? \"scale-110\" : \"\")} />\n                    </Button>\n                    <div\n                        className={cn(\"absolute left-0 top-0 flex h-full items-center overflow-hidden transition-all duration-300 ease-in-out outline-primary outline outline-2\",\n                            isExpanded ? 'opacity-100 rounded-full' : 'opacity-0', query ? ' outline-primary' : '')}\n                        style={{ width: isExpanded ? `calc(${expandedWidth}px - 1rem)` : '0' }}\n                    >\n                        <Button\n                            type=\"button\"\n                            variant=\"circular\"\n                            size=\"icon\"\n                            className=\"opacity-0\"\n                            tabIndex={-1}\n                            aria-hidden=\"true\"\n                        >\n                            <SearchIcon className=\"h-4 w-4\" />\n                        </Button>\n                        <Input\n                            ref={mobileInputRef}\n                            onChange={search}\n                            value={query}\n                            placeholder=\"Search...\"\n                            className={cn(\"pl-10 pr-4 text-sm font-medium placeholder:font-normal border-none rounded-full rounded-l-none peer bg-background text-primary placeholder:text-primary dark:placeholder:text-primary/30\",\n                                query ? \"bg-background \" : \"\")}\n                        />\n                        <ClearButton />\n                    </div>\n                </div>\n            </div >\n\n            {/* Desktop Search */}\n            < div className={cn(\"relative hidden xs:flex items-center h-full text-primary dark:text-primary/30 transition-all duration-300 ease-in-out shadow-md rounded-full flex-1 outline-primary dark:outline-primary/30 outline outline-2\")}>\n                <Input\n                    onChange={search}\n                    value={query}\n                    placeholder=\"Search...\"\n                    className={cn(\"pl-10 pr-4 text-sm font-medium placeholder:font-normal border-none rounded-full peer hover:bg-background dark:bg-background focus:bg-background text-primary placeholder:text-primary dark:placeholder:text-primary/30\",\n                        query ? \"bg-background dark:bg-primary/30\" : \"bg-white dark:bg-background\")}\n                />\n                <ClearButton />\n                <div className={cn(\"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none peer-focus:scale-110 peer-focus:text-primary duration-300 ease-in-out transform\", query ? \"scale-110 text-primary\" : \"\")}>\n                    <SearchIcon className=\"w-5 h-5\" />\n                </div>\n            </div >\n        </>\n    );\n}\n\nexport default SearchBar;","import { Button } from \"@/components/ui/button\"\nimport {\n    DropdownIconStart,\n    DropdownMenu,\n    DropdownMenuCheckboxItem,\n    DropdownMenuContent,\n    DropdownMenuLabel,\n    DropdownMenuSeparator,\n    DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\"\nimport FancySwitch from \"@/components/ui/fancy-switch\"\nimport { SortField, SortOrder, SortSettings } from \"@/types/types\"\nimport {\n    ArrowDown01,\n    ArrowDown10,\n    ArrowDownAZ,\n    ArrowDownUp,\n    ArrowDownZA,\n    AudioLines,\n    CalendarPlus,\n    MicVocal,\n    Music\n} from \"lucide-react\"\nimport { ReactElement } from \"react\"\nimport { create } from 'zustand'\nimport { persist } from \"zustand/middleware\"\n\ninterface SortSettingsState extends SortSettings {\n    setSortOrder: (sortOrder: SortOrder) => void;\n    setSortField: (sortField: SortField) => void;\n}\n\nexport const useSortSettingsStore = create<SortSettingsState>()(\n    persist(\n        (set) => ({\n            order: \"ascending\" as SortOrder,\n            field: \"title\" as SortField,\n            setSortOrder: (sortOrder: SortOrder) => set({\n                order: sortOrder\n            }),\n            setSortField: (sortField: SortField) => set({\n                field: sortField\n            })\n\n        }),\n        {\n            name: 'sort-settings-store'\n        }\n    )\n)\n\ninterface SortingIcons {\n    ascending: ReactElement;\n    descending: ReactElement;\n}\n\ninterface SortingLabels {\n    ascending: string;\n    descending: string;\n}\n\ninterface Category {\n    field: SortField;\n    title: string;\n    icon: ReactElement;\n    sorting_icons: SortingIcons;\n    sorting_labels: SortingLabels;\n}\n\ninterface SwitchOption {\n    label: string;\n    value: SortField;\n}\n\nconst letterSortingIcons: SortingIcons = {\n    ascending: <ArrowDownAZ />,\n    descending: <ArrowDownZA />\n};\n\nconst numberSortingIcons: SortingIcons = {\n    ascending: <ArrowDown01 />,\n    descending: <ArrowDown10 />\n};\n\nconst categories: Category[] = [\n    {\n        field: \"title\",\n        title: \"Title\",\n        icon: <AudioLines />,\n        sorting_icons: letterSortingIcons,\n        sorting_labels: {\n            ascending: \"Ascending\",\n            descending: \"Descending\"\n        }\n    },\n    {\n        field: \"artist\",\n        title: \"Artist\",\n        icon: <MicVocal />,\n        sorting_icons: letterSortingIcons,\n        sorting_labels: {\n            ascending: \"Ascending\",\n            descending: \"Descending\"\n        }\n    },\n    {\n        field: \"dateAdded\",\n        title: \"Date Added\",\n        icon: <CalendarPlus />,\n        sorting_icons: numberSortingIcons,\n        sorting_labels: {\n            ascending: \"Lucie Bl  Vivaldi\",\n            descending: \"Vivaldi  Lucie Bl\"\n        }\n    },\n    {\n        field: \"range\",\n        title: \"Range\",\n        icon: <Music />,\n        sorting_icons: numberSortingIcons,\n        sorting_labels: {\n            ascending: \"Me  Freddie\",\n            descending: \"Freddie  Me\"\n        }\n    },\n];\n\nconst isActive = (sortingField: SortField, buttonField: SortField): boolean => {\n    return sortingField === buttonField;\n};\n\nconst toggleSortOrder = (sortOrder: SortOrder): SortOrder => {\n    return sortOrder === \"descending\" ? \"ascending\" : \"descending\";\n};\n\nconst getActiveCategory = (sortingField: SortField): Category => {\n    const category = categories.find((cat) => cat.field === sortingField);\n    if (!category) {\n        throw new Error(`Invalid sorting field: ${sortingField}`);\n    }\n    return category;\n};\n\nconst SortMenu = (): JSX.Element => {\n    const { field: sortByField, order: sortOrder, setSortField, setSortOrder } = useSortSettingsStore();\n\n    const switchOptions: SwitchOption[] = categories.map(c => ({\n        label: c.title,\n        value: c.field\n    }));\n\n    const activeCategory = getActiveCategory(sortByField);\n\n    return (\n        <>\n            {/* Mobile View */}\n            <div className=\"flex md:hidden\">\n                <DropdownMenu>\n                    <DropdownMenuTrigger asChild>\n                        <Button\n                            size=\"icon\"\n                            variant=\"circular\"\n                        >\n                            <ArrowDownUp size={32} />\n                        </Button>\n                    </DropdownMenuTrigger>\n                    <DropdownMenuContent className=\"w-56\"\n                        sideOffset={15}>\n                        <DropdownMenuLabel>Sorting method</DropdownMenuLabel>\n                        <DropdownMenuSeparator />\n                        {categories.map(category => (\n                            <DropdownMenuCheckboxItem\n                                key={category.field}\n                                onSelect={(e) => e.preventDefault()}\n                                checked={isActive(sortByField, category.field)}\n                                onCheckedChange={() => setSortField(category.field)}\n                            >\n                                <DropdownIconStart icon={category.icon} />\n                                {category.title}\n                            </DropdownMenuCheckboxItem>\n                        ))}\n                        <DropdownMenuLabel>Direction</DropdownMenuLabel>\n                        <DropdownMenuSeparator />\n                        {(['ascending', 'descending'] as const).map((direction) => (\n                            <DropdownMenuCheckboxItem\n                                key={`${direction}_sort`}\n                                checked={sortOrder === direction}\n                                onSelect={(e) => e.preventDefault()}\n                                onCheckedChange={() => setSortOrder(direction)}\n                            >\n                                <DropdownIconStart\n                                    icon={activeCategory.sorting_icons[direction]}\n                                />\n                                {activeCategory.sorting_labels[direction]}\n                            </DropdownMenuCheckboxItem>\n                        ))}\n                    </DropdownMenuContent>\n                </DropdownMenu>\n            </div>\n\n            {/* Desktop View */}\n            <div className=\"hidden md:flex h-full w-fit\">\n                <FancySwitch\n                    options={switchOptions}\n                    setSelectedOption={setSortField}\n                    selectedOption={sortByField}\n                    roundedClass=\"rounded-l-full\"\n                >\n                    <Button\n                        className=\"rounded-r-full\"\n                        onClick={() => setSortOrder(toggleSortOrder(sortOrder))}\n                    >\n                        {activeCategory.sorting_icons[sortOrder]}\n                    </Button>\n                </FancySwitch>\n            </div>\n        </>\n    );\n};\n\nexport default SortMenu;","import { ModeToggle } from \"@/components/mode-toggle\";\nimport RandomSong from \"@/components/RandomSong\";\nimport { Button } from \"@/components/ui/button\";\nimport ToolbarBase from \"@/components/ui/toolbar-base\";\nimport { SongData } from \"@/types/types\";\nimport { ImagesIcon } from \"lucide-react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Filtering from \"./filters/Filters\";\nimport SearchBar from './SearchBar';\nimport SortMenu from \"./SortMenu\";\n\ninterface ToolbarProps {\n    songs: SongData[];\n    showToolbar: boolean;\n    scrollOffset: number;\n    fakeScroll?: boolean;\n    maxRange: number;\n    languages: string[];\n}\n\nfunction Toolbar({\n    songs,\n    showToolbar,\n    scrollOffset,\n    fakeScroll = false,\n    maxRange,\n    languages\n}: ToolbarProps) {\n\n    const navigate = useNavigate();\n\n    return (\n        <ToolbarBase showToolbar={showToolbar} scrollOffset={scrollOffset} fakeScroll={fakeScroll}>\n            <SortMenu />\n            <SearchBar />\n            <Filtering\n                languages={languages}\n                maxRange={maxRange}\n            />\n            <div className=\"hidden h-full w-fit sm:flex\">\n                <ModeToggle />\n            </div>\n            <Button\n                size=\"icon\"\n                variant=\"circular\"\n                onClick={() => navigate(\"gallery\")}\n            >\n                <ImagesIcon />\n            </Button>\n            <RandomSong songs={songs} />\n        </ToolbarBase>\n    );\n}\n\nexport default Toolbar;","/**\n * Fuse.js v7.0.0 - Lightweight fuzzy-search (http://fusejs.io)\n *\n * Copyright (c) 2023 Kiro Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction isArray(value) {\n  return !Array.isArray\n    ? getTag(value) === '[object Array]'\n    : Array.isArray(value)\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/baseToString.js\nconst INFINITY = 1 / 0;\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value\n  }\n  let result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result\n}\n\nfunction toString(value) {\n  return value == null ? '' : baseToString(value)\n}\n\nfunction isString(value) {\n  return typeof value === 'string'\n}\n\nfunction isNumber(value) {\n  return typeof value === 'number'\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js\nfunction isBoolean(value) {\n  return (\n    value === true ||\n    value === false ||\n    (isObjectLike(value) && getTag(value) == '[object Boolean]')\n  )\n}\n\nfunction isObject(value) {\n  return typeof value === 'object'\n}\n\n// Checks if `value` is object-like.\nfunction isObjectLike(value) {\n  return isObject(value) && value !== null\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null\n}\n\nfunction isBlank(value) {\n  return !value.trim().length\n}\n\n// Gets the `toStringTag` of `value`.\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js\nfunction getTag(value) {\n  return value == null\n    ? value === undefined\n      ? '[object Undefined]'\n      : '[object Null]'\n    : Object.prototype.toString.call(value)\n}\n\nconst EXTENDED_SEARCH_UNAVAILABLE = 'Extended search is not available';\n\nconst INCORRECT_INDEX_TYPE = \"Incorrect 'index' type\";\n\nconst LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = (key) =>\n  `Invalid value for key ${key}`;\n\nconst PATTERN_LENGTH_TOO_LARGE = (max) =>\n  `Pattern length exceeds max of ${max}.`;\n\nconst MISSING_KEY_PROPERTY = (name) => `Missing ${name} property in key`;\n\nconst INVALID_KEY_WEIGHT_VALUE = (key) =>\n  `Property 'weight' in key '${key}' must be a positive integer`;\n\nconst hasOwn = Object.prototype.hasOwnProperty;\n\nclass KeyStore {\n  constructor(keys) {\n    this._keys = [];\n    this._keyMap = {};\n\n    let totalWeight = 0;\n\n    keys.forEach((key) => {\n      let obj = createKey(key);\n\n      this._keys.push(obj);\n      this._keyMap[obj.id] = obj;\n\n      totalWeight += obj.weight;\n    });\n\n    // Normalize weights so that their sum is equal to 1\n    this._keys.forEach((key) => {\n      key.weight /= totalWeight;\n    });\n  }\n  get(keyId) {\n    return this._keyMap[keyId]\n  }\n  keys() {\n    return this._keys\n  }\n  toJSON() {\n    return JSON.stringify(this._keys)\n  }\n}\n\nfunction createKey(key) {\n  let path = null;\n  let id = null;\n  let src = null;\n  let weight = 1;\n  let getFn = null;\n\n  if (isString(key) || isArray(key)) {\n    src = key;\n    path = createKeyPath(key);\n    id = createKeyId(key);\n  } else {\n    if (!hasOwn.call(key, 'name')) {\n      throw new Error(MISSING_KEY_PROPERTY('name'))\n    }\n\n    const name = key.name;\n    src = name;\n\n    if (hasOwn.call(key, 'weight')) {\n      weight = key.weight;\n\n      if (weight <= 0) {\n        throw new Error(INVALID_KEY_WEIGHT_VALUE(name))\n      }\n    }\n\n    path = createKeyPath(name);\n    id = createKeyId(name);\n    getFn = key.getFn;\n  }\n\n  return { path, id, weight, src, getFn }\n}\n\nfunction createKeyPath(key) {\n  return isArray(key) ? key : key.split('.')\n}\n\nfunction createKeyId(key) {\n  return isArray(key) ? key.join('.') : key\n}\n\nfunction get(obj, path) {\n  let list = [];\n  let arr = false;\n\n  const deepGet = (obj, path, index) => {\n    if (!isDefined(obj)) {\n      return\n    }\n    if (!path[index]) {\n      // If there's no path left, we've arrived at the object we care about.\n      list.push(obj);\n    } else {\n      let key = path[index];\n\n      const value = obj[key];\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      // If we're at the last value in the path, and if it's a string/number/bool,\n      // add it to the list\n      if (\n        index === path.length - 1 &&\n        (isString(value) || isNumber(value) || isBoolean(value))\n      ) {\n        list.push(toString(value));\n      } else if (isArray(value)) {\n        arr = true;\n        // Search each item in the array.\n        for (let i = 0, len = value.length; i < len; i += 1) {\n          deepGet(value[i], path, index + 1);\n        }\n      } else if (path.length) {\n        // An object. Recurse further.\n        deepGet(value, path, index + 1);\n      }\n    }\n  };\n\n  // Backwards compatibility (since path used to be a string)\n  deepGet(obj, isString(path) ? path.split('.') : path, 0);\n\n  return arr ? list : list[0]\n}\n\nconst MatchOptions = {\n  // Whether the matches should be included in the result set. When `true`, each record in the result\n  // set will include the indices of the matched characters.\n  // These can consequently be used for highlighting purposes.\n  includeMatches: false,\n  // When `true`, the matching function will continue to the end of a search pattern even if\n  // a perfect match has already been located in the string.\n  findAllMatches: false,\n  // Minimum number of characters that must be matched before a result is considered a match\n  minMatchCharLength: 1\n};\n\nconst BasicOptions = {\n  // When `true`, the algorithm continues searching to the end of the input even if a perfect\n  // match is found before the end of the same input.\n  isCaseSensitive: false,\n  // When true, the matching function will continue to the end of a search pattern even if\n  includeScore: false,\n  // List of properties that will be searched. This also supports nested properties.\n  keys: [],\n  // Whether to sort the result list, by score\n  shouldSort: true,\n  // Default sort function: sort by ascending score, ascending index\n  sortFn: (a, b) =>\n    a.score === b.score ? (a.idx < b.idx ? -1 : 1) : a.score < b.score ? -1 : 1\n};\n\nconst FuzzyOptions = {\n  // Approximately where in the text is the pattern expected to be found?\n  location: 0,\n  // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match\n  // (of both letters and location), a threshold of '1.0' would match anything.\n  threshold: 0.6,\n  // Determines how close the match must be to the fuzzy location (specified above).\n  // An exact letter match which is 'distance' characters away from the fuzzy location\n  // would score as a complete mismatch. A distance of '0' requires the match be at\n  // the exact location specified, a threshold of '1000' would require a perfect match\n  // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\n  distance: 100\n};\n\nconst AdvancedOptions = {\n  // When `true`, it enables the use of unix-like search commands\n  useExtendedSearch: false,\n  // The get function to use when fetching an object's properties.\n  // The default will search nested paths *ie foo.bar.baz*\n  getFn: get,\n  // When `true`, search will ignore `location` and `distance`, so it won't matter\n  // where in the string the pattern appears.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score\n  ignoreLocation: false,\n  // When `true`, the calculation for the relevance score (used for sorting) will\n  // ignore the field-length norm.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm\n  ignoreFieldNorm: false,\n  // The weight to determine how much field length norm effects scoring.\n  fieldNormWeight: 1\n};\n\nvar Config = {\n  ...BasicOptions,\n  ...MatchOptions,\n  ...FuzzyOptions,\n  ...AdvancedOptions\n};\n\nconst SPACE = /[^ ]+/g;\n\n// Field-length norm: the shorter the field, the higher the weight.\n// Set to 3 decimals to reduce index size.\nfunction norm(weight = 1, mantissa = 3) {\n  const cache = new Map();\n  const m = Math.pow(10, mantissa);\n\n  return {\n    get(value) {\n      const numTokens = value.match(SPACE).length;\n\n      if (cache.has(numTokens)) {\n        return cache.get(numTokens)\n      }\n\n      // Default function is 1/sqrt(x), weight makes that variable\n      const norm = 1 / Math.pow(numTokens, 0.5 * weight);\n\n      // In place of `toFixed(mantissa)`, for faster computation\n      const n = parseFloat(Math.round(norm * m) / m);\n\n      cache.set(numTokens, n);\n\n      return n\n    },\n    clear() {\n      cache.clear();\n    }\n  }\n}\n\nclass FuseIndex {\n  constructor({\n    getFn = Config.getFn,\n    fieldNormWeight = Config.fieldNormWeight\n  } = {}) {\n    this.norm = norm(fieldNormWeight, 3);\n    this.getFn = getFn;\n    this.isCreated = false;\n\n    this.setIndexRecords();\n  }\n  setSources(docs = []) {\n    this.docs = docs;\n  }\n  setIndexRecords(records = []) {\n    this.records = records;\n  }\n  setKeys(keys = []) {\n    this.keys = keys;\n    this._keysMap = {};\n    keys.forEach((key, idx) => {\n      this._keysMap[key.id] = idx;\n    });\n  }\n  create() {\n    if (this.isCreated || !this.docs.length) {\n      return\n    }\n\n    this.isCreated = true;\n\n    // List is Array<String>\n    if (isString(this.docs[0])) {\n      this.docs.forEach((doc, docIndex) => {\n        this._addString(doc, docIndex);\n      });\n    } else {\n      // List is Array<Object>\n      this.docs.forEach((doc, docIndex) => {\n        this._addObject(doc, docIndex);\n      });\n    }\n\n    this.norm.clear();\n  }\n  // Adds a doc to the end of the index\n  add(doc) {\n    const idx = this.size();\n\n    if (isString(doc)) {\n      this._addString(doc, idx);\n    } else {\n      this._addObject(doc, idx);\n    }\n  }\n  // Removes the doc at the specified index of the index\n  removeAt(idx) {\n    this.records.splice(idx, 1);\n\n    // Change ref index of every subsquent doc\n    for (let i = idx, len = this.size(); i < len; i += 1) {\n      this.records[i].i -= 1;\n    }\n  }\n  getValueForItemAtKeyId(item, keyId) {\n    return item[this._keysMap[keyId]]\n  }\n  size() {\n    return this.records.length\n  }\n  _addString(doc, docIndex) {\n    if (!isDefined(doc) || isBlank(doc)) {\n      return\n    }\n\n    let record = {\n      v: doc,\n      i: docIndex,\n      n: this.norm.get(doc)\n    };\n\n    this.records.push(record);\n  }\n  _addObject(doc, docIndex) {\n    let record = { i: docIndex, $: {} };\n\n    // Iterate over every key (i.e, path), and fetch the value at that key\n    this.keys.forEach((key, keyIndex) => {\n      let value = key.getFn ? key.getFn(doc) : this.getFn(doc, key.path);\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      if (isArray(value)) {\n        let subRecords = [];\n        const stack = [{ nestedArrIndex: -1, value }];\n\n        while (stack.length) {\n          const { nestedArrIndex, value } = stack.pop();\n\n          if (!isDefined(value)) {\n            continue\n          }\n\n          if (isString(value) && !isBlank(value)) {\n            let subRecord = {\n              v: value,\n              i: nestedArrIndex,\n              n: this.norm.get(value)\n            };\n\n            subRecords.push(subRecord);\n          } else if (isArray(value)) {\n            value.forEach((item, k) => {\n              stack.push({\n                nestedArrIndex: k,\n                value: item\n              });\n            });\n          } else ;\n        }\n        record.$[keyIndex] = subRecords;\n      } else if (isString(value) && !isBlank(value)) {\n        let subRecord = {\n          v: value,\n          n: this.norm.get(value)\n        };\n\n        record.$[keyIndex] = subRecord;\n      }\n    });\n\n    this.records.push(record);\n  }\n  toJSON() {\n    return {\n      keys: this.keys,\n      records: this.records\n    }\n  }\n}\n\nfunction createIndex(\n  keys,\n  docs,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys.map(createKey));\n  myIndex.setSources(docs);\n  myIndex.create();\n  return myIndex\n}\n\nfunction parseIndex(\n  data,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const { keys, records } = data;\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys);\n  myIndex.setIndexRecords(records);\n  return myIndex\n}\n\nfunction computeScore$1(\n  pattern,\n  {\n    errors = 0,\n    currentLocation = 0,\n    expectedLocation = 0,\n    distance = Config.distance,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  const accuracy = errors / pattern.length;\n\n  if (ignoreLocation) {\n    return accuracy\n  }\n\n  const proximity = Math.abs(expectedLocation - currentLocation);\n\n  if (!distance) {\n    // Dodge divide by zero error.\n    return proximity ? 1.0 : accuracy\n  }\n\n  return accuracy + proximity / distance\n}\n\nfunction convertMaskToIndices(\n  matchmask = [],\n  minMatchCharLength = Config.minMatchCharLength\n) {\n  let indices = [];\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (let len = matchmask.length; i < len; i += 1) {\n    let match = matchmask[i];\n    if (match && start === -1) {\n      start = i;\n    } else if (!match && start !== -1) {\n      end = i - 1;\n      if (end - start + 1 >= minMatchCharLength) {\n        indices.push([start, end]);\n      }\n      start = -1;\n    }\n  }\n\n  // (i-1 - start) + 1 => i - start\n  if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n    indices.push([start, i - 1]);\n  }\n\n  return indices\n}\n\n// Machine word size\nconst MAX_BITS = 32;\n\nfunction search(\n  text,\n  pattern,\n  patternAlphabet,\n  {\n    location = Config.location,\n    distance = Config.distance,\n    threshold = Config.threshold,\n    findAllMatches = Config.findAllMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    includeMatches = Config.includeMatches,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  if (pattern.length > MAX_BITS) {\n    throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS))\n  }\n\n  const patternLen = pattern.length;\n  // Set starting location at beginning text and initialize the alphabet.\n  const textLen = text.length;\n  // Handle the case when location > text.length\n  const expectedLocation = Math.max(0, Math.min(location, textLen));\n  // Highest score beyond which we give up.\n  let currentThreshold = threshold;\n  // Is there a nearby exact match? (speedup)\n  let bestLocation = expectedLocation;\n\n  // Performance: only computer matches when the minMatchCharLength > 1\n  // OR if `includeMatches` is true.\n  const computeMatches = minMatchCharLength > 1 || includeMatches;\n  // A mask of the matches, used for building the indices\n  const matchMask = computeMatches ? Array(textLen) : [];\n\n  let index;\n\n  // Get all exact matches, here for speed up\n  while ((index = text.indexOf(pattern, bestLocation)) > -1) {\n    let score = computeScore$1(pattern, {\n      currentLocation: index,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    currentThreshold = Math.min(score, currentThreshold);\n    bestLocation = index + patternLen;\n\n    if (computeMatches) {\n      let i = 0;\n      while (i < patternLen) {\n        matchMask[index + i] = 1;\n        i += 1;\n      }\n    }\n  }\n\n  // Reset the best location\n  bestLocation = -1;\n\n  let lastBitArr = [];\n  let finalScore = 1;\n  let binMax = patternLen + textLen;\n\n  const mask = 1 << (patternLen - 1);\n\n  for (let i = 0; i < patternLen; i += 1) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from the match location we can stray\n    // at this error level.\n    let binMin = 0;\n    let binMid = binMax;\n\n    while (binMin < binMid) {\n      const score = computeScore$1(pattern, {\n        errors: i,\n        currentLocation: expectedLocation + binMid,\n        expectedLocation,\n        distance,\n        ignoreLocation\n      });\n\n      if (score <= currentThreshold) {\n        binMin = binMid;\n      } else {\n        binMax = binMid;\n      }\n\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    }\n\n    // Use the result from this iteration as the maximum for the next.\n    binMax = binMid;\n\n    let start = Math.max(1, expectedLocation - binMid + 1);\n    let finish = findAllMatches\n      ? textLen\n      : Math.min(expectedLocation + binMid, textLen) + patternLen;\n\n    // Initialize the bit array\n    let bitArr = Array(finish + 2);\n\n    bitArr[finish + 1] = (1 << i) - 1;\n\n    for (let j = finish; j >= start; j -= 1) {\n      let currentLocation = j - 1;\n      let charMatch = patternAlphabet[text.charAt(currentLocation)];\n\n      if (computeMatches) {\n        // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)\n        matchMask[currentLocation] = +!!charMatch;\n      }\n\n      // First pass: exact match\n      bitArr[j] = ((bitArr[j + 1] << 1) | 1) & charMatch;\n\n      // Subsequent passes: fuzzy match\n      if (i) {\n        bitArr[j] |=\n          ((lastBitArr[j + 1] | lastBitArr[j]) << 1) | 1 | lastBitArr[j + 1];\n      }\n\n      if (bitArr[j] & mask) {\n        finalScore = computeScore$1(pattern, {\n          errors: i,\n          currentLocation,\n          expectedLocation,\n          distance,\n          ignoreLocation\n        });\n\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (finalScore <= currentThreshold) {\n          // Indeed it is\n          currentThreshold = finalScore;\n          bestLocation = currentLocation;\n\n          // Already passed `loc`, downhill from here on in.\n          if (bestLocation <= expectedLocation) {\n            break\n          }\n\n          // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n          start = Math.max(1, 2 * expectedLocation - bestLocation);\n        }\n      }\n    }\n\n    // No hope for a (better) match at greater error levels.\n    const score = computeScore$1(pattern, {\n      errors: i + 1,\n      currentLocation: expectedLocation,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    if (score > currentThreshold) {\n      break\n    }\n\n    lastBitArr = bitArr;\n  }\n\n  const result = {\n    isMatch: bestLocation >= 0,\n    // Count exact matches (those with a score of 0) to be \"almost\" exact\n    score: Math.max(0.001, finalScore)\n  };\n\n  if (computeMatches) {\n    const indices = convertMaskToIndices(matchMask, minMatchCharLength);\n    if (!indices.length) {\n      result.isMatch = false;\n    } else if (includeMatches) {\n      result.indices = indices;\n    }\n  }\n\n  return result\n}\n\nfunction createPatternAlphabet(pattern) {\n  let mask = {};\n\n  for (let i = 0, len = pattern.length; i < len; i += 1) {\n    const char = pattern.charAt(i);\n    mask[char] = (mask[char] || 0) | (1 << (len - i - 1));\n  }\n\n  return mask\n}\n\nclass BitapSearch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    this.options = {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    };\n\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n\n    this.chunks = [];\n\n    if (!this.pattern.length) {\n      return\n    }\n\n    const addChunk = (pattern, startIndex) => {\n      this.chunks.push({\n        pattern,\n        alphabet: createPatternAlphabet(pattern),\n        startIndex\n      });\n    };\n\n    const len = this.pattern.length;\n\n    if (len > MAX_BITS) {\n      let i = 0;\n      const remainder = len % MAX_BITS;\n      const end = len - remainder;\n\n      while (i < end) {\n        addChunk(this.pattern.substr(i, MAX_BITS), i);\n        i += MAX_BITS;\n      }\n\n      if (remainder) {\n        const startIndex = len - MAX_BITS;\n        addChunk(this.pattern.substr(startIndex), startIndex);\n      }\n    } else {\n      addChunk(this.pattern, 0);\n    }\n  }\n\n  searchIn(text) {\n    const { isCaseSensitive, includeMatches } = this.options;\n\n    if (!isCaseSensitive) {\n      text = text.toLowerCase();\n    }\n\n    // Exact match\n    if (this.pattern === text) {\n      let result = {\n        isMatch: true,\n        score: 0\n      };\n\n      if (includeMatches) {\n        result.indices = [[0, text.length - 1]];\n      }\n\n      return result\n    }\n\n    // Otherwise, use Bitap algorithm\n    const {\n      location,\n      distance,\n      threshold,\n      findAllMatches,\n      minMatchCharLength,\n      ignoreLocation\n    } = this.options;\n\n    let allIndices = [];\n    let totalScore = 0;\n    let hasMatches = false;\n\n    this.chunks.forEach(({ pattern, alphabet, startIndex }) => {\n      const { isMatch, score, indices } = search(text, pattern, alphabet, {\n        location: location + startIndex,\n        distance,\n        threshold,\n        findAllMatches,\n        minMatchCharLength,\n        includeMatches,\n        ignoreLocation\n      });\n\n      if (isMatch) {\n        hasMatches = true;\n      }\n\n      totalScore += score;\n\n      if (isMatch && indices) {\n        allIndices = [...allIndices, ...indices];\n      }\n    });\n\n    let result = {\n      isMatch: hasMatches,\n      score: hasMatches ? totalScore / this.chunks.length : 1\n    };\n\n    if (hasMatches && includeMatches) {\n      result.indices = allIndices;\n    }\n\n    return result\n  }\n}\n\nclass BaseMatch {\n  constructor(pattern) {\n    this.pattern = pattern;\n  }\n  static isMultiMatch(pattern) {\n    return getMatch(pattern, this.multiRegex)\n  }\n  static isSingleMatch(pattern) {\n    return getMatch(pattern, this.singleRegex)\n  }\n  search(/*text*/) {}\n}\n\nfunction getMatch(pattern, exp) {\n  const matches = pattern.match(exp);\n  return matches ? matches[1] : null\n}\n\n// Token: 'file\n\nclass ExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'exact'\n  }\n  static get multiRegex() {\n    return /^=\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^=(.*)$/\n  }\n  search(text) {\n    const isMatch = text === this.pattern;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !fire\n\nclass InverseExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!(.*)$/\n  }\n  search(text) {\n    const index = text.indexOf(this.pattern);\n    const isMatch = index === -1;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: ^file\n\nclass PrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'prefix-exact'\n  }\n  static get multiRegex() {\n    return /^\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !^fire\n\nclass InversePrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-prefix-exact'\n  }\n  static get multiRegex() {\n    return /^!\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = !text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: .file$\n\nclass SuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'suffix-exact'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = text.endsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [text.length - this.pattern.length, text.length - 1]\n    }\n  }\n}\n\n// Token: !.file$\n\nclass InverseSuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-suffix-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^!(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = !text.endsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\nclass FuzzyMatch extends BaseMatch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    super(pattern);\n    this._bitapSearch = new BitapSearch(pattern, {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    });\n  }\n  static get type() {\n    return 'fuzzy'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^(.*)$/\n  }\n  search(text) {\n    return this._bitapSearch.searchIn(text)\n  }\n}\n\n// Token: 'file\n\nclass IncludeMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'include'\n  }\n  static get multiRegex() {\n    return /^'\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^'(.*)$/\n  }\n  search(text) {\n    let location = 0;\n    let index;\n\n    const indices = [];\n    const patternLen = this.pattern.length;\n\n    // Get all exact matches\n    while ((index = text.indexOf(this.pattern, location)) > -1) {\n      location = index + patternLen;\n      indices.push([index, location - 1]);\n    }\n\n    const isMatch = !!indices.length;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices\n    }\n  }\n}\n\n// Order is important. DO NOT CHANGE.\nconst searchers = [\n  ExactMatch,\n  IncludeMatch,\n  PrefixExactMatch,\n  InversePrefixExactMatch,\n  InverseSuffixExactMatch,\n  SuffixExactMatch,\n  InverseExactMatch,\n  FuzzyMatch\n];\n\nconst searchersLen = searchers.length;\n\n// Regex to split by spaces, but keep anything in quotes together\nconst SPACE_RE = / +(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/;\nconst OR_TOKEN = '|';\n\n// Return a 2D array representation of the query, for simpler parsing.\n// Example:\n// \"^core go$ | rb$ | py$ xy$\" => [[\"^core\", \"go$\"], [\"rb$\"], [\"py$\", \"xy$\"]]\nfunction parseQuery(pattern, options = {}) {\n  return pattern.split(OR_TOKEN).map((item) => {\n    let query = item\n      .trim()\n      .split(SPACE_RE)\n      .filter((item) => item && !!item.trim());\n\n    let results = [];\n    for (let i = 0, len = query.length; i < len; i += 1) {\n      const queryItem = query[i];\n\n      // 1. Handle multiple query match (i.e, once that are quoted, like `\"hello world\"`)\n      let found = false;\n      let idx = -1;\n      while (!found && ++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isMultiMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          found = true;\n        }\n      }\n\n      if (found) {\n        continue\n      }\n\n      // 2. Handle single query matches (i.e, once that are *not* quoted)\n      idx = -1;\n      while (++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isSingleMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          break\n        }\n      }\n    }\n\n    return results\n  })\n}\n\n// These extended matchers can return an array of matches, as opposed\n// to a singl match\nconst MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);\n\n/**\n * Command-like searching\n * ======================\n *\n * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,\n * search in a given text.\n *\n * Search syntax:\n *\n * | Token       | Match type                 | Description                            |\n * | ----------- | -------------------------- | -------------------------------------- |\n * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |\n * | `=scheme`   | exact-match                | Items that are `scheme`                |\n * | `'python`   | include-match              | Items that include `python`            |\n * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |\n * | `^java`     | prefix-exact-match         | Items that start with `java`           |\n * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |\n * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |\n * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |\n *\n * A single pipe character acts as an OR operator. For example, the following\n * query matches entries that start with `core` and end with either`go`, `rb`,\n * or`py`.\n *\n * ```\n * ^core go$ | rb$ | py$\n * ```\n */\nclass ExtendedSearch {\n  constructor(\n    pattern,\n    {\n      isCaseSensitive = Config.isCaseSensitive,\n      includeMatches = Config.includeMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      ignoreLocation = Config.ignoreLocation,\n      findAllMatches = Config.findAllMatches,\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance\n    } = {}\n  ) {\n    this.query = null;\n    this.options = {\n      isCaseSensitive,\n      includeMatches,\n      minMatchCharLength,\n      findAllMatches,\n      ignoreLocation,\n      location,\n      threshold,\n      distance\n    };\n\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    this.query = parseQuery(this.pattern, this.options);\n  }\n\n  static condition(_, options) {\n    return options.useExtendedSearch\n  }\n\n  searchIn(text) {\n    const query = this.query;\n\n    if (!query) {\n      return {\n        isMatch: false,\n        score: 1\n      }\n    }\n\n    const { includeMatches, isCaseSensitive } = this.options;\n\n    text = isCaseSensitive ? text : text.toLowerCase();\n\n    let numMatches = 0;\n    let allIndices = [];\n    let totalScore = 0;\n\n    // ORs\n    for (let i = 0, qLen = query.length; i < qLen; i += 1) {\n      const searchers = query[i];\n\n      // Reset indices\n      allIndices.length = 0;\n      numMatches = 0;\n\n      // ANDs\n      for (let j = 0, pLen = searchers.length; j < pLen; j += 1) {\n        const searcher = searchers[j];\n        const { isMatch, indices, score } = searcher.search(text);\n\n        if (isMatch) {\n          numMatches += 1;\n          totalScore += score;\n          if (includeMatches) {\n            const type = searcher.constructor.type;\n            if (MultiMatchSet.has(type)) {\n              allIndices = [...allIndices, ...indices];\n            } else {\n              allIndices.push(indices);\n            }\n          }\n        } else {\n          totalScore = 0;\n          numMatches = 0;\n          allIndices.length = 0;\n          break\n        }\n      }\n\n      // OR condition, so if TRUE, return\n      if (numMatches) {\n        let result = {\n          isMatch: true,\n          score: totalScore / numMatches\n        };\n\n        if (includeMatches) {\n          result.indices = allIndices;\n        }\n\n        return result\n      }\n    }\n\n    // Nothing was matched\n    return {\n      isMatch: false,\n      score: 1\n    }\n  }\n}\n\nconst registeredSearchers = [];\n\nfunction register(...args) {\n  registeredSearchers.push(...args);\n}\n\nfunction createSearcher(pattern, options) {\n  for (let i = 0, len = registeredSearchers.length; i < len; i += 1) {\n    let searcherClass = registeredSearchers[i];\n    if (searcherClass.condition(pattern, options)) {\n      return new searcherClass(pattern, options)\n    }\n  }\n\n  return new BitapSearch(pattern, options)\n}\n\nconst LogicalOperator = {\n  AND: '$and',\n  OR: '$or'\n};\n\nconst KeyType = {\n  PATH: '$path',\n  PATTERN: '$val'\n};\n\nconst isExpression = (query) =>\n  !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);\n\nconst isPath = (query) => !!query[KeyType.PATH];\n\nconst isLeaf = (query) =>\n  !isArray(query) && isObject(query) && !isExpression(query);\n\nconst convertToExplicit = (query) => ({\n  [LogicalOperator.AND]: Object.keys(query).map((key) => ({\n    [key]: query[key]\n  }))\n});\n\n// When `auto` is `true`, the parse function will infer and initialize and add\n// the appropriate `Searcher` instance\nfunction parse(query, options, { auto = true } = {}) {\n  const next = (query) => {\n    let keys = Object.keys(query);\n\n    const isQueryPath = isPath(query);\n\n    if (!isQueryPath && keys.length > 1 && !isExpression(query)) {\n      return next(convertToExplicit(query))\n    }\n\n    if (isLeaf(query)) {\n      const key = isQueryPath ? query[KeyType.PATH] : keys[0];\n\n      const pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];\n\n      if (!isString(pattern)) {\n        throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key))\n      }\n\n      const obj = {\n        keyId: createKeyId(key),\n        pattern\n      };\n\n      if (auto) {\n        obj.searcher = createSearcher(pattern, options);\n      }\n\n      return obj\n    }\n\n    let node = {\n      children: [],\n      operator: keys[0]\n    };\n\n    keys.forEach((key) => {\n      const value = query[key];\n\n      if (isArray(value)) {\n        value.forEach((item) => {\n          node.children.push(next(item));\n        });\n      }\n    });\n\n    return node\n  };\n\n  if (!isExpression(query)) {\n    query = convertToExplicit(query);\n  }\n\n  return next(query)\n}\n\n// Practical scoring function\nfunction computeScore(\n  results,\n  { ignoreFieldNorm = Config.ignoreFieldNorm }\n) {\n  results.forEach((result) => {\n    let totalScore = 1;\n\n    result.matches.forEach(({ key, norm, score }) => {\n      const weight = key ? key.weight : null;\n\n      totalScore *= Math.pow(\n        score === 0 && weight ? Number.EPSILON : score,\n        (weight || 1) * (ignoreFieldNorm ? 1 : norm)\n      );\n    });\n\n    result.score = totalScore;\n  });\n}\n\nfunction transformMatches(result, data) {\n  const matches = result.matches;\n  data.matches = [];\n\n  if (!isDefined(matches)) {\n    return\n  }\n\n  matches.forEach((match) => {\n    if (!isDefined(match.indices) || !match.indices.length) {\n      return\n    }\n\n    const { indices, value } = match;\n\n    let obj = {\n      indices,\n      value\n    };\n\n    if (match.key) {\n      obj.key = match.key.src;\n    }\n\n    if (match.idx > -1) {\n      obj.refIndex = match.idx;\n    }\n\n    data.matches.push(obj);\n  });\n}\n\nfunction transformScore(result, data) {\n  data.score = result.score;\n}\n\nfunction format(\n  results,\n  docs,\n  {\n    includeMatches = Config.includeMatches,\n    includeScore = Config.includeScore\n  } = {}\n) {\n  const transformers = [];\n\n  if (includeMatches) transformers.push(transformMatches);\n  if (includeScore) transformers.push(transformScore);\n\n  return results.map((result) => {\n    const { idx } = result;\n\n    const data = {\n      item: docs[idx],\n      refIndex: idx\n    };\n\n    if (transformers.length) {\n      transformers.forEach((transformer) => {\n        transformer(result, data);\n      });\n    }\n\n    return data\n  })\n}\n\nclass Fuse {\n  constructor(docs, options = {}, index) {\n    this.options = { ...Config, ...options };\n\n    if (\n      this.options.useExtendedSearch &&\n      !true\n    ) {\n      throw new Error(EXTENDED_SEARCH_UNAVAILABLE)\n    }\n\n    this._keyStore = new KeyStore(this.options.keys);\n\n    this.setCollection(docs, index);\n  }\n\n  setCollection(docs, index) {\n    this._docs = docs;\n\n    if (index && !(index instanceof FuseIndex)) {\n      throw new Error(INCORRECT_INDEX_TYPE)\n    }\n\n    this._myIndex =\n      index ||\n      createIndex(this.options.keys, this._docs, {\n        getFn: this.options.getFn,\n        fieldNormWeight: this.options.fieldNormWeight\n      });\n  }\n\n  add(doc) {\n    if (!isDefined(doc)) {\n      return\n    }\n\n    this._docs.push(doc);\n    this._myIndex.add(doc);\n  }\n\n  remove(predicate = (/* doc, idx */) => false) {\n    const results = [];\n\n    for (let i = 0, len = this._docs.length; i < len; i += 1) {\n      const doc = this._docs[i];\n      if (predicate(doc, i)) {\n        this.removeAt(i);\n        i -= 1;\n        len -= 1;\n\n        results.push(doc);\n      }\n    }\n\n    return results\n  }\n\n  removeAt(idx) {\n    this._docs.splice(idx, 1);\n    this._myIndex.removeAt(idx);\n  }\n\n  getIndex() {\n    return this._myIndex\n  }\n\n  search(query, { limit = -1 } = {}) {\n    const {\n      includeMatches,\n      includeScore,\n      shouldSort,\n      sortFn,\n      ignoreFieldNorm\n    } = this.options;\n\n    let results = isString(query)\n      ? isString(this._docs[0])\n        ? this._searchStringList(query)\n        : this._searchObjectList(query)\n      : this._searchLogical(query);\n\n    computeScore(results, { ignoreFieldNorm });\n\n    if (shouldSort) {\n      results.sort(sortFn);\n    }\n\n    if (isNumber(limit) && limit > -1) {\n      results = results.slice(0, limit);\n    }\n\n    return format(results, this._docs, {\n      includeMatches,\n      includeScore\n    })\n  }\n\n  _searchStringList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { records } = this._myIndex;\n    const results = [];\n\n    // Iterate over every string in the index\n    records.forEach(({ v: text, i: idx, n: norm }) => {\n      if (!isDefined(text)) {\n        return\n      }\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        results.push({\n          item: text,\n          idx,\n          matches: [{ score, value: text, norm, indices }]\n        });\n      }\n    });\n\n    return results\n  }\n\n  _searchLogical(query) {\n\n    const expression = parse(query, this.options);\n\n    const evaluate = (node, item, idx) => {\n      if (!node.children) {\n        const { keyId, searcher } = node;\n\n        const matches = this._findMatches({\n          key: this._keyStore.get(keyId),\n          value: this._myIndex.getValueForItemAtKeyId(item, keyId),\n          searcher\n        });\n\n        if (matches && matches.length) {\n          return [\n            {\n              idx,\n              item,\n              matches\n            }\n          ]\n        }\n\n        return []\n      }\n\n      const res = [];\n      for (let i = 0, len = node.children.length; i < len; i += 1) {\n        const child = node.children[i];\n        const result = evaluate(child, item, idx);\n        if (result.length) {\n          res.push(...result);\n        } else if (node.operator === LogicalOperator.AND) {\n          return []\n        }\n      }\n      return res\n    };\n\n    const records = this._myIndex.records;\n    const resultMap = {};\n    const results = [];\n\n    records.forEach(({ $: item, i: idx }) => {\n      if (isDefined(item)) {\n        let expResults = evaluate(expression, item, idx);\n\n        if (expResults.length) {\n          // Dedupe when adding\n          if (!resultMap[idx]) {\n            resultMap[idx] = { idx, item, matches: [] };\n            results.push(resultMap[idx]);\n          }\n          expResults.forEach(({ matches }) => {\n            resultMap[idx].matches.push(...matches);\n          });\n        }\n      }\n    });\n\n    return results\n  }\n\n  _searchObjectList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { keys, records } = this._myIndex;\n    const results = [];\n\n    // List is Array<Object>\n    records.forEach(({ $: item, i: idx }) => {\n      if (!isDefined(item)) {\n        return\n      }\n\n      let matches = [];\n\n      // Iterate over every key (i.e, path), and fetch the value at that key\n      keys.forEach((key, keyIndex) => {\n        matches.push(\n          ...this._findMatches({\n            key,\n            value: item[keyIndex],\n            searcher\n          })\n        );\n      });\n\n      if (matches.length) {\n        results.push({\n          idx,\n          item,\n          matches\n        });\n      }\n    });\n\n    return results\n  }\n  _findMatches({ key, value, searcher }) {\n    if (!isDefined(value)) {\n      return []\n    }\n\n    let matches = [];\n\n    if (isArray(value)) {\n      value.forEach(({ v: text, i: idx, n: norm }) => {\n        if (!isDefined(text)) {\n          return\n        }\n\n        const { isMatch, score, indices } = searcher.searchIn(text);\n\n        if (isMatch) {\n          matches.push({\n            score,\n            key,\n            value: text,\n            idx,\n            norm,\n            indices\n          });\n        }\n      });\n    } else {\n      const { v: text, n: norm } = value;\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        matches.push({ score, key, value: text, norm, indices });\n      }\n    }\n\n    return matches\n  }\n}\n\nFuse.version = '7.0.0';\nFuse.createIndex = createIndex;\nFuse.parseIndex = parseIndex;\nFuse.config = Config;\n\n{\n  Fuse.parseQuery = parse;\n}\n\n{\n  register(ExtendedSearch);\n}\n\nexport { Fuse as default };\n","\nimport { SongData, SortField, SortOrder } from '@/types/types';\nimport Fuse from 'fuse.js';\nimport { useEffect, useMemo } from 'react';\nimport { useFilterSettingsStore } from './Toolbar/filters/Filters';\nimport { useQueryStore } from './Toolbar/SearchBar';\nimport { useSortSettingsStore } from './Toolbar/SortMenu';\n\nconst filterLanguage = (songs: SongData[], selectedLanguage: string): SongData[] => {\n    if (selectedLanguage !== \"all\") {\n        return songs.filter((song) => song.language === selectedLanguage);\n    }\n    return songs;\n};\n\nconst filterCapo = (songs: SongData[], allowCapo: boolean): SongData[] => {\n    if (allowCapo) {\n        return songs;\n    }\n    return songs.filter((song) => song.capo === 0);\n};\n\nconst filterVocalRange = (songs: SongData[], vocalRange: \"all\" | [number, number]): SongData[] => {\n    if (vocalRange === \"all\") {\n        return songs;\n    }\n    return songs.filter(song =>\n        song.range?.semitones !== undefined &&\n        song.range.semitones >= vocalRange[0] &&\n        song.range.semitones <= vocalRange[1]\n    );\n};\n\nconst getSortCompareFunction = (sortByField: SortField, sortOrder: SortOrder) => {\n    return (a: SongData, b: SongData): number => {\n        let comparison: number;\n\n        if (sortByField === \"range\") {\n            const aSemi = a.range?.semitones ?? -Infinity;\n            const bSemi = b.range?.semitones ?? -Infinity;\n            comparison = aSemi === bSemi ? a.title.localeCompare(b.title) : aSemi - bSemi;\n        } else if (sortByField === \"dateAdded\") {\n            const aDate = (a.dateAdded?.year ?? 0) * 12 + (a.dateAdded?.month ?? 0);\n            const bDate = (b.dateAdded?.year ?? 0) * 12 + (b.dateAdded?.month ?? 0);\n            comparison = aDate === bDate ? a.title.localeCompare(b.title) : aDate - bDate;\n        } else {\n            comparison = (a[sortByField] ?? \"\").localeCompare(b[sortByField] ?? \"\");\n        }\n\n        return sortOrder === \"ascending\" ? comparison : -comparison;\n    };\n};\n\nexport function useFilteredSongs(\n    songs: SongData[]\n) {\n    const { field: sortByField, order: sortOrder } = useSortSettingsStore();\n    const { query, setQuery } = useQueryStore();\n    const { language, vocalRange, capo } = useFilterSettingsStore();\n    // Reset search when sort settings change\n    useEffect(() => {\n        setQuery(\"\");\n    }, [sortByField, sortOrder, setQuery]);\n\n    const fuse = useMemo(() => {\n        const options = {\n            includeScore: true,\n            keys: [\"artist\", \"title\", \"ascii_title\", \"ascii_artist\"],\n            ignoreLocation: true,\n            threshold: 0.4,\n        };\n        return new Fuse(songs, options)\n    }, [songs]);\n\n    const searchResults = useMemo(() => query === \"\" ? songs : fuse.search(query).map((r) => r.item), [fuse, songs, query]);\n\n    // Apply filters\n    let results = filterCapo(searchResults, capo);\n    results = filterVocalRange(results, vocalRange);\n    results = filterLanguage(results, language);\n\n    // Only sort if there's no search query\n    if (!query) {\n        results = [...results].sort(getSortCompareFunction(\n            sortByField,\n            sortOrder\n        ));\n    }\n    return { songs: results };\n}","\nimport { SongData, SongDB } from '@/types/types';\nimport memoize from 'memoize-one';\nimport { memo, useCallback, useRef, useState } from 'react';\nimport { useLoaderData } from 'react-router-dom';\nimport AutoSizer from 'react-virtualized-auto-sizer';\nimport { areEqual, VariableSizeList as List } from 'react-window';\nimport './SongList.css';\nimport SongRow from './SongRow';\nimport Toolbar from './Toolbar/Toolbar';\nimport useLocalStorageState from 'use-local-storage-state';\nimport { useFilteredSongs } from './useFilteredSongs';\n\nconst SCROLL_OFFSET_KEY = 'scrollOffset';\nconst TOOLBAR_HEIGHT = {\n    sm: 88,\n    default: 72\n};\n\n// interface Breakpoint {\n//     [key: string]: string;\n// }\n\n\n// const getCurrentBreakpoints = (): string[] => {\n//     import theme from 'tailwindcss/defaultTheme';\n//     const fullConfig = resolveConfig(tailwindConfig);\n//     const screens = fullConfig.theme?.screens as Breakpoint;\n//     return Object.entries(screens)\n//         .filter(([_, value]) => window.innerWidth > parseInt(value, 10))\n//         .map(([key]) => key);\n// };\n\ninterface SongRowData {\n    songDB: SongDB;\n    filteredAndSortedSongs: SongData[];\n}\ninterface SongRowProps {\n    data: SongRowData;\n    index: number;\n    style: React.CSSProperties;\n}\n\nconst SongRowMemo = memo(({ data, index, style }: SongRowProps) => {\n    if (index === 0) {\n        return (\n            <div style={style}></div>\n        )\n    }\n    const { songDB, filteredAndSortedSongs } = data;\n    return (\n        <div style={style}>\n            <SongRow\n                maxRange={songDB.maxRange}\n                song={filteredAndSortedSongs[index - 1]}\n            />\n        </div>\n    )\n}, areEqual);\n\nconst createSongRowData = memoize((\n    filteredAndSortedSongs: SongData[],\n    songDB: SongDB\n): SongRowData => ({\n    filteredAndSortedSongs,\n    songDB\n}));\n\nfunction SongList() {\n    const songDB = useLoaderData() as SongDB;\n    const listRef = useRef<List>(null);\n\n    const { songs } = useFilteredSongs(songDB.songs);\n    const [showToolbar, setShowToolbar] = useState(true);\n    const [initialRenderDone, setInitialRenderDone] = useState(false);\n    const [scrollOffset, setScrollOffset] = useLocalStorageState<number>(SCROLL_OFFSET_KEY, { defaultValue: 0, storageSync: false })\n\n    const handleScroll = useCallback(({\n        scrollDirection,\n        scrollOffset,\n    }: {\n        scrollDirection: 'forward' | 'backward';\n        scrollOffset: number;\n    }) => {\n        if (!initialRenderDone) {\n            // ensure the navbar is shown on initial render\n            setInitialRenderDone(true);\n            return;\n        }\n        setScrollOffset(scrollOffset);\n        if (scrollDirection === 'forward') {\n            setShowToolbar(false);\n        } else if (scrollDirection === 'backward') {\n            setShowToolbar(true);\n        }\n    }, [initialRenderDone, setScrollOffset]);\n\n    const getItemSize = useCallback((index: number) => {\n        if (index === 0) {\n            // TODO: I cannot get tailwind config to load, so this is an ugly workaround\n            // const currentBreakpoints = getCurrentBreakpoints();\n            // return currentBreakpoints.includes(\"sm\")\n            //     ? TOOLBAR_HEIGHT.sm\n            //     : TOOLBAR_HEIGHT.default;\n            return window.innerWidth >= 500 ?\n                TOOLBAR_HEIGHT.sm\n                : TOOLBAR_HEIGHT.default;\n        }\n        return 70;\n    }, []);\n\n    const getItemKey = useCallback((index: number) => {\n        return index === 0\n            ? \"toolbar-spacer\"\n            : songs[index - 1].id;\n    }, [songs]);\n\n    const songRowData = createSongRowData(songs, songDB);\n\n    return (\n        <div className=\"h-dvh w-full no-scrollbar block\">\n            <Toolbar\n                songs={songs}\n                showToolbar={showToolbar}\n                scrollOffset={scrollOffset}\n                fakeScroll={true}\n                maxRange={songDB.maxRange}\n                languages={songDB.languages}\n            />\n            <AutoSizer>\n                {({ height, width }) => (\n                    <List\n                        ref={listRef}\n                        height={height}\n                        width={width}\n                        itemCount={songs.length + 1}\n                        itemSize={getItemSize}\n                        onScroll={handleScroll}\n                        itemData={songRowData}\n                        itemKey={getItemKey}\n                        overscanCount={10}\n                        initialScrollOffset={scrollOffset}\n                    >\n                        {SongRowMemo}\n                    </List>\n                )}\n            </AutoSizer>\n        </div>\n    );\n};\n\nexport default SongList"],"names":["ArrowDown01","createLucideIcon","ArrowDown10","ArrowDownAZ","ArrowDownUp","ArrowDownZA","AudioLines","CalendarPlus","Filter","FlagOff","Handshake","Images","Languages","MicVocal","Music","Search","X","windowObject","cancelFrame","requestFrame","TIMEOUT_DURATION","clearTimeoutFn","setTimeoutFn","cancelAnimationFrameFn","requestAnimationFrameFn","callback","animationFrameID","timeoutID","createDetectElementResize","nonce","animationKeyframes","animationName","animationStartEvent","animationStyle","checkTriggers","resetTriggers","scrollListener","attachEvent","element","triggers","expand","contract","expandChild","e","fn","animation","keyframeprefix","domPrefixes","startEvents","pfx","elm","i","createStyles","doc","css","head","style","elementStyle","expandTrigger","contractTrigger","AutoSizer","Component","args","disableHeight","disableWidth","onResize","paddingLeft","paddingRight","paddingTop","paddingBottom","rect","scaledHeight","scaledWidth","height","width","autoSizer","parentNode","ResizeObserverInstance","children","defaultHeight","defaultWidth","doNotBailOutOnEmptyChildren","tagName","rest","outerStyle","childParams","bailoutOnChildren","createElement","_extends","n","t","_assertThisInitialized","_setPrototypeOf","_inheritsLoose","o","setPrototypeOf","safeIsNaN","value","isEqual","first","second","areInputsEqual","newInputs","lastInputs","memoizeOne","resultFn","lastThis","lastArgs","lastResult","calledOnce","memoized","newArgs","_i","_objectWithoutPropertiesLoose","r","hasNativePerformanceNow","now","cancelTimeout","requestTimeout","delay","start","tick","size","getScrollbarSize","recalculate","div","cachedRTLResult","getRTLOffsetType","outerDiv","innerDiv","innerStyle","IS_SCROLLING_DEBOUNCE_INTERVAL$1","defaultItemKey$1","index","data","createListComponent","_ref","_class","getItemOffset","getEstimatedTotalSize","getItemSize","getOffsetForIndexAndAlignment","getStartIndexForOffset","getStopIndexForStartIndex","initInstanceProps","shouldResetStyleCacheOnItemSizeChange","validateProps","_PureComponent","List","props","_this","overscanStartIndex","overscanStopIndex","visibleStartIndex","visibleStopIndex","scrollDirection","scrollOffset","scrollUpdateWasRequested","_this$props","direction","itemSize","layout","itemStyleCache","_offset","isHorizontal","isRtl","offsetHorizontal","_","__","___","event","_event$currentTarget","clientWidth","scrollLeft","scrollWidth","prevState","_event$currentTarget2","clientHeight","scrollHeight","scrollTop","ref","outerRef","nextProps","validateSharedProps$1","_proto","align","_this$props2","itemCount","scrollbarSize","_this$props3","initialScrollOffset","_this$props4","_this$state","_this$props5","className","innerRef","innerElementType","innerTagName","itemData","_this$props5$itemKey","itemKey","outerElementType","outerTagName","useIsScrolling","isScrolling","onScroll","_this$_getRangeToRend","startIndex","stopIndex","items","_index","estimatedTotalSize","_this$_getRangeToRend2","_overscanStartIndex","_overscanStopIndex","_visibleStartIndex","_visibleStopIndex","_this$state2","_scrollDirection","_scrollOffset","_scrollUpdateWasRequested","_this$props6","overscanCount","_this$state3","overscanBackward","overscanForward","PureComponent","_ref2","_ref3","DEFAULT_ESTIMATED_ITEM_SIZE$1","getItemMetadata$1","instanceProps","itemMetadataMap","lastMeasuredIndex","offset","itemMetadata","findNearestItem$1","lastMeasuredItemOffset","findNearestItemBinarySearch$1","findNearestItemExponentialSearch$1","high","low","middle","currentOffset","interval","estimatedItemSize","totalSizeOfMeasuredItems","numUnmeasuredItems","totalSizeOfUnmeasuredItems","VariableSizeList","maxOffset","minOffset","instance","_ref4","shouldForceUpdate","_ref5","shallowDiffers","prev","next","attribute","_attribute","_excluded","_excluded2","areEqual","prevProps","prevStyle","prevRest","nextStyle","nextRest","AVATAR_NAME","createAvatarContext","createAvatarScope","createContextScope","AvatarProvider","useAvatarContext","Avatar","React.forwardRef","forwardedRef","__scopeAvatar","avatarProps","imageLoadingStatus","setImageLoadingStatus","React.useState","jsx","Primitive","IMAGE_NAME","AvatarImage","src","onLoadingStatusChange","imageProps","context","useImageLoadingStatus","handleLoadingStatusChange","useCallbackRef","status","useLayoutEffect","FALLBACK_NAME","AvatarFallback","delayMs","fallbackProps","canRender","setCanRender","React.useEffect","timerId","referrerPolicy","loadingStatus","setLoadingStatus","isMounted","image","updateStatus","Root","Image","Fallback","AvatarPrimitive.Root","cn","AvatarPrimitive.Image","AvatarPrimitive.Fallback","DIALOG_NAME","createDialogContext","createDialogScope","DialogProvider","useDialogContext","Dialog","__scopeDialog","openProp","defaultOpen","onOpenChange","modal","triggerRef","React.useRef","contentRef","open","setOpen","useControllableState","useId","React.useCallback","prevOpen","TRIGGER_NAME","DialogTrigger","triggerProps","composedTriggerRef","useComposedRefs","getState","composeEventHandlers","PORTAL_NAME","PortalProvider","usePortalContext","DialogPortal","forceMount","container","React.Children","child","Presence","PortalPrimitive","OVERLAY_NAME","DialogOverlay","portalContext","overlayProps","DialogOverlayImpl","RemoveScroll","Slot","CONTENT_NAME","DialogContent","contentProps","DialogContentModal","DialogContentNonModal","composedRefs","content","hideOthers","DialogContentImpl","_a","originalEvent","ctrlLeftClick","hasInteractedOutsideRef","hasPointerDownOutsideRef","_b","target","trapFocus","onOpenAutoFocus","onCloseAutoFocus","useFocusGuards","jsxs","Fragment","FocusScope","DismissableLayer","TitleWarning","DescriptionWarning","TITLE_NAME","DialogTitle","titleProps","DESCRIPTION_NAME","DialogDescription","descriptionProps","CLOSE_NAME","DialogClose","closeProps","TITLE_WARNING_NAME","WarningProvider","useWarningContext","createContext","titleId","titleWarningContext","MESSAGE","DESCRIPTION_WARNING_NAME","descriptionId","describedById","Portal","Overlay","Content","Title","Description","Close","DialogPrimitive.Root","DialogPrimitive.Portal","DialogPrimitive.Close","DialogPrimitive.Overlay","close","DialogPrimitive.Content","Button","DialogPrimitive.Title","DialogPrimitive.Description","IllustrationPopup","avatarClassName","song","isOpen","setIsOpen","useState","IllustrationPrompt","language2iso","convert2flag","language","LanguageFlag","CircularProgress","maxValue","color","strokeWidth","MONTH_NAMES","VocalRangeIndicator","memo","songRangeSemitones","maxRange","DateDisplay","month","year","CapoDisplay","capo","SongInfo","title","artist","SongRow","handleClick","useLinkClickHandler","useMediaQuery","query","subscribe","matchMedia","getSnapshot","getServerSnapshot","React.useSyncExternalStore","capitalizeFirstLetter","str","firstCodePoint","createLanguageChoices","languages","selectedLanguage","setSelectedLanguage","languageChoices","choice","DropdownMenuCheckboxItem","DropdownIconStart","LanguageFilter","iconOnly","active","DropdownMenu","DropdownMenuTrigger","DropdownMenuContent","LanguageFilterDropdownSection","DropdownMenuLabel","DropdownMenuSeparator","clamp","min","max","usePrevious","React.useMemo","PAGE_KEYS","ARROW_KEYS","BACK_KEYS","SLIDER_NAME","Collection","useCollection","createCollectionScope","createCollection","createSliderContext","createSliderScope","SliderProvider","useSliderContext","Slider","name","step","orientation","disabled","minStepsBetweenThumbs","defaultValue","onValueChange","onValueCommit","inverted","form","sliderProps","thumbRefs","valueIndexToChangeRef","SliderOrientation","SliderHorizontal","SliderVertical","values","setValues","value2","valuesBeforeSlideStartRef","handleSlideStart","closestIndex","getClosestValueIndex","updateValues","handleSlideMove","handleSlideEnd","prevValue","atIndex","commit","decimalCount","getDecimalCount","snapToStep","roundValue","nextValue","prevValues","nextValues","getNextSortedValues","hasMinStepsBetweenValues","hasChanged","stepDirection","multiplier","stepInDirection","SliderOrientationProvider","useSliderOrientationContext","dir","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown","slider","setSlider","node","rectRef","useDirection","isDirectionLTR","isSlidingFromLeft","getValueFromPointer","pointerPosition","input","linearScale","SliderImpl","isBackKey","sliderRef","isSlidingFromBottom","__scopeSlider","onHomeKeyDown","onEndKeyDown","TRACK_NAME","SliderTrack","trackProps","RANGE_NAME","SliderRange","rangeProps","valuesCount","percentages","convertValueToPercentage","offsetStart","offsetEnd","THUMB_NAME","SliderThumb","getItems","thumb","setThumb","item","SliderThumbImpl","thumbProps","isFormControl","useSize","percent","label","getLabel","orientationSize","thumbInBoundsOffset","getThumbInBoundsOffset","BubbleInput","inputProps","inputProto","setValue","a","b","percentage","totalValues","distances","closestDistance","left","halfWidth","getStepsBetweenValues","minStepsBetweenValues","stepsBetweenValues","output","ratio","rounder","Track","Range","Thumb","SliderPrimitive.Root","SliderPrimitive.Track","SliderPrimitive.Range","SliderPrimitive.Thumb","labelEl","RangeSlider","VocalRangeSlider","vocalRangeFilter","setVocalRangeFilter","currentValue","VocalRangeFilter","DropdownMenuItem","VocalRangeDropdownSection","useFilterSettingsStore","create","persist","set","range","state","FilterButtons","vocalRange","setLanguage","setVocalRange","toggleCapo","Filtering","isLargeScreen","isFilterInactive","Input","type","useQueryStore","SearchBar","isExpanded","setIsExpanded","expandedWidth","setExpandedWidth","mobileInputRef","useRef","setQuery","search","newQuery","useEffect","handleToggle","navbar","handleClear","ClearButton","XIcon","SearchIcon","useSortSettingsStore","sortOrder","sortField","letterSortingIcons","numberSortingIcons","categories","isActive","sortingField","buttonField","toggleSortOrder","getActiveCategory","category","cat","SortMenu","sortByField","setSortField","setSortOrder","switchOptions","c","activeCategory","FancySwitch","Toolbar","songs","showToolbar","fakeScroll","navigate","useNavigate","ToolbarBase","ModeToggle","ImagesIcon","RandomSong","isArray","getTag","INFINITY","baseToString","result","toString","isString","isNumber","isBoolean","isObjectLike","isObject","isDefined","isBlank","INCORRECT_INDEX_TYPE","LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY","key","PATTERN_LENGTH_TOO_LARGE","MISSING_KEY_PROPERTY","INVALID_KEY_WEIGHT_VALUE","hasOwn","KeyStore","keys","totalWeight","obj","createKey","keyId","path","id","weight","getFn","createKeyPath","createKeyId","get","list","arr","deepGet","len","MatchOptions","BasicOptions","FuzzyOptions","AdvancedOptions","Config","SPACE","norm","mantissa","cache","m","numTokens","FuseIndex","fieldNormWeight","docs","records","idx","docIndex","record","keyIndex","subRecords","stack","nestedArrIndex","subRecord","k","createIndex","myIndex","parseIndex","computeScore$1","pattern","errors","currentLocation","expectedLocation","distance","ignoreLocation","accuracy","proximity","convertMaskToIndices","matchmask","minMatchCharLength","indices","end","match","MAX_BITS","text","patternAlphabet","location","threshold","findAllMatches","includeMatches","patternLen","textLen","currentThreshold","bestLocation","computeMatches","matchMask","score","lastBitArr","finalScore","binMax","mask","binMin","binMid","finish","bitArr","j","charMatch","createPatternAlphabet","char","BitapSearch","isCaseSensitive","addChunk","remainder","allIndices","totalScore","hasMatches","alphabet","isMatch","BaseMatch","getMatch","exp","matches","ExactMatch","InverseExactMatch","PrefixExactMatch","InversePrefixExactMatch","SuffixExactMatch","InverseSuffixExactMatch","FuzzyMatch","IncludeMatch","searchers","searchersLen","SPACE_RE","OR_TOKEN","parseQuery","options","results","queryItem","found","searcher","token","MultiMatchSet","ExtendedSearch","numMatches","qLen","pLen","registeredSearchers","register","createSearcher","searcherClass","LogicalOperator","KeyType","isExpression","isPath","isLeaf","convertToExplicit","parse","auto","isQueryPath","computeScore","ignoreFieldNorm","transformMatches","transformScore","format","includeScore","transformers","transformer","Fuse","predicate","limit","shouldSort","sortFn","expression","evaluate","res","resultMap","expResults","filterLanguage","filterCapo","allowCapo","filterVocalRange","getSortCompareFunction","comparison","aSemi","bSemi","aDate","_c","_d","bDate","_e","_f","useFilteredSongs","fuse","useMemo","searchResults","SCROLL_OFFSET_KEY","TOOLBAR_HEIGHT","SongRowMemo","songDB","filteredAndSortedSongs","createSongRowData","memoize","SongList","useLoaderData","listRef","setShowToolbar","initialRenderDone","setInitialRenderDone","setScrollOffset","useLocalStorageState","handleScroll","useCallback","getItemKey","songRowData"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,32,34,35,36,44]}