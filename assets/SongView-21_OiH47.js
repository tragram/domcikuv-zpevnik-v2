import{c as xt,r as X,R as ye,n as Jt,g as Ss,K as Uu,j as A,N as Ku,L as Vu,d as fe,o as Wu,m as Yu,l as Xu}from"./main-BSGuyJhO.js";import{s as Qu,o as Zu,p as Ju,d as Xe,e as Qe,f as Ye,g as le,q as bn,n as _r,T as _s,i as xs,j as Ts,k as Es,t as qu,r as tc}from"./fancy-switch-B1FUit4a.js";import{B as Vt,a as ec}from"./index-otiogjOz.js";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=xt("AArrowDown",[["path",{d:"M3.5 13h6",key:"p1my2r"}],["path",{d:"m2 16 4.5-9 4.5 9",key:"ndf0b3"}],["path",{d:"M18 7v9",key:"pknjwm"}],["path",{d:"m14 12 4 4 4-4",key:"buelq4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=xt("AArrowUp",[["path",{d:"M3.5 13h6",key:"p1my2r"}],["path",{d:"m2 16 4.5-9 4.5 9",key:"ndf0b3"}],["path",{d:"M18 16V7",key:"ty0viw"}],["path",{d:"m14 11 4-4 4 4",key:"1pu57t"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=xt("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=xt("ArrowBigUpDash",[["path",{d:"M9 19h6",key:"456am0"}],["path",{d:"M9 15v-3H5l7-7 7 7h-4v3H9z",key:"1r2uve"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=xt("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=xt("ChevronsLeftRightEllipsis",[["path",{d:"m18 8 4 4-4 4",key:"1ak13k"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=xt("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=xt("Fullscreen",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["rect",{width:"10",height:"8",x:"7",y:"8",rx:"1",key:"vys8me"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=xt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=xt("Guitar",[["path",{d:"m11.9 12.1 4.514-4.514",key:"109xqo"}],["path",{d:"M20.1 2.3a1 1 0 0 0-1.4 0l-1.114 1.114A2 2 0 0 0 17 4.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 17.828 7h1.344a2 2 0 0 0 1.414-.586L21.7 5.3a1 1 0 0 0 0-1.4z",key:"txyc8t"}],["path",{d:"m6 16 2 2",key:"16qmzd"}],["path",{d:"M8.2 9.9C8.7 8.8 9.8 8 11 8c2.8 0 5 2.2 5 5 0 1.2-.8 2.3-1.9 2.8l-.9.4A2 2 0 0 0 12 18a4 4 0 0 1-4 4c-3.3 0-6-2.7-6-6a4 4 0 0 1 4-4 2 2 0 0 0 1.8-1.2z",key:"1u8q3z"}],["circle",{cx:"11.5",cy:"12.5",r:".5",fill:"currentColor",key:"16onso"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=xt("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=xt("MoveDiagonal",[["path",{d:"M11 19H5v-6",key:"8awifj"}],["path",{d:"M13 5h6v6",key:"7voy1q"}],["path",{d:"M19 5 5 19",key:"wwaj1z"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=xt("MoveHorizontal",[["path",{d:"m18 8 4 4-4 4",key:"1ak13k"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=xt("PencilRuler",[["path",{d:"M13 7 8.7 2.7a2.41 2.41 0 0 0-3.4 0L2.7 5.3a2.41 2.41 0 0 0 0 3.4L7 13",key:"orapub"}],["path",{d:"m8 6 2-2",key:"115y1s"}],["path",{d:"m18 16 2-2",key:"ee94s4"}],["path",{d:"m17 11 4.3 4.3c.94.94.94 2.46 0 3.4l-2.6 2.6c-.94.94-2.46.94-3.4 0L11 17",key:"cfq27r"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=xt("Piano",[["path",{d:"M18.5 8c-1.4 0-2.6-.8-3.2-2A6.87 6.87 0 0 0 2 9v11a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-8.5C22 9.6 20.4 8 18.5 8",key:"lag0yf"}],["path",{d:"M2 14h20",key:"myj16y"}],["path",{d:"M6 14v4",key:"9ng0ue"}],["path",{d:"M10 14v4",key:"1v8uk5"}],["path",{d:"M14 14v4",key:"1tqops"}],["path",{d:"M18 14v4",key:"18uqwm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=xt("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=xt("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=xt("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);var Lt={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},la=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],fa=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],da=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],Pt=typeof window<"u"&&typeof window.document<"u"?window.document:{},Ft="fullscreenEnabled"in Pt&&Object.keys(Lt)||la[0]in Pt&&la||fa[0]in Pt&&fa||da[0]in Pt&&da||[],Zt={requestFullscreen:function(e){return e[Ft[Lt.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[Ft[Lt.requestFullscreen]]},get exitFullscreen(){return Pt[Ft[Lt.exitFullscreen]].bind(Pt)},get fullscreenPseudoClass(){return":"+Ft[Lt.fullscreen]},addEventListener:function(e,t,r){return Pt.addEventListener(Ft[Lt[e]],t,r)},removeEventListener:function(e,t,r){return Pt.removeEventListener(Ft[Lt[e]],t,r)},get fullscreenEnabled(){return!!Pt[Ft[Lt.fullscreenEnabled]]},set fullscreenEnabled(e){},get fullscreenElement(){return Pt[Ft[Lt.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return Pt[("on"+Ft[Lt.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return Pt[("on"+Ft[Lt.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return Pt[("on"+Ft[Lt.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return Pt[("on"+Ft[Lt.fullscreenerror]).toLowerCase()]=e}};function mc(){var e=X.useState(!1),t=e[0],r=e[1],i=X.useRef(null);X.useEffect(function(){var s=function(){r(Zt.fullscreenElement===i.current)};return Zt.addEventListener("fullscreenchange",s),function(){return Zt.removeEventListener("fullscreenchange",s)}},[]);var h=X.useCallback(function(){if(Zt.fullscreenElement)return Zt.exitFullscreen().then(function(){return Zt.requestFullscreen(i.current)});if(i.current)return Zt.requestFullscreen(i.current)},[]),b=X.useCallback(function(){return Zt.fullscreenElement===i.current?Zt.exitFullscreen():Promise.resolve()},[]);return X.useMemo(function(){return{active:t,enter:h,exit:b,node:i}},[t,h,b])}var vc=function(t){var r=t.handle,i=t.onChange,h=t.children,b=t.className,s=[];return b&&s.push(b),s.push("fullscreen"),r.active&&s.push("fullscreen-enabled"),X.useEffect(function(){i&&i(r.active,r)},[r.active]),ye.createElement("div",{className:s.join(" "),ref:r.node,style:r.active?{height:"100%",width:"100%"}:void 0},h)};function gc(e,t,r){return Math.max(t,Math.min(e,r))}const lt={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function ha(e,t,r){return t===0||Math.abs(t)===1/0?Math.pow(e,r*5):e*t*r/(t+r*e)}function pa(e,t,r,i=.15){return i===0?gc(e,t,r):e<t?-ha(t-e,r-t,i)+t:e>r?+ha(e-r,r-t,i)+r:e}function yc(e,[t,r],[i,h]){const[[b,s],[l,n]]=e;return[pa(t,b,s,i),pa(r,l,n,h)]}function bc(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sc(e){var t=bc(e,"string");return typeof t=="symbol"?t:String(t)}function yt(e,t,r){return t=Sc(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ma(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),r.push.apply(r,i)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ma(Object(r),!0).forEach(function(i){yt(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ma(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}const Is={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function va(e){return e?e[0].toUpperCase()+e.slice(1):""}const _c=["enter","leave"];function xc(e=!1,t){return e&&!_c.includes(t)}function Tc(e,t="",r=!1){const i=Is[e],h=i&&i[t]||t;return"on"+va(e)+va(h)+(xc(r,h)?"Capture":"")}const Ec=["gotpointercapture","lostpointercapture"];function wc(e){let t=e.substring(2).toLowerCase();const r=!!~t.indexOf("passive");r&&(t=t.replace("passive",""));const i=Ec.includes(t)?"capturecapture":"capture",h=!!~t.indexOf(i);return h&&(t=t.replace("capture","")),{device:t,capture:h,passive:r}}function Oc(e,t=""){const r=Is[e],i=r&&r[t]||t;return e+i}function Mr(e){return"touches"in e}function Ps(e){return Mr(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function Ac(e){return Array.from(e.touches).filter(t=>{var r,i;return t.target===e.currentTarget||((r=e.currentTarget)===null||r===void 0||(i=r.contains)===null||i===void 0?void 0:i.call(r,t.target))})}function Cc(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function Ms(e){return Mr(e)?Cc(e)[0]:e}function Sn(e,t){try{const r=t.clientX-e.clientX,i=t.clientY-e.clientY,h=(t.clientX+e.clientX)/2,b=(t.clientY+e.clientY)/2,s=Math.hypot(r,i);return{angle:-(Math.atan2(r,i)*180)/Math.PI,distance:s,origin:[h,b]}}catch{}return null}function Ic(e){return Ac(e).map(t=>t.identifier)}function ga(e,t){const[r,i]=Array.from(e.touches).filter(h=>t.includes(h.identifier));return Sn(r,i)}function ln(e){const t=Ms(e);return Mr(e)?t.identifier:t.pointerId}function Pe(e){const t=Ms(e);return[t.clientX,t.clientY]}const ya=40,ba=800;function js(e){let{deltaX:t,deltaY:r,deltaMode:i}=e;return i===1?(t*=ya,r*=ya):i===2&&(t*=ba,r*=ba),[t,r]}function Pc(e){var t,r;const{scrollX:i,scrollY:h,scrollLeft:b,scrollTop:s}=e.currentTarget;return[(t=i??b)!==null&&t!==void 0?t:0,(r=h??s)!==null&&r!==void 0?r:0]}function Mc(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:r,altKey:i,metaKey:h,ctrlKey:b}=e;Object.assign(t,{shiftKey:r,altKey:i,metaKey:h,ctrlKey:b})}return t}function wr(e,...t){return typeof e=="function"?e(...t):e}function jc(){}function Dc(...e){return e.length===0?jc:e.length===1?e[0]:function(){let t;for(const r of e)t=r.apply(this,arguments)||t;return t}}function Sa(e,t){return Object.assign({},t,e||{})}const Lc=32;class Ds{constructor(t,r,i){this.ctrl=t,this.args=r,this.key=i,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:r,ingKey:i,args:h}=this;r[i]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=h,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const r=this.state,i=this.config;r._active||(this.reset(),this.computeInitial(),r._active=!0,r.target=t.target,r.currentTarget=t.currentTarget,r.lastOffset=i.from?wr(i.from,r):r.offset,r.offset=r.lastOffset,r.startTime=r.timeStamp=t.timeStamp)}computeValues(t){const r=this.state;r._values=t,r.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:r,config:i,shared:h}=this;r.args=this.args;let b=0;if(t&&(r.event=t,i.preventDefault&&t.cancelable&&r.event.preventDefault(),r.type=t.type,h.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,h.locked=!!document.pointerLockElement,Object.assign(h,Mc(t)),h.down=h.pressed=h.buttons%2===1||h.touches>0,b=t.timeStamp-r.timeStamp,r.timeStamp=t.timeStamp,r.elapsedTime=r.timeStamp-r.startTime),r._active){const j=r._delta.map(Math.abs);lt.addTo(r._distance,j)}this.axisIntent&&this.axisIntent(t);const[s,l]=r._movement,[n,o]=i.threshold,{_step:u,values:d}=r;if(i.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(s)>=n&&d[0]),u[1]===!1&&(u[1]=Math.abs(l)>=o&&d[1])):(u[0]===!1&&(u[0]=Math.abs(s)>=n&&Math.sign(s)*n),u[1]===!1&&(u[1]=Math.abs(l)>=o&&Math.sign(l)*o)),r.intentional=u[0]!==!1||u[1]!==!1,!r.intentional)return;const p=[0,0];if(i.hasCustomTransform){const[j,G]=d;p[0]=u[0]!==!1?j-u[0]:0,p[1]=u[1]!==!1?G-u[1]:0}else p[0]=u[0]!==!1?s-u[0]:0,p[1]=u[1]!==!1?l-u[1]:0;this.restrictToAxis&&!r._blocked&&this.restrictToAxis(p);const v=r.offset,g=r._active&&!r._blocked||r.active;g&&(r.first=r._active&&!r.active,r.last=!r._active&&r.active,r.active=h[this.ingKey]=r._active,t&&(r.first&&("bounds"in i&&(r._bounds=wr(i.bounds,r)),this.setup&&this.setup()),r.movement=p,this.computeOffset()));const[S,_]=r.offset,[[E,O],[P,M]]=r._bounds;r.overflow=[S<E?-1:S>O?1:0,_<P?-1:_>M?1:0],r._movementBound[0]=r.overflow[0]?r._movementBound[0]===!1?r._movement[0]:r._movementBound[0]:!1,r._movementBound[1]=r.overflow[1]?r._movementBound[1]===!1?r._movement[1]:r._movementBound[1]:!1;const D=r._active?i.rubberband||[0,0]:[0,0];if(r.offset=yc(r._bounds,r.offset,D),r.delta=lt.sub(r.offset,v),this.computeMovement(),g&&(!r.last||b>Lc)){r.delta=lt.sub(r.offset,v);const j=r.delta.map(Math.abs);lt.addTo(r.distance,j),r.direction=r.delta.map(Math.sign),r._direction=r._delta.map(Math.sign),!r.first&&b>0&&(r.velocity=[j[0]/b,j[1]/b],r.timeDelta=b)}}emit(){const t=this.state,r=this.shared,i=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!i.triggerAllEvents)return;const h=this.handler(vt(vt(vt({},r),t),{},{[this.aliasKey]:t.values}));h!==void 0&&(t.memo=h)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function Nc([e,t],r){const i=Math.abs(e),h=Math.abs(t);if(i>h&&i>r)return"x";if(h>i&&h>r)return"y"}class Ze extends Ds{constructor(...t){super(...t),yt(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=lt.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=lt.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const r=this.state,i=this.config;if(!r.axis&&t){const h=typeof i.axisThreshold=="object"?i.axisThreshold[Ps(t)]:i.axisThreshold;r.axis=Nc(r._movement,h)}r._blocked=(i.lockDirection||!!i.axis)&&!r.axis||!!i.axis&&i.axis!==r.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const Rc=e=>e,_a=.15,Ls={enabled(e=!0){return e},eventOptions(e,t,r){return vt(vt({},r.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[_a,_a];case!1:return[0,0];default:return lt.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return lt.toVector(e)},transform(e,t,r){const i=e||r.shared.transform;return this.hasCustomTransform=!!i,i||Rc},threshold(e){return lt.toVector(e,0)}},Fc=0,be=vt(vt({},Ls),{},{axis(e,t,{axis:r}){if(this.lockDirection=r==="lock",!this.lockDirection)return r},axisThreshold(e=Fc){return e},bounds(e={}){if(typeof e=="function")return b=>be.bounds(e(b));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:r=1/0,top:i=-1/0,bottom:h=1/0}=e;return[[t,r],[i,h]]}}),xa={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class $c extends Ze{constructor(...t){super(...t),yt(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const r=t._bounds.getBoundingClientRect(),i=t.currentTarget.getBoundingClientRect(),h={left:r.left-i.left+t.offset[0],right:r.right-i.right+t.offset[0],top:r.top-i.top+t.offset[1],bottom:r.bottom-i.bottom+t.offset[1]};t._bounds=be.bounds(h)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const r=this.config,i=this.state;if(t.buttons!=null&&(Array.isArray(r.pointerButtons)?!r.pointerButtons.includes(t.buttons):r.pointerButtons!==-1&&r.pointerButtons!==t.buttons))return;const h=this.ctrl.setEventIds(t);r.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(h&&h.size>1&&i._pointerActive)&&(this.start(t),this.setupPointer(t),i._pointerId=ln(t),i._pointerActive=!0,this.computeValues(Pe(t)),this.computeInitial(),r.preventScrollAxis&&Ps(t)!=="mouse"?(i._active=!1,this.setupScrollPrevention(t)):r.delay>0?(this.setupDelayTrigger(t),r.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const r=this.state;r._active=!0,r._preventScroll=!0,r._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const r=this.state,i=this.config;if(!r._pointerActive)return;const h=ln(t);if(r._pointerId!==void 0&&h!==r._pointerId)return;const b=Pe(t);if(document.pointerLockElement===t.target?r._delta=[t.movementX,t.movementY]:(r._delta=lt.sub(b,r._values),this.computeValues(b)),lt.addTo(r._movement,r._delta),this.compute(t),r._delayed&&r.intentional){this.timeoutStore.remove("dragDelay"),r.active=!1,this.startPointerDrag(t);return}if(i.preventScrollAxis&&!r._preventScroll)if(r.axis)if(r.axis===i.preventScrollAxis||i.preventScrollAxis==="xy"){r._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const r=this.state,i=this.config;if(!r._active||!r._pointerActive)return;const h=ln(t);if(r._pointerId!==void 0&&h!==r._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[b,s]=r._distance;if(r.tap=b<=i.tapsThreshold&&s<=i.tapsThreshold,r.tap&&i.filterTaps)r._force=!0;else{const[l,n]=r._delta,[o,u]=r._movement,[d,p]=i.swipe.velocity,[v,g]=i.swipe.distance,S=i.swipe.duration;if(r.elapsedTime<S){const _=Math.abs(l/r.timeDelta),E=Math.abs(n/r.timeDelta);_>d&&Math.abs(o)>v&&(r.swipe[0]=Math.sign(l)),E>p&&Math.abs(u)>g&&(r.swipe[1]=Math.sign(n))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const r=this.config,i=r.device;r.pointerLock&&t.currentTarget.requestPointerLock(),r.pointerCapture||(this.eventStore.add(this.sharedConfig.window,i,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,kc(t);const r=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",r),this.eventStore.add(this.sharedConfig.window,"touch","cancel",r),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const r=xa[t.key];if(r){const i=this.state,h=t.shiftKey?10:t.altKey?.1:1;this.start(t),i._delta=r(this.config.keyboardDisplacement,h),i._keyboardActive=!0,lt.addTo(i._movement,i._delta),this.compute(t),this.emit()}}keyUp(t){t.key in xa&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const r=this.config.device;t(r,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(r,"change",this.pointerMove.bind(this)),t(r,"end",this.pointerUp.bind(this)),t(r,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function kc(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const Je=typeof window<"u"&&window.document&&window.document.createElement;function Ns(){return Je&&"ontouchstart"in window}function Hc(){return Ns()||Je&&window.navigator.maxTouchPoints>1}function Bc(){return Je&&"onpointerdown"in window}function zc(){return Je&&"exitPointerLock"in window.document}function Gc(){try{return"constructor"in GestureEvent}catch{return!1}}const $t={isBrowser:Je,gesture:Gc(),touch:Ns(),touchscreen:Hc(),pointer:Bc(),pointerLock:zc()},Uc=250,Kc=180,Vc=.5,Wc=50,Yc=250,Xc=10,Ta={mouse:0,touch:0,pen:8},Qc=vt(vt({},be),{},{device(e,t,{pointer:{touch:r=!1,lock:i=!1,mouse:h=!1}={}}){return this.pointerLock=i&&$t.pointerLock,$t.touch&&r?"touch":this.pointerLock?"mouse":$t.pointer&&!h?"pointer":$t.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:r}){if(this.preventScrollDelay=typeof r=="number"?r:r||r===void 0&&e?Uc:void 0,!(!$t.touchscreen||r===!1))return e||(r!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:r=!0,buttons:i=1,keys:h=!0}={}}){return this.pointerButtons=i,this.keys=h,!this.pointerLock&&this.device==="pointer"&&r},threshold(e,t,{filterTaps:r=!1,tapsThreshold:i=3,axis:h=void 0}){const b=lt.toVector(e,r?i:h?1:0);return this.filterTaps=r,this.tapsThreshold=i,b},swipe({velocity:e=Vc,distance:t=Wc,duration:r=Yc}={}){return{velocity:this.transform(lt.toVector(e)),distance:this.transform(lt.toVector(t)),duration:r}},delay(e=0){switch(e){case!0:return Kc;case!1:return 0;default:return e}},axisThreshold(e){return e?vt(vt({},Ta),e):Ta},keyboardDisplacement(e=Xc){return e}});function Rs(e){const[t,r]=e.overflow,[i,h]=e._delta,[b,s]=e._direction;(t<0&&i>0&&b<0||t>0&&i<0&&b>0)&&(e._movement[0]=e._movementBound[0]),(r<0&&h>0&&s<0||r>0&&h<0&&s>0)&&(e._movement[1]=e._movementBound[1])}const Zc=30,Jc=100;class qc extends Ds{constructor(...t){super(...t),yt(this,"ingKey","pinching"),yt(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const t=this.state;t._touchIds=[],t.canceled=!1,t.cancel=this.cancel.bind(this),t.turns=0}computeOffset(){const{type:t,movement:r,lastOffset:i}=this.state;t==="wheel"?this.state.offset=lt.add(r,i):this.state.offset=[(1+r[0])*i[0],r[1]+i[1]]}computeMovement(){const{offset:t,lastOffset:r}=this.state;this.state.movement=[t[0]/r[0],t[1]-r[1]]}axisIntent(){const t=this.state,[r,i]=t._movement;if(!t.axis){const h=Math.abs(r)*Zc-Math.abs(i);h<0?t.axis="angle":h>0&&(t.axis="scale")}}restrictToAxis(t){this.config.lockDirection&&(this.state.axis==="scale"?t[1]=0:this.state.axis==="angle"&&(t[0]=0))}cancel(){const t=this.state;t.canceled||setTimeout(()=>{t.canceled=!0,t._active=!1,this.compute(),this.emit()},0)}touchStart(t){this.ctrl.setEventIds(t);const r=this.state,i=this.ctrl.touchIds;if(r._active&&r._touchIds.every(b=>i.has(b))||i.size<2)return;this.start(t),r._touchIds=Array.from(i).slice(0,2);const h=ga(t,r._touchIds);h&&this.pinchStart(t,h)}pointerStart(t){if(t.buttons!=null&&t.buttons%2!==1)return;this.ctrl.setEventIds(t),t.target.setPointerCapture(t.pointerId);const r=this.state,i=r._pointerEvents,h=this.ctrl.pointerIds;if(r._active&&Array.from(i.keys()).every(s=>h.has(s))||(i.size<2&&i.set(t.pointerId,t),r._pointerEvents.size<2))return;this.start(t);const b=Sn(...Array.from(i.values()));b&&this.pinchStart(t,b)}pinchStart(t,r){const i=this.state;i.origin=r.origin,this.computeValues([r.distance,r.angle]),this.computeInitial(),this.compute(t),this.emit()}touchMove(t){if(!this.state._active)return;const r=ga(t,this.state._touchIds);r&&this.pinchMove(t,r)}pointerMove(t){const r=this.state._pointerEvents;if(r.has(t.pointerId)&&r.set(t.pointerId,t),!this.state._active)return;const i=Sn(...Array.from(r.values()));i&&this.pinchMove(t,i)}pinchMove(t,r){const i=this.state,h=i._values[1],b=r.angle-h;let s=0;Math.abs(b)>270&&(s+=Math.sign(b)),this.computeValues([r.distance,r.angle-360*s]),i.origin=r.origin,i.turns=s,i._movement=[i._values[0]/i._initial[0]-1,i._values[1]-i._initial[1]],this.compute(t),this.emit()}touchEnd(t){this.ctrl.setEventIds(t),this.state._active&&this.state._touchIds.some(r=>!this.ctrl.touchIds.has(r))&&(this.state._active=!1,this.compute(t),this.emit())}pointerEnd(t){const r=this.state;this.ctrl.setEventIds(t);try{t.target.releasePointerCapture(t.pointerId)}catch{}r._pointerEvents.has(t.pointerId)&&r._pointerEvents.delete(t.pointerId),r._active&&r._pointerEvents.size<2&&(r._active=!1,this.compute(t),this.emit())}gestureStart(t){t.cancelable&&t.preventDefault();const r=this.state;r._active||(this.start(t),this.computeValues([t.scale,t.rotation]),r.origin=[t.clientX,t.clientY],this.compute(t),this.emit())}gestureMove(t){if(t.cancelable&&t.preventDefault(),!this.state._active)return;const r=this.state;this.computeValues([t.scale,t.rotation]),r.origin=[t.clientX,t.clientY];const i=r._movement;r._movement=[t.scale-1,t.rotation],r._delta=lt.sub(r._movement,i),this.compute(t),this.emit()}gestureEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}wheel(t){const r=this.config.modifierKey;r&&(Array.isArray(r)?!r.find(i=>t[i]):!t[r])||(this.state._active?this.wheelChange(t):this.wheelStart(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(t){this.start(t),this.wheelChange(t)}wheelChange(t){"uv"in t||t.cancelable&&t.preventDefault();const i=this.state;i._delta=[-js(t)[1]/Jc*i.offset[0],0],lt.addTo(i._movement,i._delta),Rs(i),this.state.origin=[t.clientX,t.clientY],this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){const r=this.config.device;r&&(t(r,"start",this[r+"Start"].bind(this)),t(r,"change",this[r+"Move"].bind(this)),t(r,"end",this[r+"End"].bind(this)),t(r,"cancel",this[r+"End"].bind(this)),t("lostPointerCapture","",this[r+"End"].bind(this))),this.config.pinchOnWheel&&t("wheel","",this.wheel.bind(this),{passive:!1})}}const tl=vt(vt({},Ls),{},{device(e,t,{shared:r,pointer:{touch:i=!1}={}}){if(r.target&&!$t.touch&&$t.gesture)return"gesture";if($t.touch&&i)return"touch";if($t.touchscreen){if($t.pointer)return"pointer";if($t.touch)return"touch"}},bounds(e,t,{scaleBounds:r={},angleBounds:i={}}){const h=s=>{const l=Sa(wr(r,s),{min:-1/0,max:1/0});return[l.min,l.max]},b=s=>{const l=Sa(wr(i,s),{min:-1/0,max:1/0});return[l.min,l.max]};return typeof r!="function"&&typeof i!="function"?[h(),b()]:s=>[h(s),b(s)]},threshold(e,t,r){return this.lockDirection=r.axis==="lock",lt.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});class el extends Ze{constructor(...t){super(...t),yt(this,"ingKey","moving")}move(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.state._active?this.moveChange(t):this.moveStart(t),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(t){this.start(t),this.computeValues(Pe(t)),this.compute(t),this.computeInitial(),this.emit()}moveChange(t){if(!this.state._active)return;const r=Pe(t),i=this.state;i._delta=lt.sub(r,i._values),lt.addTo(i._movement,i._delta),this.computeValues(r),this.compute(t),this.emit()}moveEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}bind(t){t("pointer","change",this.move.bind(this)),t("pointer","leave",this.moveEnd.bind(this))}}const rl=vt(vt({},be),{},{mouseOnly:(e=!0)=>e});class nl extends Ze{constructor(...t){super(...t),yt(this,"ingKey","scrolling")}scroll(t){this.state._active||this.start(t),this.scrollChange(t),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(t){t.cancelable&&t.preventDefault();const r=this.state,i=Pc(t);r._delta=lt.sub(i,r._values),lt.addTo(r._movement,r._delta),this.computeValues(i),this.compute(t),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("scroll","",this.scroll.bind(this))}}const al=be;class sl extends Ze{constructor(...t){super(...t),yt(this,"ingKey","wheeling")}wheel(t){this.state._active||this.start(t),this.wheelChange(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(t){const r=this.state;r._delta=js(t),lt.addTo(r._movement,r._delta),Rs(r),this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("wheel","",this.wheel.bind(this))}}const il=be;class ol extends Ze{constructor(...t){super(...t),yt(this,"ingKey","hovering")}enter(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.start(t),this.computeValues(Pe(t)),this.compute(t),this.emit())}leave(t){if(this.config.mouseOnly&&t.pointerType!=="mouse")return;const r=this.state;if(!r._active)return;r._active=!1;const i=Pe(t);r._movement=r._delta=lt.sub(i,r._values),this.computeValues(i),this.compute(t),r.delta=r.movement,this.emit()}bind(t){t("pointer","enter",this.enter.bind(this)),t("pointer","leave",this.leave.bind(this))}}const ul=vt(vt({},be),{},{mouseOnly:(e=!0)=>e}),Mn=new Map,_n=new Map;function cl(e){Mn.set(e.key,e.engine),_n.set(e.key,e.resolver)}const ll={key:"drag",engine:$c,resolver:Qc},fl={key:"hover",engine:ol,resolver:ul},dl={key:"move",engine:el,resolver:rl},hl={key:"pinch",engine:qc,resolver:tl},pl={key:"scroll",engine:nl,resolver:al},ml={key:"wheel",engine:sl,resolver:il};function vl(e,t){if(e==null)return{};var r={},i=Object.keys(e),h,b;for(b=0;b<i.length;b++)h=i[b],!(t.indexOf(h)>=0)&&(r[h]=e[h]);return r}function gl(e,t){if(e==null)return{};var r=vl(e,t),i,h;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);for(h=0;h<b.length;h++)i=b[h],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}const yl={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=$t.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},bl=["target","eventOptions","window","enabled","transform"];function xr(e={},t){const r={};for(const[i,h]of Object.entries(t))switch(typeof h){case"function":r[i]=h.call(r,e[i],i,e);break;case"object":r[i]=xr(e[i],h);break;case"boolean":h&&(r[i]=e[i]);break}return r}function Sl(e,t,r={}){const i=e,{target:h,eventOptions:b,window:s,enabled:l,transform:n}=i,o=gl(i,bl);if(r.shared=xr({target:h,eventOptions:b,window:s,enabled:l,transform:n},yl),t){const u=_n.get(t);r[t]=xr(vt({shared:r.shared},o),u)}else for(const u in o){const d=_n.get(u);d&&(r[u]=xr(vt({shared:r.shared},o[u]),d))}return r}class Fs{constructor(t,r){yt(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=r}add(t,r,i,h,b){const s=this._listeners,l=Oc(r,i),n=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},o=vt(vt({},n),b);t.addEventListener(l,h,o);const u=()=>{t.removeEventListener(l,h,o),s.delete(u)};return s.add(u),u}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class _l{constructor(){yt(this,"_timeouts",new Map)}add(t,r,i=140,...h){this.remove(t),this._timeouts.set(t,window.setTimeout(r,i,...h))}remove(t){const r=this._timeouts.get(t);r&&window.clearTimeout(r)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class xl{constructor(t){yt(this,"gestures",new Set),yt(this,"_targetEventStore",new Fs(this)),yt(this,"gestureEventStores",{}),yt(this,"gestureTimeoutStores",{}),yt(this,"handlers",{}),yt(this,"config",{}),yt(this,"pointerIds",new Set),yt(this,"touchIds",new Set),yt(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Tl(this,t)}setEventIds(t){if(Mr(t))return this.touchIds=new Set(Ic(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,r){this.handlers=t,this.nativeHandlers=r}applyConfig(t,r){this.config=Sl(t,r,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const r=this.config.shared,i={};let h;if(!(r.target&&(h=r.target(),!h))){if(r.enabled){for(const s of this.gestures){const l=this.config[s],n=Ea(i,l.eventOptions,!!h);if(l.enabled){const o=Mn.get(s);new o(this,t,s).bind(n)}}const b=Ea(i,r.eventOptions,!!h);for(const s in this.nativeHandlers)b(s,"",l=>this.nativeHandlers[s](vt(vt({},this.state.shared),{},{event:l,args:t})),void 0,!0)}for(const b in i)i[b]=Dc(...i[b]);if(!h)return i;for(const b in i){const{device:s,capture:l,passive:n}=wc(b);this._targetEventStore.add(h,s,"",i[b],{capture:l,passive:n})}}}}function Ce(e,t){e.gestures.add(t),e.gestureEventStores[t]=new Fs(e,t),e.gestureTimeoutStores[t]=new _l}function Tl(e,t){t.drag&&Ce(e,"drag"),t.wheel&&Ce(e,"wheel"),t.scroll&&Ce(e,"scroll"),t.move&&Ce(e,"move"),t.pinch&&Ce(e,"pinch"),t.hover&&Ce(e,"hover")}const Ea=(e,t,r)=>(i,h,b,s={},l=!1)=>{var n,o;const u=(n=s.capture)!==null&&n!==void 0?n:t.capture,d=(o=s.passive)!==null&&o!==void 0?o:t.passive;let p=l?i:Tc(i,h,u);r&&d&&(p+="Passive"),e[p]=e[p]||[],e[p].push(b)},El=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function wl(e){const t={},r={},i=new Set;for(let h in e)El.test(h)?(i.add(RegExp.lastMatch),r[h]=e[h]):t[h]=e[h];return[r,t,i]}function Ie(e,t,r,i,h,b){if(!e.has(r)||!Mn.has(i))return;const s=r+"Start",l=r+"End",n=o=>{let u;return o.first&&s in t&&t[s](o),r in t&&(u=t[r](o)),o.last&&l in t&&t[l](o),u};h[i]=n,b[i]=b[i]||{}}function Ol(e,t){const[r,i,h]=wl(e),b={};return Ie(h,r,"onDrag","drag",b,t),Ie(h,r,"onWheel","wheel",b,t),Ie(h,r,"onScroll","scroll",b,t),Ie(h,r,"onPinch","pinch",b,t),Ie(h,r,"onMove","move",b,t),Ie(h,r,"onHover","hover",b,t),{handlers:b,config:t,nativeHandlers:i}}function Al(e,t={},r,i){const h=ye.useMemo(()=>new xl(e),[]);if(h.applyHandlers(e,i),h.applyConfig(t,r),ye.useEffect(h.effect.bind(h)),ye.useEffect(()=>h.clean.bind(h),[]),t.target===void 0)return h.bind.bind(h)}function Cl(e){return e.forEach(cl),function(r,i){const{handlers:h,nativeHandlers:b,config:s}=Ol(r,i||{});return Al(h,s,void 0,b)}}function Il(e,t){return Cl([ll,hl,pl,ml,dl,fl])(e,t||{})}var $s={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(self,function(){return(()=>{var r,i,h,b,s,l,n,o={d:(L,f)=>{for(var y in f)o.o(f,y)&&!o.o(L,y)&&Object.defineProperty(L,y,{enumerable:!0,get:f[y]})},o:(L,f)=>Object.prototype.hasOwnProperty.call(L,f),r:L=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(L,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(L,"__esModule",{value:!0})}},u={};o.r(u),o.d(u,{Chord:()=>P,ChordDiagram:()=>k,ChordLyricsPair:()=>K,ChordProFormatter:()=>$e,ChordProParser:()=>J,FormatterSettings:()=>Yt,HtmlFormatter:()=>ke,Key:()=>O,MusicAccidental:()=>h,MusicLetter:()=>i,MusicNote:()=>E,ParserWarning:()=>V,Song:()=>U,TextFormatter:()=>he,TimeSignature:()=>B,Transposer:()=>at}),function(L){L.Lyrics="lyrics",L.Comment="comment",L.Empty="empty",L.Custom="custom",L.Tabs="tabs",L.Unknown="unknown"}(r||(r={}));class d{constructor(f){this._lineType=r.Unknown,this._lineType=f}get lineType(){return this._lineType}}class p extends d{constructor(f){super(r.Comment),this._comment=f}clone(){return new p(this._comment)}get comment(){return this._comment}}class v extends d{clone(){return new v}constructor(){super(r.Empty)}}class g extends d{constructor(f=[]){super(r.Lyrics),this._pairs=[],this._pairs=f}clone(){let f=[];return this._pairs.forEach(y=>{f.push(y.clone())}),new g(f)}get pairs(){return this._pairs}addPair(f){this._pairs.push(f)}}class S extends d{constructor(f){super(r.Tabs),this._value=f}clone(){return new S(this.value)}get value(){return this._value}}class _ extends d{constructor(f,y){super(r.Custom),this._name=f,this._value=y}clone(){return new _(this.name,this.value)}get name(){return this._name}get value(){return this._value}}class E{constructor(f,y=h.none){this.letter=f,this.accidental=y}toString(){return this.accidental===h.none?i[this.letter]:i[this.letter]+h[this.accidental]}clone(){return new E(this.letter,this.accidental)}static parse(f){if(!f)return;const y=f.trim().match(/^(?<letter>[A-G])(?<symbol>(#{1,2}|b{1,2}|x))?$/);if(!y||!y.groups)return;const x=y.groups.letter,I=i[x];if(I==null)return;let F=y.groups.symbol;F=="x"&&(F="##");const tt=h[F];return new E(I,tt)}equals(f){return!!f&&f.toString()===this.toString()}}(function(L){L[L.A=0]="A",L[L.B=1]="B",L[L.C=2]="C",L[L.D=3]="D",L[L.E=4]="E",L[L.F=5]="F",L[L.G=6]="G"})(i||(i={})),function(L){L[L.b=0]="b",L[L.bb=1]="bb",L[L["#"]=2]="#",L[L["##"]=3]="##",L[L.none=4]="none"}(h||(h={}));class O{constructor(f,y=b.Major){this.note=f,this.mode=y}clone(){return new O(this.note.clone(),this.mode)}static parse(f){if(!f)return;const y=f.trim().match(/^(?<note>[A-G](#{1,2}|b{1,2}|x)?)(?<mode>m?)$/);if(!y||!y.groups)return;const x=E.parse(y.groups.note);if(x==null)return;const I=y.groups.mode==="m"?b.Minor:b.Major;return new O(x,I)}toString(){return this.note.toString()+(this.mode==b.Major?"":"m")}equals(f){return this.toString()==f.toString()}}(function(L){L[L.Major=0]="Major",L[L.Minor=1]="Minor"})(b||(b={}));class P{constructor(f,y="",x=null){this.key=f,this.type=y,this.bass=x}clone(){var f;return new P(this.key.clone(),this.type,(f=this.bass)===null||f===void 0?void 0:f.clone())}static parse(f){if(!f)return;const y=(f=f.trim()).match(P.chordRegex);if(!y||!y.groups)return;const x=y.groups.note,I=O.parse(x);if(I==null)return;const F=y.groups.type,tt=y.groups.bass,q=E.parse(tt);return new P(I,F,q)}toString(f=!0,y=!0){var x=this.key.toString();return f&&(x+=this.type),y&&this.bass&&(x+="/"+this.bass.toString()),x}toSimpleString(){return this.toString(!1,!1)}equals(f){return!!f&&f.toString()===this.toString()}}P.chordRegex=/^(?<note>[A-G](#{1,2}|b{1,2}|x)?(min|m(?!aj)|-)?)(?<type>(?!\/).*?)?(?:$|(?:\/(?<bass>[A-G](#{1,2}|b{1,2}|x)?)))$/,function(L){L.Lyrics="lyrics",L.Tabs="tabs",L.None="none"}(s||(s={}));class M{constructor(f){this._sectionType=s.None,this._lines=[],this._sectionType=f}get lines(){return this._lines}get sectionType(){return this._sectionType}}(function(L){L.Chorus="chorus",L.Verse="verse",L.Bridge="bridge",L.Custom="custom",L.None="none"})(l||(l={}));class D extends M{constructor(f){super(s.Lyrics),this._type=f}get type(){return this._type}addLine(f){this._lines.push(f)}}class j extends D{constructor(f,y,x=null){super(f),this._name=y,this._value=x}clone(){let f=new j(this.type,this._name,this._value);return this._lines.forEach(y=>{f.addLine(y.clone())}),f}get name(){return this._name}get value(){return this._value}}class G extends D{clone(){let f=new G;return this._lines.forEach(y=>{f.addLine(y.clone())}),f}constructor(){super(l.None)}}class w extends M{constructor(f=null){super(s.Tabs),this._value=null,this._value=f}clone(){let f=new w(this._value);return this._lines.forEach(y=>{f.addLine(y.clone())}),f}get value(){return this._value}addLine(f){this.lines.push(f)}}class B{constructor(f,y){this.topNumber=f,this.bottomNumber=y}toString(){return`${this.topNumber.toString()}/${this.bottomNumber.toString()}`}}class U{constructor(){this.title=null,this.subtitle=null,this.albums=[],this.artists=[],this.composers=[],this.arrangers=[],this.lyricists=[],this.year=null,this.copyright=null,this.key=null,this.capo=0,this.duration=null,this.time=null,this.tempo=null,this.customMetadatas=[],this.userDiagrams=[],this.rawContent="",this.sections=[]}getLyrics(){let f=[];return this.sections.forEach(y=>{y instanceof D&&y.lines.forEach(x=>{let I="";x instanceof g&&x.pairs.forEach(F=>{F.lyrics&&(I+=F.lyrics)}),I=I.trim(),I&&f.push(I)})}),f}getAllChords(){let f=[];return this.sections.forEach(y=>{y instanceof D&&y.lines.forEach(x=>{x instanceof g&&x.pairs.forEach(I=>{if(I.hasChord()){const F=I.chord;f.push(F)}})})}),f}getUniqueChords(){const f=this.getAllChords();let y=[];return f.forEach(x=>{y.find(I=>I.equals(x))||y.push(x)}),y}getPossibleKey(){const f=this.getAllChords();if(f.length==0)return;const y=f[0].key,x=f[f.length-1].key;if(y.equals(x))return y.clone();let I=[];f.forEach(ot=>{let ut=I.find(Ot=>Ot.key.equals(ot.key));ut?ut.count++:I.push({count:0,key:ot.key.clone()})}),I.sort((ot,ut)=>ut.count-ot.count);let F=I[0],tt=I.find(ot=>ot.key.equals(y)).count,q=I.find(ot=>ot.key.equals(x)).count;return F.count>tt&&F.count>q?F.key.clone():tt>q?y.clone():x.clone()}clone(){let f=new U;return f.albums=this.albums,f.arrangers=this.arrangers,f.artists=this.artists,f.capo=this.capo,f.composers=this.composers,f.copyright=this.copyright,f.customMetadatas=this.customMetadatas,f.duration=this.duration,f.lyricists=this.lyricists,f.rawContent=this.rawContent,f.subtitle=this.subtitle,f.tempo=this.tempo,f.title=this.title,f.year=this.year,this.time&&(f.time=new B(this.time.bottomNumber,this.time.topNumber)),this.key&&(f.key=this.key.clone()),this.userDiagrams.forEach(y=>{f.userDiagrams.push(y.clone())}),this.sections.forEach(y=>{f.sections.push(y.clone())}),f}}class k{constructor(f,y,x=[],I=1){this._chord=f,this._frets=y,this._fingers=x,this._variation=I}get chord(){return this._chord}get frets(){return this._frets}get fingers(){return this._fingers}get variation(){return this._variation}clone(){return new k(this._chord.clone(),[...this._frets],[...this._fingers],this.variation)}static parse(f){var y,x;const I=f.match(/^\{define: (?<chord>([A-G][#bx]{0,2})(.*?)(?: |(?:\/([A-G][#bx]{0,2})))) *base-fret (?<basefret>[1-9][0-9]?) *frets(?<frets>( [0-9xNn]){6})( *fingers(?<fingers>( [0-5]){6}))?\}$/);if(!I||I.length<1||!I.groups)return;const F=I.groups.chord,tt=parseInt(I.groups.basefret,10),q=(y=I.groups.fingers)===null||y===void 0?void 0:y.trim().split(" ").map(Number),ot=(x=I.groups.frets)===null||x===void 0?void 0:x.trim().split(" "),ut=[];ot.forEach(Et=>{const bt=parseInt(Et,10);let Z=isNaN(bt)?-1:bt;tt>1&&Z>0&&(Z+=tt-1),ut.push(Z)});const Ot=P.parse(F);return Ot&&ut&&!isNaN(tt)?new k(Ot,ut,q):void 0}hasBarre(){return this.barre()>0}barre(){const f=this.frets.filter(x=>x!=0),y=this.fingers.filter(x=>x===1);return f.length<this.frets.length||y.length<=1?0:this.fretsRange()[0]}fretsRange(f=!0){const y=f?-1:0,x=this._frets.filter(I=>I>y);return[Math.min(...x),Math.max(...x)]}getRelativeFrets(){let f=this.fretsRange(!1),y=f[0],x=f[1];(y<1||x<4)&&(y=1);const I=-(y-1);return[y,this.tryMovingFrets(I)[1]]}tryMovingFrets(f){return f===0?[!0,this._frets]:f>this.fretsRange()[0]?[!1,this._frets]:[!0,this._frets.map(y=>y<1?y:y+f)]}}class K{constructor(f,y=null,x=null){this.lyrics=f,this.chord=y,this.text=x}clone(){var f;return new K(this.lyrics,(f=this.chord)===null||f===void 0?void 0:f.clone(),this.text)}hasChord(){return this.chord!==null}hasText(){return this.text!==null}static parse(f){const y=f.match(/\[(?<value>.*?)\]/);if(!y||!y.groups)return[!0,new K(f)];const x=y.groups.value,I=f.substring(x.length+2,f.length);return this.createChordLyricsPair(I,x)}static parseLine(f){const y=[],x=/\[(?<value>.*?)\]/g;if(!x.test(f))return y.push([!0,new K(f)]),y;let I;x.lastIndex=0;let F=0,tt=null;for(;I=x.exec(f);){const ot=f.substring(F,I.index);ot&&y.push(this.createChordLyricsPair(ot,tt)),tt=I.groups.value,F=x.lastIndex}const q=f.substring(F,f.length);return q&&y.push(this.createChordLyricsPair(q,tt)),y}static createChordLyricsPair(f,y){let x=null,I=null;y!=null&&y.startsWith("*")?I=y.substring(1,y.length):x=y?P.parse(y):null;const F=new K(f,x,I),tt=x!==void 0;return tt||(F.text=y),[tt,F]}}class V{constructor(f,y){this._message=f,this._lineNumber=y}toString(){return`Warning: ${this._message} on line ${this._lineNumber}`}}class C{}C.ALBUM="album",C.ARRANGER="arranger",C.ARTIST="artist",C.CAPO="capo",C.COMMENT="comment",C.DEFINE="define",C.COMPOSER="composer",C.COPYRIGHT="copyright",C.DURATION="duration",C.END_OF_BRIDGE="end_of_bridge",C.END_OF_CHORUS="end_of_chorus",C.END_OF_TAB="end_of_tab",C.END_OF_VERSE="end_of_verse",C.KEY="key",C.LYRICIST="lyricist",C.START_OF_BRIDGE="start_of_bridge",C.START_OF_CHORUS="start_of_chorus",C.START_OF_TAB="start_of_tab",C.START_OF_VERSE="start_of_verse",C.SUBTITLE="subtitle",C.TEMPO="tempo",C.TIME="time",C.TITLE="title",C.YEAR="year",C.TITLE_SHORT="t",C.SUBTITLE_SHORT="st",C.COMMENT_SHORT="c",C.START_OF_CHORUS_SHORT="soc",C.END_OF_CHORUS_SHORT="eoc",C.START_OF_VERSE_SHORT="sov",C.END_OF_VERSE_SHORT="eov",C.START_OF_BRIDGE_SHORT="sob",C.END_OF_BRIDGE_SHORT="eob",C.START_OF_TAB_SHORT="sot",C.END_OF_TAB_SHORT="eot",C.META_TAGS=[C.ALBUM,C.ARRANGER,C.ARTIST,C.CAPO,C.COMPOSER,C.COPYRIGHT,C.DURATION,C.KEY,C.LYRICIST,C.TEMPO,C.TIME,C.TITLE,C.SUBTITLE,C.YEAR],C.START_BLOCK_TAGS=[C.START_OF_BRIDGE,C.START_OF_CHORUS,C.START_OF_TAB,C.START_OF_VERSE],C.END_BLOCK_TAGS=[C.END_OF_BRIDGE,C.END_OF_CHORUS,C.END_OF_TAB,C.END_OF_VERSE],function(L){L[L.Metadata=0]="Metadata",L[L.CustomMetadata=1]="CustomMetadata",L[L.StartOfBlock=2]="StartOfBlock",L[L.EndOfBlock=3]="EndOfBlock",L[L.Comment=4]="Comment",L[L.Define=5]="Define",L[L.Custom=6]="Custom",L[L.None=7]="None"}(n||(n={}));class W{constructor(){this._originalName="",this._value=null,this._type=n.None}get value(){return this._value}get type(){return this._type}get shortName(){return W.getShortName(this._originalName)}get longName(){return W.getLongName(this._originalName)}static getLongName(f){if(!f)return f;const y=this.ALIASES.find(x=>x.shortName===f);return y?y.longName:f}static getShortName(f){if(!f)return f;const y=this.ALIASES.find(x=>x.longName===f);return y?y.shortName:f}static parse(f){const y=f.trim();if(this.CUSTOM_META_TAG_REGEX.test(y)){let x=this.parseRegex(y,this.CUSTOM_META_TAG_REGEX);return x&&(x._type=n.Custom),x}if(this.META_TAG_REGEX.test(y)){let x=this.parseRegex(y,this.META_TAG_REGEX);return x&&(x._type=C.META_TAGS.find(I=>I===x.longName)?x._type=n.Metadata:x._type=n.CustomMetadata),x}if(this.TAG_REGEX.test(y)){let x=this.parseRegex(y,this.TAG_REGEX);if(x){if(C.META_TAGS.find(I=>I===x.longName))x._type=n.Metadata;else if(x.longName.startsWith("start_of_"))x._type=n.StartOfBlock;else if(x.longName.startsWith("end_of_"))x._type=n.EndOfBlock;else if(x.longName===C.DEFINE)x._type=n.Define;else{if(x.longName!==C.COMMENT)return;x._type=n.Comment}return x}}}static parseRegex(f,y){let x=new W;const I=f.trim().match(y);if(I&&I.groups)return I.groups.name?(x._originalName=I.groups.name,I.groups.value&&(x._value=I.groups.value),x):void 0}}W.ALIASES=[{shortName:C.TITLE_SHORT,longName:C.TITLE},{shortName:C.SUBTITLE_SHORT,longName:C.SUBTITLE},{shortName:C.COMMENT_SHORT,longName:C.COMMENT},{shortName:C.START_OF_BRIDGE_SHORT,longName:C.START_OF_BRIDGE},{shortName:C.END_OF_BRIDGE_SHORT,longName:C.END_OF_BRIDGE},{shortName:C.START_OF_CHORUS_SHORT,longName:C.START_OF_CHORUS},{shortName:C.END_OF_CHORUS_SHORT,longName:C.END_OF_CHORUS},{shortName:C.START_OF_VERSE_SHORT,longName:C.START_OF_VERSE},{shortName:C.END_OF_VERSE_SHORT,longName:C.END_OF_VERSE},{shortName:C.START_OF_TAB_SHORT,longName:C.START_OF_TAB},{shortName:C.END_OF_TAB_SHORT,longName:C.END_OF_TAB}],W.META_TAG_REGEX=/^meta:\s*(?<name>[^:\s]+)(\s*(?<value>.+))?$/,W.TAG_REGEX=/^(?<name>[^:\s]+)(:?\s*(?<value>.+))?$/,W.CUSTOM_META_TAG_REGEX=/^(?<name>x_[^:]+)(:?\s*(?<value>.+))?$/;class J{constructor(){this._currentLineIndex=0,this.TAG_REGEX=/\{(?<value>.*)\}/,this.TAB_LINE_REGEX=/^[aA-zZ]\|[^ ]+$/,this.CHORD_REGEX=/\[(.*?)\]/g,this.SPLIT_CHORD_REGEX=/(?=\[.*?\])/g,this._song=new U,this._currentSection=new G,this._currentSectionTagName=null,this._warnings=[]}get warnings(){return this._warnings}parse(f){if(!f.trim())return this.addWarning("The song sheet is empty"),new U;this._song.rawContent=f;const y=f.split(/\r\n|\r|\n/);for(;!y[0].trim();)y.splice(0,1);return y.forEach(x=>{this.parseLine(x),this._currentLineIndex++}),this.completeCurrentSection(),this._song.key,this._song}parseLine(f){if(f=f.trim())if(this.TAG_REGEX.test(f))this.parseTag(f);else switch(this._currentSection.sectionType){case s.Tabs:this.parseTabLine(f);break;case s.Lyrics:this.parseLyricsLine(f)}else this.addLine(new v)}parseTabLine(f){this._currentSection instanceof w?(this.TAB_LINE_REGEX.test(f)||this.addWarning("This tabs line is invalid. It must starts with the string name and a pipe."),this.addLine(new S(f))):this.addWarning("Internal error: wrong section type")}parseLyricsLine(f){if(this._currentSection instanceof D){const y=f.replace(this.CHORD_REGEX,"");/[\[\]\{\}]/.test(y)&&this.addWarning("The lyrics line contains invalid characters or unclosed chords.");const x=f.split(this.SPLIT_CHORD_REGEX),I=[];x.forEach(tt=>{const q=K.parse(tt);q[0]||(q[1].lyrics.trim()?this.addWarning(`Cannot parse the chord '${q[1].text}' before the lyrics '${q[1].lyrics.trim()}'`):this.addWarning(`Cannot parse the chord '${q[1].text}'`)),I.push(q[1])});const F=new g(I);this.addLine(F)}else this.addWarning("Internal error: wrong section type")}parseTag(f){const y=f.match(this.TAG_REGEX);if(!y||!y.groups||!y.groups.value)return void this.addWarning("Invalid tag.");const x=W.parse(y.groups.value.trim());if(x)switch(x.type){case n.Metadata:this.parseMetadataTag(x.longName,x.value);break;case n.Comment:this.parseCommentTag(x.value);break;case n.Define:this.parseDefineTag(x.value);break;case n.Custom:this.parseCustomTag(x.longName,x.value);break;case n.CustomMetadata:this.parseCustomMetadataTag(x.longName,x.value);case n.StartOfBlock:this.parseStartOfBlockTag(x.longName,x.value);break;case n.EndOfBlock:this.parseEndOfBlockTag(x.longName);break;default:this.addWarning("Unknown tag type.")}else this.addWarning("Unknown or mal-formatted tag.")}parseCommentTag(f){f?this.addLine(new p(f)):this.addWarning("The comment tag must have a value")}parseDefineTag(f){if(!f)return void this.addWarning("The define tag must have a value");const y=k.parse(f);y?this._song.userDiagrams.push(y):this.addWarning("The define tag is invalid")}parseCustomTag(f,y){this.addLine(new _(f,y))}parseStartOfBlockTag(f,y){this._currentSectionTagName!==null&&this.addWarning(`The section tag ${this._currentSectionTagName} must be closed before starting a new section`),this.completeCurrentSection();const x=f.replace("start_of_","");this._currentSectionTagName=x;const I=C.START_BLOCK_TAGS.find(F=>F===f);if(I)switch(I){case C.START_OF_BRIDGE:return void(this._currentSection=new j(l.Bridge,x,y));case C.START_OF_CHORUS:return void(this._currentSection=new j(l.Chorus,x,y));case C.START_OF_VERSE:return void(this._currentSection=new j(l.Verse,x,y));case C.START_OF_TAB:return void(this._currentSection=new w(y))}else this._currentSection=new j(l.Custom,x,y)}parseEndOfBlockTag(f){this._currentSectionTagName?(f.replace("end_of_","")!==this._currentSectionTagName&&this.addWarning("The end of section tag does not match the start of section tag."),this.completeCurrentSection()):this.addWarning("This end of section tag is useless and will be ignore.")}completeCurrentSection(){this._currentSection.lines.length>0&&this._song.sections.push(this._currentSection),this._currentSection=new G,this._currentSectionTagName=null}addLine(f){this._currentSection.sectionType!==s.Tabs||f instanceof S?this._currentSection.addLine(f):this.addWarning("Tabs section can only contains tabs lines")}parseMetadataTag(f,y){if(y&&y.trim())switch(f){case C.ALBUM:this._song.albums.push(y);break;case C.ARRANGER:this._song.arrangers.push(y);break;case C.ARTIST:this._song.artists.push(y);break;case C.CAPO:this.parseCapoMetadata(y);break;case C.COMPOSER:this._song.composers.push(y);break;case C.COPYRIGHT:this._song.copyright=y;break;case C.DURATION:this.parseDurationMetadata(y);break;case C.KEY:this.parseKeyMetadata(y);break;case C.LYRICIST:this._song.lyricists.push(y);break;case C.TEMPO:this.parseTempoMetadata(y);break;case C.TIME:this.parseTimeMetadata(y);break;case C.TITLE:this._song.title=y;break;case C.SUBTITLE:this._song.subtitle=y;break;case C.YEAR:this.parseYearMetadata(y);break;default:this.addWarning("Unknown metadata tag")}else this.addWarning("The metadata must have a value")}parseYearMetadata(f){const y=parseInt(f,10);isNaN(y)||y.toString().length!=4?this.addWarning("The year metadata must be a 4 digits number"):this._song.year=y}parseCapoMetadata(f){const y=parseInt(f,10);isNaN(y)?this.addWarning("The capo metadata must be a number"):this._song.capo=y}parseDurationMetadata(f){const y=f.match(/^((?<time>[0-9]+)|(?<minutes>[0-5]?[0-9]):(?<seconds>[0-5][0-9]))$/);if(!y||!y.groups)return void this.addWarning("The duration metadata is invalid. Must be a number or a time (eg: 5:30)");if(y.groups.time){const F=parseInt(f,10);this._song.duration=F}const x=y.groups.minutes,I=y.groups.seconds;x&&I?this._song.duration=60*parseInt(x,10)+parseInt(I):this.addWarning("The duration metadata time format is invalid")}parseTempoMetadata(f){const y=parseInt(f,10);isNaN(y)?this.addWarning("The tempo metadata must be a number"):this._song.tempo=y}parseKeyMetadata(f){const y=O.parse(f);y?this._song.key=y:this.addWarning("The key metadata is not a valid key")}parseTimeMetadata(f){const y=f.match(/^(?<top>[0-9]{1,2})\/(?<bottom>[0-9]{1,2})$/);if(!(y&&y.groups&&y.groups.top&&y.groups.bottom))return void this.addWarning("The time metadata is invalid. Must be number/number (eg: 6/8)");const x=parseInt(y.groups.top),I=parseInt(y.groups.bottom);this._song.time=new B(x,I)}parseCustomMetadataTag(f,y){this._song.customMetadatas.push([f,y])}addWarning(f){const y=new V(f,this._currentLineIndex+1);this._warnings.push(y)}}class it{static semiTonesBetween(f,y){if(f.equals(y))return 0;const x=this.notes.find(q=>q.letter==f.letter).value,I=this.notes.find(q=>q.letter==y.letter).value,F=this.accidentals.find(q=>q.accidental==f.accidental).value,tt=I+this.accidentals.find(q=>q.accidental==y.accidental).value-(x+F);return this.positiveMod(tt,12)}static letterDiff(f,y){if(f==y)return 0;const x=this.notes.find(F=>F.letter==f).index,I=this.notes.find(F=>F.letter==y).index;return this.positiveMod(I-x,7)}static transpose(f,y,x){if(y==0&&x==0)return f;y=this.positiveMod(y,7),x=this.positiveMod(x,12);let I=(this.notes.find(ut=>ut.letter==f.letter).index+y)%7,F=this.notes[I],tt=this.semiTonesBetween(f,new E(F.letter)),q=x-tt;Math.abs(q)>2&&(I=q<0?this.positiveMod(--I,7):this.positiveMod(++I,7),F=this.notes[I],tt=this.semiTonesBetween(f,new E(F.letter)),q=x-tt);const ot=this.accidentals.find(ut=>ut.value==q).accidental;return new E(F.letter,ot)}static positiveMod(f,y){return(f%y+y)%y}}it.notes=[{letter:i.A,index:0,value:0},{letter:i.B,index:1,value:2},{letter:i.C,index:2,value:3},{letter:i.D,index:3,value:5},{letter:i.E,index:4,value:7},{letter:i.F,index:5,value:8},{letter:i.G,index:6,value:10}],it.accidentals=[{accidental:h.none,value:0},{accidental:h["#"],value:1},{accidental:h["##"],value:2},{accidental:h.b,value:-1},{accidental:h.bb,value:-2}];class at{static transpose(f,y){let x=f.clone(),I=x.key?x.key:x.getPossibleKey();if(!I)return f;const F=it.letterDiff(I.note.letter,y.letter),tt=it.semiTonesBetween(I.note,y);return I.note=y,x.sections.forEach((q,ot)=>{q.sectionType==s.Lyrics&&q.lines.forEach((ut,Ot)=>{ut instanceof g&&ut.pairs.forEach((Et,bt)=>{if(Et.chord){const Z=it.transpose(Et.chord.key.note,F,tt),Nt=Et.chord;if(Nt.key.note=Z,Et.chord.bass){const rt=it.transpose(Et.chord.bass,F,tt);Nt.bass=rt}x.sections[ot].lines[Ot].pairs[bt].chord=Nt}})})}),x}}class ft{static toMinutesSeconds(f){const y=Math.floor(f/60),x=f-60*y;return`${y.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}:${x.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}`}static toProperCase(f){return f.length<1?f:f.charAt(0).toUpperCase()+f.substring(1).toLocaleLowerCase()}}class Q{constructor(){this.useSimpleChord=!1,this.showChords=!0}}class dt{constructor(f=new Q){this.settings=f}writeMetadata(f,y){return y?`${ft.toProperCase(f)}: ${y}`:ft.toProperCase(f)}buildMetadataArray(f,y,x){const I=f.length>1?x:y,F=f.join(", ");return`${ft.toProperCase(I)}: ${F}`}titleMetadata(f){return[f]}subtitleMetadata(f){return[f]}artistsMetadata(f){return[f.join(", ")]}composersMetadata(f){return[this.buildMetadataArray(f,"Composer","Composers")]}lyricistsMetadata(f){return[this.buildMetadataArray(f,"Lyricist","Lyricists")]}arrangersMetadata(f){return[this.buildMetadataArray(f,"Arranger","Arrangers")]}yearMetadata(f){return[this.writeMetadata("Year",f.toString())]}copyrightMetadata(f){return[this.writeMetadata("Copyright",f)]}timeMetadata(f){return[this.writeMetadata("Time",f)]}tempoMetadata(f){return[this.writeMetadata("Tempo",f.toString())]}durationMetadata(f){return[this.writeMetadata("Duration",ft.toMinutesSeconds(f))]}capoMetadata(f){return[this.writeMetadata("Capo",f.toString())]}keyMetadata(f){return[this.writeMetadata("Key",f)]}customMetadatas(f){let y=[];return f.forEach(x=>{y.push(this.writeMetadata(x[0],x[1]))}),y}emptyLine(){return[""]}lyricsLine(f){let y="",x="",I=[];return f.pairs.forEach(F=>{let tt=1;if(this.settings.showChords)if(F.chord){let q=this.settings.useSimpleChord?F.chord.toSimpleString():F.chord.toString();y+=q,tt=F.lyrics.length-q.length}else F.text?(y+=F.text,tt=F.lyrics.length-F.text.length):tt=F.lyrics.length;tt>0?(y+=" ".repeat(tt),x+=F.lyrics):(y+=" ",x+=F.lyrics+" ".repeat(Math.abs(tt)+1))}),y=y.trimEnd(),x=x.trimEnd(),y&&I.push(y),x&&I.push(x),I}commentLine(f){return["#"+f.comment]}tabLine(f){return[f.value]}customLine(f){return[]}sectionStart(f){return(f instanceof j||f instanceof w)&&f.value?[f.value]:[]}sectionEnd(f){return[]}metadataStart(){return["*".repeat(10)]}metadataEnd(){return["*".repeat(10)]}contentStart(){return[]}contentEnd(){return[]}}class Tt{constructor(f=new Q){this.settings=f}buildMetadata(f,y){return y?`{${f}: ${y}}`:`{${f}}`}buildMetadatas(f,y){let x=[];return y.forEach(I=>{x.push(this.buildMetadata(f,I))}),x}titleMetadata(f){return[this.buildMetadata("title",f)]}subtitleMetadata(f){return[this.buildMetadata("subtitle",f)]}artistsMetadata(f){return this.buildMetadatas("artist",f)}composersMetadata(f){return this.buildMetadatas("composer",f)}lyricistsMetadata(f){return this.buildMetadatas("lyricist",f)}arrangersMetadata(f){return this.buildMetadatas("arranger",f)}yearMetadata(f){return[this.buildMetadata("year",f.toString())]}copyrightMetadata(f){return[this.buildMetadata("copyright",f)]}timeMetadata(f){return[this.buildMetadata("time",f)]}tempoMetadata(f){return[this.buildMetadata("tempo",f.toString())]}durationMetadata(f){return[this.buildMetadata("duration",ft.toMinutesSeconds(f))]}capoMetadata(f){return[this.buildMetadata("capo",f.toString())]}keyMetadata(f){return[this.buildMetadata("key",f)]}customMetadatas(f){let y=[];return f.forEach(x=>{y.push(this.buildMetadata(x[0].toLowerCase(),x[1]))}),y}emptyLine(){return[""]}lyricsLine(f){let y="";return f.pairs.forEach(x=>{if(this.settings.showChords)if(x.chord){let I=this.settings.useSimpleChord?x.chord.toSimpleString():x.chord.toString();y+=`[${I}]${x.lyrics}`}else x.text?y+=`[*${x.text}]${x.lyrics}`:y+=x.lyrics;else y+=x.lyrics}),[y.trim()]}commentLine(f){return[this.buildMetadata("comment",f.comment)]}tabLine(f){return[f.value]}customLine(f){return[this.buildMetadata(f.name,f.value)]}sectionStart(f){if(f instanceof j||f instanceof w){let y=f instanceof w?"tab":f.name;return[this.buildMetadata("start_of_"+y,f.value)]}return[]}sectionEnd(f){if(f instanceof j||f instanceof w){let y=f instanceof w?"tab":f.name;return[this.buildMetadata("end_of_"+y,null)]}return[]}metadataStart(){return[]}metadataEnd(){return[]}contentStart(){return[]}contentEnd(){return[]}}class Mt{constructor(f){this.value=f}toStringLines(){return[this.value]}}class St{constructor(f,y,...x){this.classNames=[],this.innerHtml=[],this.tag=f,this.innerHtml=x,this.classNames=y}toStringLines(){const f=[];return f.push(`<${this.tag} class="${this.classNames.join(" ")}">`),this.innerHtml.forEach(y=>{f.push(...y.toStringLines())}),f.push(`</${this.tag}>`),f}addElement(...f){this.innerHtml.push(...f)}addString(f){this.innerHtml.push(new Mt(f))}}class ee{constructor(f=new Q){this.settings=f}buildHtmlElement(f,y,x=[]){return`<${f} class="${x.join(" ")}">${y}</${f}>`}titleMetadata(f){return[this.buildHtmlElement("h1",f,["metadata","title-metadata"])]}subtitleMetadata(f){return[this.buildHtmlElement("h2",f,["metadata","subtitle-metadata"])]}artistsMetadata(f){return[this.buildHtmlElement("h3",f.join(", "),["metadata","artist-metadata"])]}composersMetadata(f){const y=f.length>1?"Composers":"Composer";return[this.buildHtmlElement("div",y+": "+f.join(", "),["metadata","composer-metadata"])]}lyricistsMetadata(f){const y=f.length>1?"Lyricists":"Lyricist";return[this.buildHtmlElement("div",y+": "+f.join(", "),["metadata","lyricist-metadata"])]}arrangersMetadata(f){const y=f.length>1?"Arrangers":"Arranger";return[this.buildHtmlElement("div",y+": "+f.join(", "),["metadata","arranger-metadata"])]}yearMetadata(f){return[this.buildHtmlElement("div","Year: "+f,["metadata","year-metadata"])]}copyrightMetadata(f){return[this.buildHtmlElement("div","Copyright: "+f,["metadata","copyright-metadata"])]}timeMetadata(f){return[this.buildHtmlElement("div","Time: "+f,["metadata","time-metadata"])]}tempoMetadata(f){return[this.buildHtmlElement("div","Tempo: "+f,["metadata","tempo-metadata"])]}durationMetadata(f){return[this.buildHtmlElement("div","Duration: "+ft.toMinutesSeconds(f),["metadata","duration-metadata"])]}capoMetadata(f){return[this.buildHtmlElement("div","Capo: "+f,["metadata","capo-metadata"])]}keyMetadata(f){return[this.buildHtmlElement("div","Key: "+f,["metadata","key-metadata"])]}customMetadatas(f){let y=[];const x=["metadata","custom-metadata"];return f.forEach(I=>{y.push(this.buildHtmlElement("div",ft.toProperCase(I[0])+": "+I[1],x))}),y}emptyLine(){return[this.buildHtmlElement("div","",["line","empty-line"])]}createWordElement(...f){return f.map(y=>y.toStringLines()).join("").trim()?new St("div",["word"],...f):new Mt("")}createChordElement(f,y){let x=["above-lyrics"];y?x.push("chord"):x.push("annotation");let I=new St("span",x);return I.addString(f),I}createLyricsElement(f){let y=new St("span",["lyrics"]);return y.addString(f),y}createChordLyricsElement(f,y,x){if(!this.settings.showChords&&x=="&nbsp;")return new Mt("");let I=new St("div",["chord-lyrics"]);return this.settings.showChords&&I.addElement(this.createChordElement(f,y)),x&&I.addElement(this.createLyricsElement(x)),I}lyricsLine(f){let y=f.pairs.map(F=>F.lyrics).join("").trim();if(!this.settings.showChords&&!y)return[];let x=new St("div",["lyrics-line"]),I=[];if(f.pairs.forEach((F,tt)=>{let q=F.chord!=null||F.text!=null,ot=F.chord!=null,ut="";F.chord?ut=this.settings.useSimpleChord?F.chord.toSimpleString():F.chord.toString():F.text&&(ut=F.text);let Ot=q?F.lyrics:F.lyrics.trimStart();Ot=Ot.replace(/ +/g," ");let Et=Ot.split(" "),bt=Et.shift(),Z=Et.pop();if(bt==""){if(I.length>0){let It=this.createWordElement(...I);x.addElement(It),I=[]}bt="&nbsp;",Et.length>0&&(bt+=Et.shift())}y||(bt=void 0);var Nt=q?this.createChordLyricsElement(ut,ot,bt):this.createLyricsElement(bt);if(I.push(Nt),Z==null&&tt<f.pairs.length-1)return;let rt=this.createWordElement(...I);x.addElement(rt),I=[],Et.forEach(It=>{let kt=this.createLyricsElement(It),He=this.createWordElement(kt);x.addElement(He)}),Z!=""&&Z!=null&&(I.push(this.createLyricsElement(Z)),f.pairs.length)}),I.length>0){let F=this.createWordElement(...I);x.addElement(F),I=[]}return x.toStringLines()}commentLine(f){return[this.buildHtmlElement("div",f.comment,["line","comment-line"])]}tabLine(f){return[this.buildHtmlElement("div",f.value,["line","tab-line"])]}customLine(f){const y=["metadata","custom-metadata",f.name];return[this.buildHtmlElement("div",f.value?f.value:"",y)]}sectionStart(f){let y=[];if(f instanceof j||f instanceof w){let x="tab";if(f instanceof j)switch(f.type){case l.Chorus:x="chorus";break;case l.Verse:x="verse";break;case l.Bridge:x="bridge";break;case l.Custom:x="custom"}if(y.push(`<div class="section ${x}-section">`),f.value){const I=["section-title"];y.push(this.buildHtmlElement("div",f.value,I))}}return y}sectionEnd(f){return f instanceof j||f instanceof w?["</div>"]:[]}metadataStart(){return[`<div class=${["song-metadata"].join(" ")}>`]}metadataEnd(){return["</div>"]}contentStart(){return[`<div class=${["song-content"].join(" ")}>`]}contentEnd(){return["</div>"]}}class de{constructor(f){this._lines=[],this._builder=f}format(f){return this.settings.showMetadata&&this.formatMetadata(f),this._lines.push(...this._builder.contentStart()),f.sections.forEach(y=>{(this.settings.showTabs||y.sectionType!=s.Tabs)&&(this._lines.push(...this._builder.sectionStart(y)),y.lines.forEach(x=>{x instanceof v?this._lines.push(...this._builder.emptyLine()):x instanceof g?this._lines.push(...this._builder.lyricsLine(x)):x instanceof S?this._lines.push(...this._builder.tabLine(x)):x instanceof p&&this._lines.push(...this._builder.commentLine(x))}),this._lines.push(...this._builder.sectionEnd(y)))}),this._lines.push(...this._builder.contentEnd()),this._lines}formatMetadata(f){var y,x,I;this._lines.push(...this._builder.metadataStart()),!((y=f.title)===null||y===void 0)&&y.trim()&&this._lines.push(...this._builder.titleMetadata(f.title)),!((x=f.subtitle)===null||x===void 0)&&x.trim()&&this._lines.push(...this._builder.subtitleMetadata(f.subtitle)),f.artists.length>0&&this._lines.push(...this._builder.artistsMetadata(f.artists)),f.composers.length>0&&this._lines.push(...this._builder.composersMetadata(f.composers)),f.lyricists.length>0&&this._lines.push(...this._builder.lyricistsMetadata(f.lyricists)),f.arrangers.length>0&&this._lines.push(...this._builder.arrangersMetadata(f.arrangers)),!((I=f.copyright)===null||I===void 0)&&I.trim()&&this._lines.push(...this._builder.copyrightMetadata(f.copyright)),f.time&&this._lines.push(...this._builder.timeMetadata(`${f.time.topNumber}/${f.time.bottomNumber}`)),f.tempo&&f.tempo>0&&this._lines.push(...this._builder.tempoMetadata(f.tempo)),f.year&&this._lines.push(...this._builder.yearMetadata(f.year)),f.duration&&f.duration>0&&this._lines.push(...this._builder.durationMetadata(f.duration)),f.key&&this._lines.push(...this._builder.keyMetadata(f.key.toString())),f.capo&&f.capo>0&&this._lines.push(...this._builder.capoMetadata(f.capo)),f.customMetadatas.length>0&&this._lines.push(...this._builder.customMetadatas(f.customMetadatas)),this._lines.push(...this._builder.metadataEnd())}}class Yt extends Q{constructor(){super(...arguments),this.showMetadata=!0,this.showTabs=!0}}class $e extends de{constructor(f=new Yt){super(new Tt(f)),this.settings=f}}class ke extends de{constructor(f=new Yt){super(new ee(f)),this.settings=f}}class he extends de{constructor(f=new Yt){super(new dt(f)),this.settings=f}}return u})()})})($s);var xn=$s.exports,ks={exports:{}};(function(e,t){(function(i,h){e.exports=h()})(typeof self<"u"?self:Jt,()=>(()=>{var r={8552:(s,l,n)=>{var o=n(852),u=n(5639),d=o(u,"DataView");s.exports=d},1989:(s,l,n)=>{var o=n(1789),u=n(401),d=n(7667),p=n(1327),v=n(1866);function g(S){var _=-1,E=S==null?0:S.length;for(this.clear();++_<E;){var O=S[_];this.set(O[0],O[1])}}g.prototype.clear=o,g.prototype.delete=u,g.prototype.get=d,g.prototype.has=p,g.prototype.set=v,s.exports=g},8407:(s,l,n)=>{var o=n(7040),u=n(4125),d=n(2117),p=n(7518),v=n(4705);function g(S){var _=-1,E=S==null?0:S.length;for(this.clear();++_<E;){var O=S[_];this.set(O[0],O[1])}}g.prototype.clear=o,g.prototype.delete=u,g.prototype.get=d,g.prototype.has=p,g.prototype.set=v,s.exports=g},7071:(s,l,n)=>{var o=n(852),u=n(5639),d=o(u,"Map");s.exports=d},3369:(s,l,n)=>{var o=n(4785),u=n(1285),d=n(6e3),p=n(9916),v=n(5265);function g(S){var _=-1,E=S==null?0:S.length;for(this.clear();++_<E;){var O=S[_];this.set(O[0],O[1])}}g.prototype.clear=o,g.prototype.delete=u,g.prototype.get=d,g.prototype.has=p,g.prototype.set=v,s.exports=g},3818:(s,l,n)=>{var o=n(852),u=n(5639),d=o(u,"Promise");s.exports=d},8525:(s,l,n)=>{var o=n(852),u=n(5639),d=o(u,"Set");s.exports=d},8668:(s,l,n)=>{var o=n(3369),u=n(619),d=n(2385);function p(v){var g=-1,S=v==null?0:v.length;for(this.__data__=new o;++g<S;)this.add(v[g])}p.prototype.add=p.prototype.push=u,p.prototype.has=d,s.exports=p},6384:(s,l,n)=>{var o=n(8407),u=n(7465),d=n(3779),p=n(7599),v=n(4758),g=n(4309);function S(_){var E=this.__data__=new o(_);this.size=E.size}S.prototype.clear=u,S.prototype.delete=d,S.prototype.get=p,S.prototype.has=v,S.prototype.set=g,s.exports=S},2705:(s,l,n)=>{var o=n(5639),u=o.Symbol;s.exports=u},1149:(s,l,n)=>{var o=n(5639),u=o.Uint8Array;s.exports=u},577:(s,l,n)=>{var o=n(852),u=n(5639),d=o(u,"WeakMap");s.exports=d},6874:s=>{function l(n,o,u){switch(u.length){case 0:return n.call(o);case 1:return n.call(o,u[0]);case 2:return n.call(o,u[0],u[1]);case 3:return n.call(o,u[0],u[1],u[2])}return n.apply(o,u)}s.exports=l},7412:s=>{function l(n,o){for(var u=-1,d=n==null?0:n.length;++u<d&&o(n[u],u,n)!==!1;);return n}s.exports=l},4963:s=>{function l(n,o){for(var u=-1,d=n==null?0:n.length,p=0,v=[];++u<d;){var g=n[u];o(g,u,n)&&(v[p++]=g)}return v}s.exports=l},7443:(s,l,n)=>{var o=n(2118);function u(d,p){var v=d==null?0:d.length;return!!v&&o(d,p,0)>-1}s.exports=u},1196:s=>{function l(n,o,u){for(var d=-1,p=n==null?0:n.length;++d<p;)if(u(o,n[d]))return!0;return!1}s.exports=l},4636:(s,l,n)=>{var o=n(2545),u=n(5694),d=n(1469),p=n(4144),v=n(5776),g=n(6719),S=Object.prototype,_=S.hasOwnProperty;function E(O,P){var M=d(O),D=!M&&u(O),j=!M&&!D&&p(O),G=!M&&!D&&!j&&g(O),w=M||D||j||G,B=w?o(O.length,String):[],U=B.length;for(var k in O)(P||_.call(O,k))&&!(w&&(k=="length"||j&&(k=="offset"||k=="parent")||G&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||v(k,U)))&&B.push(k);return B}s.exports=E},9932:s=>{function l(n,o){for(var u=-1,d=n==null?0:n.length,p=Array(d);++u<d;)p[u]=o(n[u],u,n);return p}s.exports=l},2488:s=>{function l(n,o){for(var u=-1,d=o.length,p=n.length;++u<d;)n[p+u]=o[u];return n}s.exports=l},2908:s=>{function l(n,o){for(var u=-1,d=n==null?0:n.length;++u<d;)if(o(n[u],u,n))return!0;return!1}s.exports=l},4865:(s,l,n)=>{var o=n(9465),u=n(7813),d=Object.prototype,p=d.hasOwnProperty;function v(g,S,_){var E=g[S];(!(p.call(g,S)&&u(E,_))||_===void 0&&!(S in g))&&o(g,S,_)}s.exports=v},8470:(s,l,n)=>{var o=n(7813);function u(d,p){for(var v=d.length;v--;)if(o(d[v][0],p))return v;return-1}s.exports=u},4037:(s,l,n)=>{var o=n(8363),u=n(3674);function d(p,v){return p&&o(v,u(v),p)}s.exports=d},3886:(s,l,n)=>{var o=n(8363),u=n(1704);function d(p,v){return p&&o(v,u(v),p)}s.exports=d},9465:(s,l,n)=>{var o=n(8777);function u(d,p,v){p=="__proto__"&&o?o(d,p,{configurable:!0,enumerable:!0,value:v,writable:!0}):d[p]=v}s.exports=u},5990:(s,l,n)=>{var o=n(6384),u=n(7412),d=n(4865),p=n(4037),v=n(3886),g=n(4626),S=n(278),_=n(8805),E=n(1911),O=n(8234),P=n(6904),M=n(4160),D=n(3824),j=n(9148),G=n(8517),w=n(1469),B=n(4144),U=n(6688),k=n(3218),K=n(2928),V=n(3674),C=n(1704),W=1,J=2,it=4,at="[object Arguments]",ft="[object Array]",Q="[object Boolean]",dt="[object Date]",Tt="[object Error]",Mt="[object Function]",St="[object GeneratorFunction]",ee="[object Map]",de="[object Number]",Yt="[object Object]",$e="[object RegExp]",ke="[object Set]",he="[object String]",L="[object Symbol]",f="[object WeakMap]",y="[object ArrayBuffer]",x="[object DataView]",I="[object Float32Array]",F="[object Float64Array]",tt="[object Int8Array]",q="[object Int16Array]",ot="[object Int32Array]",ut="[object Uint8Array]",Ot="[object Uint8ClampedArray]",Et="[object Uint16Array]",bt="[object Uint32Array]",Z={};Z[at]=Z[ft]=Z[y]=Z[x]=Z[Q]=Z[dt]=Z[I]=Z[F]=Z[tt]=Z[q]=Z[ot]=Z[ee]=Z[de]=Z[Yt]=Z[$e]=Z[ke]=Z[he]=Z[L]=Z[ut]=Z[Ot]=Z[Et]=Z[bt]=!0,Z[Tt]=Z[Mt]=Z[f]=!1;function Nt(rt,It,kt,He,Se,zt){var wt,_e=It&W,xe=It&J,pe=It&it;if(kt&&(wt=Se?kt(rt,He,Se,zt):kt(rt)),wt!==void 0)return wt;if(!k(rt))return rt;var nt=w(rt);if(nt){if(wt=D(rt),!_e)return S(rt,wt)}else{var Gt=M(rt),Ht=Gt==Mt||Gt==St;if(B(rt))return g(rt,_e);if(Gt==Yt||Gt==at||Ht&&!Se){if(wt=xe||Ht?{}:G(rt),!_e)return xe?E(rt,v(wt,rt)):_(rt,p(wt,rt))}else{if(!Z[Gt])return Se?rt:{};wt=j(rt,Gt,_e)}}zt||(zt=new o);var Te=zt.get(rt);if(Te)return Te;zt.set(rt,wt),K(rt)?rt.forEach(function(Bt){wt.add(Nt(Bt,It,kt,Bt,rt,zt))}):U(rt)&&rt.forEach(function(Bt,$){wt.set($,Nt(Bt,It,kt,$,rt,zt))});var Vr=pe?xe?P:O:xe?C:V,ir=nt?void 0:Vr(rt);return u(ir||rt,function(Bt,$){ir&&($=Bt,Bt=rt[$]),d(wt,$,Nt(Bt,It,kt,$,rt,zt))}),wt}s.exports=Nt},3118:(s,l,n)=>{var o=n(3218),u=Object.create,d=function(){function p(){}return function(v){if(!o(v))return{};if(u)return u(v);p.prototype=v;var g=new p;return p.prototype=void 0,g}}();s.exports=d},731:(s,l,n)=>{var o=n(8668),u=n(7443),d=n(1196),p=n(9932),v=n(1717),g=n(4757),S=200;function _(E,O,P,M){var D=-1,j=u,G=!0,w=E.length,B=[],U=O.length;if(!w)return B;P&&(O=p(O,v(P))),M?(j=d,G=!1):O.length>=S&&(j=g,G=!1,O=new o(O));t:for(;++D<w;){var k=E[D],K=P==null?k:P(k);if(k=M||k!==0?k:0,G&&K===K){for(var V=U;V--;)if(O[V]===K)continue t;B.push(k)}else j(O,K,M)||B.push(k)}return B}s.exports=_},1848:s=>{function l(n,o,u,d){for(var p=n.length,v=u+(d?1:-1);d?v--:++v<p;)if(o(n[v],v,n))return v;return-1}s.exports=l},1078:(s,l,n)=>{var o=n(2488),u=n(7285);function d(p,v,g,S,_){var E=-1,O=p.length;for(g||(g=u),_||(_=[]);++E<O;){var P=p[E];v>0&&g(P)?v>1?d(P,v-1,g,S,_):o(_,P):S||(_[_.length]=P)}return _}s.exports=d},8483:(s,l,n)=>{var o=n(5063),u=o();s.exports=u},7816:(s,l,n)=>{var o=n(8483),u=n(3674);function d(p,v){return p&&o(p,v,u)}s.exports=d},7786:(s,l,n)=>{var o=n(1811),u=n(327);function d(p,v){v=o(v,p);for(var g=0,S=v.length;p!=null&&g<S;)p=p[u(v[g++])];return g&&g==S?p:void 0}s.exports=d},8866:(s,l,n)=>{var o=n(2488),u=n(1469);function d(p,v,g){var S=v(p);return u(p)?S:o(S,g(p))}s.exports=d},4239:(s,l,n)=>{var o=n(2705),u=n(9607),d=n(2333),p="[object Null]",v="[object Undefined]",g=o?o.toStringTag:void 0;function S(_){return _==null?_===void 0?v:p:g&&g in Object(_)?u(_):d(_)}s.exports=S},13:s=>{function l(n,o){return n!=null&&o in Object(n)}s.exports=l},2118:(s,l,n)=>{var o=n(1848),u=n(2722),d=n(2351);function p(v,g,S){return g===g?d(v,g,S):o(v,u,S)}s.exports=p},8975:(s,l,n)=>{var o=n(7816);function u(d,p,v,g){return o(d,function(S,_,E){p(g,v(S),_,E)}),g}s.exports=u},9454:(s,l,n)=>{var o=n(4239),u=n(7005),d="[object Arguments]";function p(v){return u(v)&&o(v)==d}s.exports=p},939:(s,l,n)=>{var o=n(2492),u=n(7005);function d(p,v,g,S,_){return p===v?!0:p==null||v==null||!u(p)&&!u(v)?p!==p&&v!==v:o(p,v,g,S,d,_)}s.exports=d},2492:(s,l,n)=>{var o=n(6384),u=n(7114),d=n(8351),p=n(6096),v=n(4160),g=n(1469),S=n(4144),_=n(6719),E=1,O="[object Arguments]",P="[object Array]",M="[object Object]",D=Object.prototype,j=D.hasOwnProperty;function G(w,B,U,k,K,V){var C=g(w),W=g(B),J=C?P:v(w),it=W?P:v(B);J=J==O?M:J,it=it==O?M:it;var at=J==M,ft=it==M,Q=J==it;if(Q&&S(w)){if(!S(B))return!1;C=!0,at=!1}if(Q&&!at)return V||(V=new o),C||_(w)?u(w,B,U,k,K,V):d(w,B,J,U,k,K,V);if(!(U&E)){var dt=at&&j.call(w,"__wrapped__"),Tt=ft&&j.call(B,"__wrapped__");if(dt||Tt){var Mt=dt?w.value():w,St=Tt?B.value():B;return V||(V=new o),K(Mt,St,U,k,V)}}return Q?(V||(V=new o),p(w,B,U,k,K,V)):!1}s.exports=G},5588:(s,l,n)=>{var o=n(4160),u=n(7005),d="[object Map]";function p(v){return u(v)&&o(v)==d}s.exports=p},2958:(s,l,n)=>{var o=n(6384),u=n(939),d=1,p=2;function v(g,S,_,E){var O=_.length,P=O,M=!E;if(g==null)return!P;for(g=Object(g);O--;){var D=_[O];if(M&&D[2]?D[1]!==g[D[0]]:!(D[0]in g))return!1}for(;++O<P;){D=_[O];var j=D[0],G=g[j],w=D[1];if(M&&D[2]){if(G===void 0&&!(j in g))return!1}else{var B=new o;if(E)var U=E(G,w,j,g,S,B);if(!(U===void 0?u(w,G,d|p,E,B):U))return!1}}return!0}s.exports=v},2722:s=>{function l(n){return n!==n}s.exports=l},8458:(s,l,n)=>{var o=n(3560),u=n(5346),d=n(3218),p=n(346),v=/[\\^$.*+?()[\]{}|]/g,g=/^\[object .+?Constructor\]$/,S=Function.prototype,_=Object.prototype,E=S.toString,O=_.hasOwnProperty,P=RegExp("^"+E.call(O).replace(v,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function M(D){if(!d(D)||u(D))return!1;var j=o(D)?P:g;return j.test(p(D))}s.exports=M},9221:(s,l,n)=>{var o=n(4160),u=n(7005),d="[object Set]";function p(v){return u(v)&&o(v)==d}s.exports=p},8749:(s,l,n)=>{var o=n(4239),u=n(1780),d=n(7005),p="[object Arguments]",v="[object Array]",g="[object Boolean]",S="[object Date]",_="[object Error]",E="[object Function]",O="[object Map]",P="[object Number]",M="[object Object]",D="[object RegExp]",j="[object Set]",G="[object String]",w="[object WeakMap]",B="[object ArrayBuffer]",U="[object DataView]",k="[object Float32Array]",K="[object Float64Array]",V="[object Int8Array]",C="[object Int16Array]",W="[object Int32Array]",J="[object Uint8Array]",it="[object Uint8ClampedArray]",at="[object Uint16Array]",ft="[object Uint32Array]",Q={};Q[k]=Q[K]=Q[V]=Q[C]=Q[W]=Q[J]=Q[it]=Q[at]=Q[ft]=!0,Q[p]=Q[v]=Q[B]=Q[g]=Q[U]=Q[S]=Q[_]=Q[E]=Q[O]=Q[P]=Q[M]=Q[D]=Q[j]=Q[G]=Q[w]=!1;function dt(Tt){return d(Tt)&&u(Tt.length)&&!!Q[o(Tt)]}s.exports=dt},7206:(s,l,n)=>{var o=n(1573),u=n(6432),d=n(6557),p=n(1469),v=n(9601);function g(S){return typeof S=="function"?S:S==null?d:typeof S=="object"?p(S)?u(S[0],S[1]):o(S):v(S)}s.exports=g},280:(s,l,n)=>{var o=n(5726),u=n(6916),d=Object.prototype,p=d.hasOwnProperty;function v(g){if(!o(g))return u(g);var S=[];for(var _ in Object(g))p.call(g,_)&&_!="constructor"&&S.push(_);return S}s.exports=v},313:(s,l,n)=>{var o=n(3218),u=n(5726),d=n(3498),p=Object.prototype,v=p.hasOwnProperty;function g(S){if(!o(S))return d(S);var _=u(S),E=[];for(var O in S)O=="constructor"&&(_||!v.call(S,O))||E.push(O);return E}s.exports=g},1573:(s,l,n)=>{var o=n(2958),u=n(1499),d=n(2634);function p(v){var g=u(v);return g.length==1&&g[0][2]?d(g[0][0],g[0][1]):function(S){return S===v||o(S,v,g)}}s.exports=p},6432:(s,l,n)=>{var o=n(939),u=n(7361),d=n(9095),p=n(5403),v=n(9162),g=n(2634),S=n(327),_=1,E=2;function O(P,M){return p(P)&&v(M)?g(S(P),M):function(D){var j=u(D,P);return j===void 0&&j===M?d(D,P):o(M,j,_|E)}}s.exports=O},371:s=>{function l(n){return function(o){return o==null?void 0:o[n]}}s.exports=l},9152:(s,l,n)=>{var o=n(7786);function u(d){return function(p){return o(p,d)}}s.exports=u},5976:(s,l,n)=>{var o=n(6557),u=n(5357),d=n(61);function p(v,g){return d(u(v,g,o),v+"")}s.exports=p},6560:(s,l,n)=>{var o=n(5703),u=n(8777),d=n(6557),p=u?function(v,g){return u(v,"toString",{configurable:!0,enumerable:!1,value:o(g),writable:!0})}:d;s.exports=p},4259:s=>{function l(n,o,u){var d=-1,p=n.length;o<0&&(o=-o>p?0:p+o),u=u>p?p:u,u<0&&(u+=p),p=o>u?0:u-o>>>0,o>>>=0;for(var v=Array(p);++d<p;)v[d]=n[d+o];return v}s.exports=l},2545:s=>{function l(n,o){for(var u=-1,d=Array(n);++u<n;)d[u]=o(u);return d}s.exports=l},531:(s,l,n)=>{var o=n(2705),u=n(9932),d=n(1469),p=n(3448),v=1/0,g=o?o.prototype:void 0,S=g?g.toString:void 0;function _(E){if(typeof E=="string")return E;if(d(E))return u(E,_)+"";if(p(E))return S?S.call(E):"";var O=E+"";return O=="0"&&1/E==-v?"-0":O}s.exports=_},7561:(s,l,n)=>{var o=n(7990),u=/^\s+/;function d(p){return p&&p.slice(0,o(p)+1).replace(u,"")}s.exports=d},1717:s=>{function l(n){return function(o){return n(o)}}s.exports=l},5652:(s,l,n)=>{var o=n(8668),u=n(7443),d=n(1196),p=n(4757),v=n(3593),g=n(1814),S=200;function _(E,O,P){var M=-1,D=u,j=E.length,G=!0,w=[],B=w;if(P)G=!1,D=d;else if(j>=S){var U=O?null:v(E);if(U)return g(U);G=!1,D=p,B=new o}else B=O?[]:w;t:for(;++M<j;){var k=E[M],K=O?O(k):k;if(k=P||k!==0?k:0,G&&K===K){for(var V=B.length;V--;)if(B[V]===K)continue t;O&&B.push(K),w.push(k)}else D(B,K,P)||(B!==w&&B.push(K),w.push(k))}return w}s.exports=_},7406:(s,l,n)=>{var o=n(1811),u=n(928),d=n(292),p=n(327);function v(g,S){return S=o(S,g),g=d(g,S),g==null||delete g[p(u(S))]}s.exports=v},4757:s=>{function l(n,o){return n.has(o)}s.exports=l},1811:(s,l,n)=>{var o=n(1469),u=n(5403),d=n(5514),p=n(9833);function v(g,S){return o(g)?g:u(g,S)?[g]:d(p(g))}s.exports=v},4318:(s,l,n)=>{var o=n(1149);function u(d){var p=new d.constructor(d.byteLength);return new o(p).set(new o(d)),p}s.exports=u},4626:(s,l,n)=>{s=n.nmd(s);var o=n(5639),u=l&&!l.nodeType&&l,d=u&&!0&&s&&!s.nodeType&&s,p=d&&d.exports===u,v=p?o.Buffer:void 0,g=v?v.allocUnsafe:void 0;function S(_,E){if(E)return _.slice();var O=_.length,P=g?g(O):new _.constructor(O);return _.copy(P),P}s.exports=S},7157:(s,l,n)=>{var o=n(4318);function u(d,p){var v=p?o(d.buffer):d.buffer;return new d.constructor(v,d.byteOffset,d.byteLength)}s.exports=u},3147:s=>{var l=/\w*$/;function n(o){var u=new o.constructor(o.source,l.exec(o));return u.lastIndex=o.lastIndex,u}s.exports=n},419:(s,l,n)=>{var o=n(2705),u=o?o.prototype:void 0,d=u?u.valueOf:void 0;function p(v){return d?Object(d.call(v)):{}}s.exports=p},7133:(s,l,n)=>{var o=n(4318);function u(d,p){var v=p?o(d.buffer):d.buffer;return new d.constructor(v,d.byteOffset,d.length)}s.exports=u},278:s=>{function l(n,o){var u=-1,d=n.length;for(o||(o=Array(d));++u<d;)o[u]=n[u];return o}s.exports=l},8363:(s,l,n)=>{var o=n(4865),u=n(9465);function d(p,v,g,S){var _=!g;g||(g={});for(var E=-1,O=v.length;++E<O;){var P=v[E],M=S?S(g[P],p[P],P,g,p):void 0;M===void 0&&(M=p[P]),_?u(g,P,M):o(g,P,M)}return g}s.exports=d},8805:(s,l,n)=>{var o=n(8363),u=n(9551);function d(p,v){return o(p,u(p),v)}s.exports=d},1911:(s,l,n)=>{var o=n(8363),u=n(1442);function d(p,v){return o(p,u(p),v)}s.exports=d},4429:(s,l,n)=>{var o=n(5639),u=o["__core-js_shared__"];s.exports=u},5063:s=>{function l(n){return function(o,u,d){for(var p=-1,v=Object(o),g=d(o),S=g.length;S--;){var _=g[n?S:++p];if(u(v[_],_,v)===!1)break}return o}}s.exports=l},7740:(s,l,n)=>{var o=n(7206),u=n(8612),d=n(3674);function p(v){return function(g,S,_){var E=Object(g);if(!u(g)){var O=o(S,3);g=d(g),S=function(M){return O(E[M],M,E)}}var P=v(g,S,_);return P>-1?E[O?g[P]:P]:void 0}}s.exports=p},7779:(s,l,n)=>{var o=n(8975);function u(d,p){return function(v,g){return o(v,d,p(g),{})}}s.exports=u},3593:(s,l,n)=>{var o=n(8525),u=n(308),d=n(1814),p=1/0,v=o&&1/d(new o([,-0]))[1]==p?function(g){return new o(g)}:u;s.exports=v},696:(s,l,n)=>{var o=n(8630);function u(d){return o(d)?void 0:d}s.exports=u},8777:(s,l,n)=>{var o=n(852),u=function(){try{var d=o(Object,"defineProperty");return d({},"",{}),d}catch{}}();s.exports=u},7114:(s,l,n)=>{var o=n(8668),u=n(2908),d=n(4757),p=1,v=2;function g(S,_,E,O,P,M){var D=E&p,j=S.length,G=_.length;if(j!=G&&!(D&&G>j))return!1;var w=M.get(S),B=M.get(_);if(w&&B)return w==_&&B==S;var U=-1,k=!0,K=E&v?new o:void 0;for(M.set(S,_),M.set(_,S);++U<j;){var V=S[U],C=_[U];if(O)var W=D?O(C,V,U,_,S,M):O(V,C,U,S,_,M);if(W!==void 0){if(W)continue;k=!1;break}if(K){if(!u(_,function(J,it){if(!d(K,it)&&(V===J||P(V,J,E,O,M)))return K.push(it)})){k=!1;break}}else if(!(V===C||P(V,C,E,O,M))){k=!1;break}}return M.delete(S),M.delete(_),k}s.exports=g},8351:(s,l,n)=>{var o=n(2705),u=n(1149),d=n(7813),p=n(7114),v=n(8776),g=n(1814),S=1,_=2,E="[object Boolean]",O="[object Date]",P="[object Error]",M="[object Map]",D="[object Number]",j="[object RegExp]",G="[object Set]",w="[object String]",B="[object Symbol]",U="[object ArrayBuffer]",k="[object DataView]",K=o?o.prototype:void 0,V=K?K.valueOf:void 0;function C(W,J,it,at,ft,Q,dt){switch(it){case k:if(W.byteLength!=J.byteLength||W.byteOffset!=J.byteOffset)return!1;W=W.buffer,J=J.buffer;case U:return!(W.byteLength!=J.byteLength||!Q(new u(W),new u(J)));case E:case O:case D:return d(+W,+J);case P:return W.name==J.name&&W.message==J.message;case j:case w:return W==J+"";case M:var Tt=v;case G:var Mt=at&S;if(Tt||(Tt=g),W.size!=J.size&&!Mt)return!1;var St=dt.get(W);if(St)return St==J;at|=_,dt.set(W,J);var ee=p(Tt(W),Tt(J),at,ft,Q,dt);return dt.delete(W),ee;case B:if(V)return V.call(W)==V.call(J)}return!1}s.exports=C},6096:(s,l,n)=>{var o=n(8234),u=1,d=Object.prototype,p=d.hasOwnProperty;function v(g,S,_,E,O,P){var M=_&u,D=o(g),j=D.length,G=o(S),w=G.length;if(j!=w&&!M)return!1;for(var B=j;B--;){var U=D[B];if(!(M?U in S:p.call(S,U)))return!1}var k=P.get(g),K=P.get(S);if(k&&K)return k==S&&K==g;var V=!0;P.set(g,S),P.set(S,g);for(var C=M;++B<j;){U=D[B];var W=g[U],J=S[U];if(E)var it=M?E(J,W,U,S,g,P):E(W,J,U,g,S,P);if(!(it===void 0?W===J||O(W,J,_,E,P):it)){V=!1;break}C||(C=U=="constructor")}if(V&&!C){var at=g.constructor,ft=S.constructor;at!=ft&&"constructor"in g&&"constructor"in S&&!(typeof at=="function"&&at instanceof at&&typeof ft=="function"&&ft instanceof ft)&&(V=!1)}return P.delete(g),P.delete(S),V}s.exports=v},9021:(s,l,n)=>{var o=n(5564),u=n(5357),d=n(61);function p(v){return d(u(v,void 0,o),v+"")}s.exports=p},1957:(s,l,n)=>{var o=typeof n.g=="object"&&n.g&&n.g.Object===Object&&n.g;s.exports=o},8234:(s,l,n)=>{var o=n(8866),u=n(9551),d=n(3674);function p(v){return o(v,d,u)}s.exports=p},6904:(s,l,n)=>{var o=n(8866),u=n(1442),d=n(1704);function p(v){return o(v,d,u)}s.exports=p},5050:(s,l,n)=>{var o=n(7019);function u(d,p){var v=d.__data__;return o(p)?v[typeof p=="string"?"string":"hash"]:v.map}s.exports=u},1499:(s,l,n)=>{var o=n(9162),u=n(3674);function d(p){for(var v=u(p),g=v.length;g--;){var S=v[g],_=p[S];v[g]=[S,_,o(_)]}return v}s.exports=d},852:(s,l,n)=>{var o=n(8458),u=n(7801);function d(p,v){var g=u(p,v);return o(g)?g:void 0}s.exports=d},5924:(s,l,n)=>{var o=n(5569),u=o(Object.getPrototypeOf,Object);s.exports=u},9607:(s,l,n)=>{var o=n(2705),u=Object.prototype,d=u.hasOwnProperty,p=u.toString,v=o?o.toStringTag:void 0;function g(S){var _=d.call(S,v),E=S[v];try{S[v]=void 0;var O=!0}catch{}var P=p.call(S);return O&&(_?S[v]=E:delete S[v]),P}s.exports=g},9551:(s,l,n)=>{var o=n(4963),u=n(479),d=Object.prototype,p=d.propertyIsEnumerable,v=Object.getOwnPropertySymbols,g=v?function(S){return S==null?[]:(S=Object(S),o(v(S),function(_){return p.call(S,_)}))}:u;s.exports=g},1442:(s,l,n)=>{var o=n(2488),u=n(5924),d=n(9551),p=n(479),v=Object.getOwnPropertySymbols,g=v?function(S){for(var _=[];S;)o(_,d(S)),S=u(S);return _}:p;s.exports=g},4160:(s,l,n)=>{var o=n(8552),u=n(7071),d=n(3818),p=n(8525),v=n(577),g=n(4239),S=n(346),_="[object Map]",E="[object Object]",O="[object Promise]",P="[object Set]",M="[object WeakMap]",D="[object DataView]",j=S(o),G=S(u),w=S(d),B=S(p),U=S(v),k=g;(o&&k(new o(new ArrayBuffer(1)))!=D||u&&k(new u)!=_||d&&k(d.resolve())!=O||p&&k(new p)!=P||v&&k(new v)!=M)&&(k=function(K){var V=g(K),C=V==E?K.constructor:void 0,W=C?S(C):"";if(W)switch(W){case j:return D;case G:return _;case w:return O;case B:return P;case U:return M}return V}),s.exports=k},7801:s=>{function l(n,o){return n==null?void 0:n[o]}s.exports=l},222:(s,l,n)=>{var o=n(1811),u=n(5694),d=n(1469),p=n(5776),v=n(1780),g=n(327);function S(_,E,O){E=o(E,_);for(var P=-1,M=E.length,D=!1;++P<M;){var j=g(E[P]);if(!(D=_!=null&&O(_,j)))break;_=_[j]}return D||++P!=M?D:(M=_==null?0:_.length,!!M&&v(M)&&p(j,M)&&(d(_)||u(_)))}s.exports=S},1789:(s,l,n)=>{var o=n(4536);function u(){this.__data__=o?o(null):{},this.size=0}s.exports=u},401:s=>{function l(n){var o=this.has(n)&&delete this.__data__[n];return this.size-=o?1:0,o}s.exports=l},7667:(s,l,n)=>{var o=n(4536),u="__lodash_hash_undefined__",d=Object.prototype,p=d.hasOwnProperty;function v(g){var S=this.__data__;if(o){var _=S[g];return _===u?void 0:_}return p.call(S,g)?S[g]:void 0}s.exports=v},1327:(s,l,n)=>{var o=n(4536),u=Object.prototype,d=u.hasOwnProperty;function p(v){var g=this.__data__;return o?g[v]!==void 0:d.call(g,v)}s.exports=p},1866:(s,l,n)=>{var o=n(4536),u="__lodash_hash_undefined__";function d(p,v){var g=this.__data__;return this.size+=this.has(p)?0:1,g[p]=o&&v===void 0?u:v,this}s.exports=d},3824:s=>{var l=Object.prototype,n=l.hasOwnProperty;function o(u){var d=u.length,p=new u.constructor(d);return d&&typeof u[0]=="string"&&n.call(u,"index")&&(p.index=u.index,p.input=u.input),p}s.exports=o},9148:(s,l,n)=>{var o=n(4318),u=n(7157),d=n(3147),p=n(419),v=n(7133),g="[object Boolean]",S="[object Date]",_="[object Map]",E="[object Number]",O="[object RegExp]",P="[object Set]",M="[object String]",D="[object Symbol]",j="[object ArrayBuffer]",G="[object DataView]",w="[object Float32Array]",B="[object Float64Array]",U="[object Int8Array]",k="[object Int16Array]",K="[object Int32Array]",V="[object Uint8Array]",C="[object Uint8ClampedArray]",W="[object Uint16Array]",J="[object Uint32Array]";function it(at,ft,Q){var dt=at.constructor;switch(ft){case j:return o(at);case g:case S:return new dt(+at);case G:return u(at,Q);case w:case B:case U:case k:case K:case V:case C:case W:case J:return v(at,Q);case _:return new dt;case E:case M:return new dt(at);case O:return d(at);case P:return new dt;case D:return p(at)}}s.exports=it},8517:(s,l,n)=>{var o=n(3118),u=n(5924),d=n(5726);function p(v){return typeof v.constructor=="function"&&!d(v)?o(u(v)):{}}s.exports=p},7285:(s,l,n)=>{var o=n(2705),u=n(5694),d=n(1469),p=o?o.isConcatSpreadable:void 0;function v(g){return d(g)||u(g)||!!(p&&g&&g[p])}s.exports=v},5776:s=>{var l=9007199254740991,n=/^(?:0|[1-9]\d*)$/;function o(u,d){var p=typeof u;return d=d??l,!!d&&(p=="number"||p!="symbol"&&n.test(u))&&u>-1&&u%1==0&&u<d}s.exports=o},5403:(s,l,n)=>{var o=n(1469),u=n(3448),d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/;function v(g,S){if(o(g))return!1;var _=typeof g;return _=="number"||_=="symbol"||_=="boolean"||g==null||u(g)?!0:p.test(g)||!d.test(g)||S!=null&&g in Object(S)}s.exports=v},7019:s=>{function l(n){var o=typeof n;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?n!=="__proto__":n===null}s.exports=l},5346:(s,l,n)=>{var o=n(4429),u=function(){var p=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""}();function d(p){return!!u&&u in p}s.exports=d},5726:s=>{var l=Object.prototype;function n(o){var u=o&&o.constructor,d=typeof u=="function"&&u.prototype||l;return o===d}s.exports=n},9162:(s,l,n)=>{var o=n(3218);function u(d){return d===d&&!o(d)}s.exports=u},7040:s=>{function l(){this.__data__=[],this.size=0}s.exports=l},4125:(s,l,n)=>{var o=n(8470),u=Array.prototype,d=u.splice;function p(v){var g=this.__data__,S=o(g,v);if(S<0)return!1;var _=g.length-1;return S==_?g.pop():d.call(g,S,1),--this.size,!0}s.exports=p},2117:(s,l,n)=>{var o=n(8470);function u(d){var p=this.__data__,v=o(p,d);return v<0?void 0:p[v][1]}s.exports=u},7518:(s,l,n)=>{var o=n(8470);function u(d){return o(this.__data__,d)>-1}s.exports=u},4705:(s,l,n)=>{var o=n(8470);function u(d,p){var v=this.__data__,g=o(v,d);return g<0?(++this.size,v.push([d,p])):v[g][1]=p,this}s.exports=u},4785:(s,l,n)=>{var o=n(1989),u=n(8407),d=n(7071);function p(){this.size=0,this.__data__={hash:new o,map:new(d||u),string:new o}}s.exports=p},1285:(s,l,n)=>{var o=n(5050);function u(d){var p=o(this,d).delete(d);return this.size-=p?1:0,p}s.exports=u},6e3:(s,l,n)=>{var o=n(5050);function u(d){return o(this,d).get(d)}s.exports=u},9916:(s,l,n)=>{var o=n(5050);function u(d){return o(this,d).has(d)}s.exports=u},5265:(s,l,n)=>{var o=n(5050);function u(d,p){var v=o(this,d),g=v.size;return v.set(d,p),this.size+=v.size==g?0:1,this}s.exports=u},8776:s=>{function l(n){var o=-1,u=Array(n.size);return n.forEach(function(d,p){u[++o]=[p,d]}),u}s.exports=l},2634:s=>{function l(n,o){return function(u){return u==null?!1:u[n]===o&&(o!==void 0||n in Object(u))}}s.exports=l},4523:(s,l,n)=>{var o=n(8306),u=500;function d(p){var v=o(p,function(S){return g.size===u&&g.clear(),S}),g=v.cache;return v}s.exports=d},4536:(s,l,n)=>{var o=n(852),u=o(Object,"create");s.exports=u},6916:(s,l,n)=>{var o=n(5569),u=o(Object.keys,Object);s.exports=u},3498:s=>{function l(n){var o=[];if(n!=null)for(var u in Object(n))o.push(u);return o}s.exports=l},1167:(s,l,n)=>{s=n.nmd(s);var o=n(1957),u=l&&!l.nodeType&&l,d=u&&!0&&s&&!s.nodeType&&s,p=d&&d.exports===u,v=p&&o.process,g=function(){try{var S=d&&d.require&&d.require("util").types;return S||v&&v.binding&&v.binding("util")}catch{}}();s.exports=g},2333:s=>{var l=Object.prototype,n=l.toString;function o(u){return n.call(u)}s.exports=o},5569:s=>{function l(n,o){return function(u){return n(o(u))}}s.exports=l},5357:(s,l,n)=>{var o=n(6874),u=Math.max;function d(p,v,g){return v=u(v===void 0?p.length-1:v,0),function(){for(var S=arguments,_=-1,E=u(S.length-v,0),O=Array(E);++_<E;)O[_]=S[v+_];_=-1;for(var P=Array(v+1);++_<v;)P[_]=S[_];return P[v]=g(O),o(p,this,P)}}s.exports=d},292:(s,l,n)=>{var o=n(7786),u=n(4259);function d(p,v){return v.length<2?p:o(p,u(v,0,-1))}s.exports=d},5639:(s,l,n)=>{var o=n(1957),u=typeof self=="object"&&self&&self.Object===Object&&self,d=o||u||Function("return this")();s.exports=d},619:s=>{var l="__lodash_hash_undefined__";function n(o){return this.__data__.set(o,l),this}s.exports=n},2385:s=>{function l(n){return this.__data__.has(n)}s.exports=l},1814:s=>{function l(n){var o=-1,u=Array(n.size);return n.forEach(function(d){u[++o]=d}),u}s.exports=l},61:(s,l,n)=>{var o=n(6560),u=n(1275),d=u(o);s.exports=d},1275:s=>{var l=800,n=16,o=Date.now;function u(d){var p=0,v=0;return function(){var g=o(),S=n-(g-v);if(v=g,S>0){if(++p>=l)return arguments[0]}else p=0;return d.apply(void 0,arguments)}}s.exports=u},7465:(s,l,n)=>{var o=n(8407);function u(){this.__data__=new o,this.size=0}s.exports=u},3779:s=>{function l(n){var o=this.__data__,u=o.delete(n);return this.size=o.size,u}s.exports=l},7599:s=>{function l(n){return this.__data__.get(n)}s.exports=l},4758:s=>{function l(n){return this.__data__.has(n)}s.exports=l},4309:(s,l,n)=>{var o=n(8407),u=n(7071),d=n(3369),p=200;function v(g,S){var _=this.__data__;if(_ instanceof o){var E=_.__data__;if(!u||E.length<p-1)return E.push([g,S]),this.size=++_.size,this;_=this.__data__=new d(E)}return _.set(g,S),this.size=_.size,this}s.exports=v},2351:s=>{function l(n,o,u){for(var d=u-1,p=n.length;++d<p;)if(n[d]===o)return d;return-1}s.exports=l},5514:(s,l,n)=>{var o=n(4523),u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,p=o(function(v){var g=[];return v.charCodeAt(0)===46&&g.push(""),v.replace(u,function(S,_,E,O){g.push(E?O.replace(d,"$1"):_||S)}),g});s.exports=p},327:(s,l,n)=>{var o=n(3448),u=1/0;function d(p){if(typeof p=="string"||o(p))return p;var v=p+"";return v=="0"&&1/p==-u?"-0":v}s.exports=d},346:s=>{var l=Function.prototype,n=l.toString;function o(u){if(u!=null){try{return n.call(u)}catch{}try{return u+""}catch{}}return""}s.exports=o},7990:s=>{var l=/\s/;function n(o){for(var u=o.length;u--&&l.test(o.charAt(u)););return u}s.exports=n},6678:(s,l,n)=>{var o=n(5990),u=4;function d(p){return o(p,u)}s.exports=d},361:(s,l,n)=>{var o=n(5990),u=1,d=4;function p(v){return o(v,u|d)}s.exports=p},5703:s=>{function l(n){return function(){return n}}s.exports=l},1966:(s,l,n)=>{var o=n(731),u=n(1078),d=n(5976),p=n(9246),v=d(function(g,S){return p(g)?o(g,u(S,1,p,!0)):[]});s.exports=v},7813:s=>{function l(n,o){return n===o||n!==n&&o!==o}s.exports=l},3311:(s,l,n)=>{var o=n(7740),u=n(998),d=o(u);s.exports=d},998:(s,l,n)=>{var o=n(1848),u=n(7206),d=n(554),p=Math.max;function v(g,S,_){var E=g==null?0:g.length;if(!E)return-1;var O=_==null?0:d(_);return O<0&&(O=p(E+O,0)),o(g,u(S,3),O)}s.exports=v},5564:(s,l,n)=>{var o=n(1078);function u(d){var p=d==null?0:d.length;return p?o(d,1):[]}s.exports=u},7361:(s,l,n)=>{var o=n(7786);function u(d,p,v){var g=d==null?void 0:o(d,p);return g===void 0?v:g}s.exports=u},9095:(s,l,n)=>{var o=n(13),u=n(222);function d(p,v){return p!=null&&u(p,v,o)}s.exports=d},6557:s=>{function l(n){return n}s.exports=l},3137:(s,l,n)=>{var o=n(5703),u=n(7779),d=n(6557),p=Object.prototype,v=p.toString,g=u(function(S,_,E){_!=null&&typeof _.toString!="function"&&(_=v.call(_)),S[_]=E},o(d));s.exports=g},5694:(s,l,n)=>{var o=n(9454),u=n(7005),d=Object.prototype,p=d.hasOwnProperty,v=d.propertyIsEnumerable,g=o(function(){return arguments}())?o:function(S){return u(S)&&p.call(S,"callee")&&!v.call(S,"callee")};s.exports=g},1469:s=>{var l=Array.isArray;s.exports=l},8612:(s,l,n)=>{var o=n(3560),u=n(1780);function d(p){return p!=null&&u(p.length)&&!o(p)}s.exports=d},9246:(s,l,n)=>{var o=n(8612),u=n(7005);function d(p){return u(p)&&o(p)}s.exports=d},4144:(s,l,n)=>{s=n.nmd(s);var o=n(5639),u=n(5062),d=l&&!l.nodeType&&l,p=d&&!0&&s&&!s.nodeType&&s,v=p&&p.exports===d,g=v?o.Buffer:void 0,S=g?g.isBuffer:void 0,_=S||u;s.exports=_},8446:(s,l,n)=>{var o=n(939);function u(d,p){return o(d,p)}s.exports=u},3560:(s,l,n)=>{var o=n(4239),u=n(3218),d="[object AsyncFunction]",p="[object Function]",v="[object GeneratorFunction]",g="[object Proxy]";function S(_){if(!u(_))return!1;var E=o(_);return E==p||E==v||E==d||E==g}s.exports=S},1780:s=>{var l=9007199254740991;function n(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=l}s.exports=n},6688:(s,l,n)=>{var o=n(5588),u=n(1717),d=n(1167),p=d&&d.isMap,v=p?u(p):o;s.exports=v},3218:s=>{function l(n){var o=typeof n;return n!=null&&(o=="object"||o=="function")}s.exports=l},7005:s=>{function l(n){return n!=null&&typeof n=="object"}s.exports=l},8630:(s,l,n)=>{var o=n(4239),u=n(5924),d=n(7005),p="[object Object]",v=Function.prototype,g=Object.prototype,S=v.toString,_=g.hasOwnProperty,E=S.call(Object);function O(P){if(!d(P)||o(P)!=p)return!1;var M=u(P);if(M===null)return!0;var D=_.call(M,"constructor")&&M.constructor;return typeof D=="function"&&D instanceof D&&S.call(D)==E}s.exports=O},2928:(s,l,n)=>{var o=n(9221),u=n(1717),d=n(1167),p=d&&d.isSet,v=p?u(p):o;s.exports=v},7037:(s,l,n)=>{var o=n(4239),u=n(1469),d=n(7005),p="[object String]";function v(g){return typeof g=="string"||!u(g)&&d(g)&&o(g)==p}s.exports=v},3448:(s,l,n)=>{var o=n(4239),u=n(7005),d="[object Symbol]";function p(v){return typeof v=="symbol"||u(v)&&o(v)==d}s.exports=p},6719:(s,l,n)=>{var o=n(8749),u=n(1717),d=n(1167),p=d&&d.isTypedArray,v=p?u(p):o;s.exports=v},3674:(s,l,n)=>{var o=n(4636),u=n(280),d=n(8612);function p(v){return d(v)?o(v):u(v)}s.exports=p},1704:(s,l,n)=>{var o=n(4636),u=n(313),d=n(8612);function p(v){return d(v)?o(v,!0):u(v)}s.exports=p},928:s=>{function l(n){var o=n==null?0:n.length;return o?n[o-1]:void 0}s.exports=l},8306:(s,l,n)=>{var o=n(3369),u="Expected a function";function d(p,v){if(typeof p!="function"||v!=null&&typeof v!="function")throw new TypeError(u);var g=function(){var S=arguments,_=v?v.apply(this,S):S[0],E=g.cache;if(E.has(_))return E.get(_);var O=p.apply(this,S);return g.cache=E.set(_,O)||E,O};return g.cache=new(d.Cache||o),g}d.Cache=o,s.exports=d},308:s=>{function l(){}s.exports=l},7557:(s,l,n)=>{var o=n(9932),u=n(5990),d=n(7406),p=n(1811),v=n(8363),g=n(696),S=n(9021),_=n(6904),E=1,O=2,P=4,M=S(function(D,j){var G={};if(D==null)return G;var w=!1;j=o(j,function(U){return U=p(U,D),w||(w=U.length>1),U}),v(D,_(D),G),w&&(G=u(G,E|O|P,g));for(var B=j.length;B--;)d(G,j[B]);return G});s.exports=M},9601:(s,l,n)=>{var o=n(371),u=n(9152),d=n(5403),p=n(327);function v(g){return d(g)?o(p(g)):u(g)}s.exports=v},479:s=>{function l(){return[]}s.exports=l},5062:s=>{function l(){return!1}s.exports=l},8601:(s,l,n)=>{var o=n(4841),u=1/0,d=17976931348623157e292;function p(v){if(!v)return v===0?v:0;if(v=o(v),v===u||v===-u){var g=v<0?-1:1;return g*d}return v===v?v:0}s.exports=p},554:(s,l,n)=>{var o=n(8601);function u(d){var p=o(d),v=p%1;return p===p?v?p-v:p:0}s.exports=u},4841:(s,l,n)=>{var o=n(7561),u=n(3218),d=n(3448),p=NaN,v=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,S=/^0o[0-7]+$/i,_=parseInt;function E(O){if(typeof O=="number")return O;if(d(O))return p;if(u(O)){var P=typeof O.valueOf=="function"?O.valueOf():O;O=u(P)?P+"":P}if(typeof O!="string")return O===0?O:+O;O=o(O);var M=g.test(O);return M||S.test(O)?_(O.slice(2),M?2:8):v.test(O)?p:+O}s.exports=E},9833:(s,l,n)=>{var o=n(531);function u(d){return d==null?"":o(d)}s.exports=u},4908:(s,l,n)=>{var o=n(5652);function u(d){return d&&d.length?o(d):[]}s.exports=u},2569:(s,l,n)=>{var o=n(731),u=n(5976),d=n(9246),p=u(function(v,g){return d(v)?o(v,g):[]});s.exports=p}},i={};function h(s){var l=i[s];if(l!==void 0)return l.exports;var n=i[s]={id:s,loaded:!1,exports:{}};return r[s](n,n.exports,h),n.loaded=!0,n.exports}h.n=s=>{var l=s&&s.__esModule?()=>s.default:()=>s;return h.d(l,{a:l}),l},h.d=(s,l)=>{for(var n in l)h.o(l,n)&&!h.o(s,n)&&Object.defineProperty(s,n,{enumerable:!0,get:l[n]})},h.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),h.o=(s,l)=>Object.prototype.hasOwnProperty.call(s,l),h.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},h.nmd=s=>(s.paths=[],s.children||(s.children=[]),s);var b={};return(()=>{h.r(b),h.d(b,{chordParserFactory:()=>aa,chordRendererFactory:()=>Gu});function s(a,c){return a.reduce(function(m,T){return m?T(m):null},c)}var l=h(361),n=h.n(l),o=h(7037),u=h.n(o),d=function(c){if(!Array.isArray(c))throw new TypeError("customFilters should be given as an array");if(c.some(function(m){return typeof m!="function"}))throw new TypeError("The given filter is not a function");return!0};const p=d;var v=h(3137),g=h.n(v),S=h(7557),_=h.n(S),E;function O(a){"@babel/helpers - typeof";return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},O(a)}function P(a,c){var m=Object.keys(a);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(a);c&&(T=T.filter(function(N){return Object.getOwnPropertyDescriptor(a,N).enumerable})),m.push.apply(m,T)}return m}function M(a){for(var c=1;c<arguments.length;c++){var m=arguments[c]!=null?arguments[c]:{};c%2?P(Object(m),!0).forEach(function(T){D(a,T,m[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(m)):P(Object(m)).forEach(function(T){Object.defineProperty(a,T,Object.getOwnPropertyDescriptor(m,T))})}return a}function D(a,c,m){return c=j(c),c in a?Object.defineProperty(a,c,{value:m,enumerable:!0,configurable:!0,writable:!0}):a[c]=m,a}function j(a){var c=G(a,"string");return O(c)==="symbol"?c:String(c)}function G(a,c){if(O(a)!=="object"||a===null)return a;var m=a[Symbol.toPrimitive];if(m!==void 0){var T=m.call(a,c||"default");if(O(T)!=="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(a)}var w={AFlat:"Ab",A:"A",ASharp:"A#",BFlat:"Bb",B:"B",C:"C",CSharp:"C#",DFlat:"Db",D:"D",DSharp:"D#",EFlat:"Eb",E:"E",F:"F",FSharp:"F#",GFlat:"Gb",G:"G",GSharp:"G#"},B={Ab:w.AFlat,A:w.A,"A#":w.ASharp,Bb:w.BFlat,B:w.B,"B#":w.C,Cb:w.B,C:w.C,"C#":w.CSharp,Db:w.DFlat,D:w.D,"D#":w.DSharp,Eb:w.EFlat,E:w.E,"E#":w.F,Fb:w.E,F:w.F,"F#":w.FSharp,Gb:w.GFlat,G:w.G,"G#":w.GSharp},U={Lab:w.AFlat,La:w.A,"La#":w.ASharp,Sib:w.BFlat,Si:w.B,"Si#":w.C,Dob:w.B,Do:w.C,"Do#":w.CSharp,Reb:w.DFlat,Réb:w.DFlat,Re:w.D,Ré:w.D,"Re#":w.DSharp,"Ré#":w.DSharp,Mib:w.EFlat,Mi:w.E,"Mi#":w.F,Fab:w.E,Fa:w.F,"Fa#":w.FSharp,Solb:w.GFlat,Sol:w.G,"Sol#":w.GSharp},k=M(M({},_()(B,["Bb","B","B#"])),{},{As:w.AFlat,Ais:w.ASharp,Hb:w.BFlat,Hes:w.BFlat,H:w.B,His:w.C,"H#":w.C,Ces:w.B,Cis:w.CSharp,Des:w.DFlat,Dis:w.DSharp,Es:w.EFlat,Eis:w.F,Fes:w.E,Fis:w.FSharp,Ges:w.GFlat,Gis:w.GSharp});function K(a){var c;return Object.keys(a).reduce(function(m,T){return T.match(/.[b|#]$/)&&(c=T.replace("#","♯").replace("b","♭"),m[c]=a[T]),m},{})}var V=M(M({},B),K(B)),C=M(M({},U),K(U)),W=M(M({},k),K(k)),J=M(M(M({},V),C),W);Object.keys(J).sort(function(a,c){return c.length-a.length});var it=Object.keys(V).sort(function(a,c){return c.length-a.length}),at=Object.keys(C).sort(function(a,c){return c.length-a.length}),ft=Object.keys(W).sort(function(a,c){return c.length-a.length}),Q=[{name:"english",notes:it},{name:"german",notes:ft},{name:"latin",notes:at}],dt=[w.A,w.ASharp,w.B,w.C,w.CSharp,w.D,w.DSharp,w.E,w.F,w.FSharp,w.G,w.GSharp],Tt=[w.A,w.BFlat,w.B,w.C,w.DFlat,w.D,w.EFlat,w.E,w.F,w.GFlat,w.G,w.AFlat],Mt=(E={},D(E,w.CSharp,w.DFlat),D(E,w.DSharp,w.EFlat),D(E,w.FSharp,w.GFlat),D(E,w.GSharp,w.AFlat),D(E,w.ASharp,w.BFlat),E),St=g()(Mt);function ee(a){return ke(a)||$e(a)||Yt(a)||de()}function de(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yt(a,c){if(a){if(typeof a=="string")return he(a,c);var m=Object.prototype.toString.call(a).slice(8,-1);if(m==="Object"&&a.constructor&&(m=a.constructor.name),m==="Map"||m==="Set")return Array.from(a);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return he(a,c)}}function $e(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function ke(a){if(Array.isArray(a))return he(a)}function he(a,c){(c==null||c>a.length)&&(c=a.length);for(var m=0,T=new Array(c);m<c;m++)T[m]=a[m];return T}var L=[].concat(ee(Object.values(w)),ee(Object.values(w).map(function(a){return a+"m"})));function f(a){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},f(a)}function y(a,c,m){return Object.defineProperty(a,"prototype",{writable:!1}),a}function x(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function I(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),c&&bt(a,c)}function F(a){var c=Ot();return function(){var T=Z(a),N;if(c){var H=Z(this).constructor;N=Reflect.construct(T,arguments,H)}else N=T.apply(this,arguments);return tt(this,N)}}function tt(a,c){if(c&&(f(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(a)}function q(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function ot(a){var c=typeof Map=="function"?new Map:void 0;return ot=function(T){if(T===null||!Et(T))return T;if(typeof T!="function")throw new TypeError("Super expression must either be null or a function");if(typeof c<"u"){if(c.has(T))return c.get(T);c.set(T,N)}function N(){return ut(T,arguments,Z(this).constructor)}return N.prototype=Object.create(T.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),bt(N,T)},ot(a)}function ut(a,c,m){return Ot()?ut=Reflect.construct.bind():ut=function(N,H,Y){var st=[null];st.push.apply(st,H);var _t=Function.bind.apply(N,st),Ut=new _t;return Y&&bt(Ut,Y.prototype),Ut},ut.apply(null,arguments)}function Ot(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Et(a){return Function.toString.call(a).indexOf("[native code]")!==-1}function bt(a,c){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T},bt(a,c)}function Z(a){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},Z(a)}var Nt=function(a){I(m,a);var c=F(m);function m(){var T;return x(this,m),T=c.call(this,"The given symbol is not a valid string"),T.name="InvalidInput",T}return y(m)}(ot(Error)),rt=function(a){I(m,a);var c=F(m);function m(){var T;x(this,m);var N="An unexpected error happened. Maybe a custom filter returned null instead of throwing an exception?";return T=c.call(this,N),T.name="UnexpectedError",T}return y(m)}(ot(Error)),It=function(a){I(m,a);var c=F(m);function m(T,N,H){var Y;return x(this,m),Y=c.call(this,T),Y.name=H,Y.chord=N,Y}return y(m)}(ot(Error)),kt=function(a){I(m,a);var c=F(m);function m(T){x(this,m);var N='"'.concat(T.input.symbol,'" does not seems to be a chord');return c.call(this,N,T,"NoSymbolFound")}return y(m)}(It),He=function(a){I(m,a);var c=F(m);function m(T,N){x(this,m);var H='The chord descriptor "'.concat(T.input.descriptor,'" contains unknown or duplicated modifiers: "').concat(N,'"');return c.call(this,H,T,"InvalidModifier")}return y(m)}(It),Se=function(a){I(m,a);var c=F(m);function m(T,N){x(this,m);var H='"'.concat(T.input.symbol,'" describes a chord with an invalid intervals combo: ')+N.join(" and ");return c.call(this,H,T,"InvalidIntervals")}return y(m)}(It),zt=h(1469),wt=h.n(zt),_e=h(8446),xe=h.n(_e);function pe(a,c){var m=wt()(c)?c:[c];return xe()(a,m)}function nt(a,c){return Te(a,c,"oneOf")}function Gt(a,c){return Te(a,c,"all")}function Ht(a,c){return Te(a,c,"none")}function Te(a,c,m){var T=wt()(c)?c:[c],N=m==="oneOf"?"some":"every";return T[N](function(H){return m==="none"?!a.includes(H):a.includes(H)})}var Vr=[["2","3"],["2","9"],["3","b3"],["4","11"],["5","b5"],["5","#5"],["b6","#5"],["b6","6"],["b6","13"],["6","13"],["b7","bb7"],["7","b7"],["9","b9"],["9","#9"],["11","#11"],["13","b13"]];function ir(a){var c=a.normalized.intervals,m=Vr.find(function(T){return Gt(c,T)});if(m)throw new Se(a,m);return a}function Bt(a){var c=a.formatted,m=c.rootNote,T=c.bassNote,N=c.descriptor,H=c.chordChanges,Y=m;return N&&(Y+=N),H&&H.length&&(Y+="("+H.join(",")+")"),T&&(Y+="/"+T),a.formatted.symbol=Y,a}var $={ma:"major",ma6:"major6",ma7:"major7",dom7:"dominant7",mi:"minor",mi6:"minor6",mi7:"minor7",miMa7:"minorMajor7",aug:"augmented",dim:"diminished",dim7:"diminished7",power:"power",bass:"bass"},zn=[$.mi,$.mi6,$.mi7,$.miMa7,$.dim,$.dim7],At;function Be(a){"@babel/helpers - typeof";return Be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Be(a)}function Wr(a){return Ci(a)||Ai(a)||Oi(a)||wi()}function wi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oi(a,c){if(a){if(typeof a=="string")return Yr(a,c);var m=Object.prototype.toString.call(a).slice(8,-1);if(m==="Object"&&a.constructor&&(m=a.constructor.name),m==="Map"||m==="Set")return Array.from(a);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Yr(a,c)}}function Ai(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function Ci(a){if(Array.isArray(a))return Yr(a)}function Yr(a,c){(c==null||c>a.length)&&(c=a.length);for(var m=0,T=new Array(c);m<c;m++)T[m]=a[m];return T}function jt(a,c,m){return c=Ii(c),c in a?Object.defineProperty(a,c,{value:m,enumerable:!0,configurable:!0,writable:!0}):a[c]=m,a}function Ii(a){var c=Pi(a,"string");return Be(c)==="symbol"?c:String(c)}function Pi(a,c){if(Be(a)!=="object"||a===null)return a;var m=a[Symbol.toPrimitive];if(m!==void 0){var T=m.call(a,c||"default");if(Be(T)!=="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(a)}var Mi=(At={},jt(At,$.ma,function(){return""}),jt(At,$.ma6,function(a){return a.normalized.intervals.includes("9")?"69":"6"}),jt(At,$.ma7,function(a){return"ma"+ur(a)}),jt(At,$.dom7,function(a){return a.normalized.intents.alt?"7alt":ur(a)}),jt(At,$.mi,function(){return"mi"}),jt(At,$.mi6,function(a){return a.normalized.intervals.includes("9")?"mi69":"mi6"}),jt(At,$.mi7,function(a){return"mi"+ur(a)}),jt(At,$.miMa7,function(a){return"miMa"+ur(a)}),jt(At,$.aug,function(){return"+"}),jt(At,$.dim,function(){return"dim"}),jt(At,$.dim7,function(){return"dim7"}),jt(At,$.power,function(){return"5"}),jt(At,$.bass,function(){return" bass"}),At),or={add:"add",add7:"Ma7",omit:"omit",sus:"sus"};function Gn(a){return a.formatted={rootNote:a.normalized.rootNote,bassNote:a.normalized.bassNote,descriptor:ji(a),chordChanges:Di(a)},a}function ji(a){var c=Mi[a.normalized.quality](a);return a.normalized.isSuspended&&(c+=or.sus),c}function ur(a){var c=a.normalized.extensions,m=c[c.length-1];return m==="11"&&a.normalized.intents.major&&(m=Ht(a.normalized.alterations,["b9","#9"])?"9":"7"),m||"7"}function Di(a){var c=Ri(a.normalized.omits);if(Li(a))return c;var m=Ni(a.normalized.quality,a.normalized.adds);return[].concat(Wr(a.normalized.alterations),Wr(m),Wr(c))}function Li(a){return a.normalized.intents.alt&&a.normalized.quality===$.dom7}function Ni(a,c){return c.filter(function(m){return!([$.ma6,$.mi6].includes(a)&&m==="9")}).map(function(m,T){var N="";return T===0&&(N+=or.add,["b","#"].includes(m[0])&&(N+=" ")),N+=m==="7"?or.add7:m,N})}function Ri(a){return a.map(function(c,m){var T="";return m===0&&(T+=or.omit),T+=c==="b3"?"3":c,T})}var Ee={flat:"♭",sharp:"♯"},Fi={major:{0:"I",2:"II",3:"".concat(Ee.flat,"III"),4:"III",5:"IV",7:"V",8:"".concat(Ee.flat,"VI"),9:"VI",10:"".concat(Ee.flat,"VII"),11:"VII"},minor:{0:"I",2:"II",3:"III",4:"".concat(Ee.sharp,"III"),5:"IV",7:"V",8:"VI",9:"".concat(Ee.sharp,"VI"),10:"VII",11:"".concat(Ee.sharp,"VII")}},Ct;function ze(a){"@babel/helpers - typeof";return ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},ze(a)}function Dt(a,c,m){return c=$i(c),c in a?Object.defineProperty(a,c,{value:m,enumerable:!0,configurable:!0,writable:!0}):a[c]=m,a}function $i(a){var c=ki(a,"string");return ze(c)==="symbol"?c:String(c)}function ki(a,c){if(ze(a)!=="object"||a===null)return a;var m=a[Symbol.toPrimitive];if(m!==void 0){var T=m.call(a,c||"default");if(ze(T)!=="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(a)}var et={sup2:"²",sup4:"⁴",sup5:"⁵",sup6:"⁶",sup7:"⁷",sub3:"₃",sub4:"₄",sub5:"₅",flat:"♭",sharp:"♯"},cr={major:["I","ii","iii","IV","V","vi","vii°"],dom7:["IΔ","ii".concat(et.sup7),"iii".concat(et.sup7),"IVΔ","V".concat(et.sup7),"vi".concat(et.sup7),"viiø"],minor:["i","ii°","III","iv","v","VI","VII"],minor7:["i".concat(et.sup7),"iiø","IIIΔ","iv".concat(et.sup7),"v".concat(et.sup7),"VIΔ","VIIΔ"]},lr={borrowedFromMinor:["i","ii°","".concat(et.flat,"III"),"iv","v","".concat(et.flat,"VI"),"".concat(et.flat,"VII")],borrowedFromMinor7:["i".concat(et.sup7),"iiø","".concat(et.flat,"IIIΔ"),"iv".concat(et.sup7),"v".concat(et.sup7),"".concat(et.flat,"VIΔ"),"".concat(et.flat,"VIIΔ")],borrowedFromMajor:["I","ii","".concat(et.sharp,"iii"),"IV","V","".concat(et.sharp,"vi"),"".concat(et.sharp,"vii°")],borrowedFromDom7:["IΔ","ii".concat(et.sup7),"".concat(et.sharp,"iii").concat(et.sup7),"IVΔ","V".concat(et.sup7),"".concat(et.sharp,"vi").concat(et.sup7),"".concat(et.sharp,"viiø")]};function Hi(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",c=arguments.length>1?arguments[1]:void 0,m,T,N;a||(a=c.normalized.rootNote);var H=a.indexOf("m")>-1?"minor":"major",Y=zn.includes(c.normalized.quality)?"minor":"major";m=Bi(a,H,c,Y);var st=Vi(c),_t=Gi[c.normalized.quality](c,st);return T="".concat(m).concat(_t),Ui(H,T)?N="diatonic":Ki(H,T)?N="borrowed":(N="unknown",m="?",T="".concat(m).concat(_t)),T+=st,c.numeral={symbol:T,degree:m,descriptor:_t,inversion:st,type:N,thirdQuality:Y},c}function Bi(a,c,m,T){var N=a.replace("m",""),H=zi(N,m.normalized.rootNote),Y=Fi[c][H]||"?";return T==="minor"?Y.toLowerCase():Y}function zi(a,c){var m=dt.indexOf(St[a]||a),T=dt.indexOf(St[c]||c);return(T-m+12)%12}var Gi=(Ct={},Dt(Ct,$.ma,function(){return""}),Dt(Ct,$.ma6,function(){return""}),Dt(Ct,$.ma7,function(){return"Δ"}),Dt(Ct,$.dom7,function(a,c){return c===""?"".concat(et.sup7):""}),Dt(Ct,$.mi,function(){return""}),Dt(Ct,$.mi6,function(){return""}),Dt(Ct,$.mi7,function(a,c){return a.normalized.intervals.includes("b5")?"ø":c===""?"".concat(et.sup7):""}),Dt(Ct,$.miMa7,function(){return"mΔ"}),Dt(Ct,$.aug,function(){return"+"}),Dt(Ct,$.dim,function(){return"°"}),Dt(Ct,$.dim7,function(a,c){return c===""?"°".concat(et.sup7):"°"}),Dt(Ct,$.power,function(){return""}),Dt(Ct,$.bass,function(){return""}),Ct);function Ui(a,c){return a==="major"?cr.major.includes(c)||cr.dom7.includes(c):cr.minor.includes(c)||cr.minor7.includes(c)}function Ki(a,c){return a==="major"?lr.borrowedFromMinor.includes(c)||lr.borrowedFromMinor7.includes(c):lr.borrowedFromMajor.includes(c)||lr.borrowedFromDom7.includes(c)}function Vi(a){var c="";return a.normalized.bassNote&&(Wi(a)?c=Un(a)?"".concat(et.sup6).concat(et.sub5):"".concat(et.sup6):Yi(a)?c=Un(a)?"".concat(et.sup4).concat(et.sub3):"".concat(et.sup6).concat(et.sub4):Xi(a)&&(c="²")),c}function Un(a){return[$.ma7,$.mi7,$.miMa7,$.dom7,$.dim7].includes(a.normalized.quality)}function Wi(a){return re(a,"b3")||re(a,"3")}function Yi(a){return re(a,"b5")||re(a,"5")||re(a,"#5")}function Xi(a){return re(a,"bb7")||re(a,"b7")||re(a,"7")}function re(a,c){var m=a.normalized.intervals.indexOf(c);if(m===-1)return!1;var T=St[a.normalized.bassNote]||a.normalized.bassNote,N=St[a.normalized.notes[m]]||a.normalized.notes[m];return T===N}function Qi(a){var c=[Zi,Ji,qi,to];return a.input.descriptor&&(a.input.parsableDescriptor=s(c,a.input.descriptor)),a}function Zi(a){return a.replace(/[A-LN-Za-z]+/g,function(c){return c.toLowerCase()}).replace("oMit","omit").replace("diM","dim").replace("augMented","augmented")}function Ji(a){return a.replace(/ /g,"")}function qi(a){return a.replace(/(7?dim)(alt|add)/g,"$1 $2").replace(/([m|M])(alt|add)/g,"$1 $2").replace(/i(no[35])/g,"i $1").replace(/([b♭#♯]9)6/g,"$1 6").replace(/(9\/?6)/g," $1").replaceAll("+5","#5").replaceAll("-5","b5")}function to(a){var c,m,T;return a.replace(/\((.*?)\)/g,function(N,H){return c=[],m="",H.split(",").forEach(function(Y){T=!0,Y.startsWith("add")?m="add":Y.startsWith("omit")?m="omit":Y.startsWith("no")?m="no":T=!1,T?c.push(Y):c.push(m+Y)})," "+c.join(" ")+" "})}function eo(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;return{input:{symbol:c},normalized:{},formatted:{},parserConfiguration:n()(a)}}var ro={C:"flat",D:"sharp",E:"sharp",F:"flat",G:"sharp",A:"sharp",B:"sharp",Cm:"flat",Dm:"flat",Em:"sharp",Fm:"flat",Gm:"flat",Am:"flat",Bm:"sharp"};function no(a){return a.indexOf("#")>-1?"sharp":a.indexOf("b")>-1?"flat":ro[a]}function fr(a){return oo(a)||io(a)||so(a)||ao()}function ao(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function so(a,c){if(a){if(typeof a=="string")return Xr(a,c);var m=Object.prototype.toString.call(a).slice(8,-1);if(m==="Object"&&a.constructor&&(m=a.constructor.name),m==="Map"||m==="Set")return Array.from(a);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Xr(a,c)}}function io(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function oo(a){if(Array.isArray(a))return Xr(a)}function Xr(a,c){(c==null||c>a.length)&&(c=a.length);for(var m=0,T=new Array(c);m<c;m++)T[m]=a[m];return T}function Qr(a){var c=a.normalized.rootNote,m=a.normalized.semitones,T=a.normalized.quality,N=c;zn.includes(T)&&(N+="m");var H=no(N)==="sharp"?dt:Tt,Y=H.indexOf(c),st=[].concat(fr(H.slice(Y)),fr(H.slice(0,Y)),fr(H.slice(Y)),fr(H.slice(0,Y)));return a.normalized.notes=m.map(function(_t){return st[_t]}),a}function uo(a){return a.normalized.rootNote=J[a.input.rootNote],a.input.bassNote&&(a.normalized.bassNote=J[a.input.bassNote]),a}var co=h(6678),Zr=h.n(co),lo=h(3311),fo=h.n(lo),ho=h(4908),Kn=h.n(ho),po=h(2569),Vn=h.n(po);function Ge(a){"@babel/helpers - typeof";return Ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Ge(a)}function Wn(a,c){var m=Object.keys(a);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(a);c&&(T=T.filter(function(N){return Object.getOwnPropertyDescriptor(a,N).enumerable})),m.push.apply(m,T)}return m}function we(a){for(var c=1;c<arguments.length;c++){var m=arguments[c]!=null?arguments[c]:{};c%2?Wn(Object(m),!0).forEach(function(T){Rt(a,T,m[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(m)):Wn(Object(m)).forEach(function(T){Object.defineProperty(a,T,Object.getOwnPropertyDescriptor(m,T))})}return a}function Rt(a,c,m){return c=mo(c),c in a?Object.defineProperty(a,c,{value:m,enumerable:!0,configurable:!0,writable:!0}):a[c]=m,a}function mo(a){var c=vo(a,"string");return Ge(c)==="symbol"?c:String(c)}function vo(a,c){if(Ge(a)!=="object"||a===null)return a;var m=a[Symbol.toPrimitive];if(m!==void 0){var T=m.call(a,c||"default");if(Ge(T)!=="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(a)}function Yn(a){return So(a)||bo(a)||yo(a)||go()}function go(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yo(a,c){if(a){if(typeof a=="string")return Jr(a,c);var m=Object.prototype.toString.call(a).slice(8,-1);if(m==="Object"&&a.constructor&&(m=a.constructor.name),m==="Map"||m==="Set")return Array.from(a);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Jr(a,c)}}function bo(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function So(a){if(Array.isArray(a))return Jr(a)}function Jr(a,c){(c==null||c>a.length)&&(c=a.length);for(var m=0,T=new Array(c);m<c;m++)T[m]=a[m];return T}function Xn(a){var c=Zr()(a.normalized.intervals),m={quality:"",isSuspended:!1,extensions:[],alterations:[],adds:[],omits:[]};if(_o(c))m.quality=$.power;else if(xo(c))m.quality=$.bass;else{var T=Eo(c,a.normalized.intents.major),N=To(c,a.normalized.intents.major),H=wo(c,a,N,T),Y=H.qualityIntervals,st=H.quality,_t=Po(c,st),Ut=["1"].concat(Yn(Y),Yn(_t)),ae=Ro(c,Ut,st),Ae=ae.adds,me=ae.alterations;m=we(we({},m),{},{quality:st,isSuspended:N,extensions:_t,alterations:me,adds:Ae,omits:T})}return we(we({},a),{},{normalized:we(we({},a.normalized),m)})}function _o(a){return pe(a,["1","5"])}function xo(a){return pe(a,["1"])}function To(a,c){return a.includes("4")||a.includes("11")&&c&&!a.includes("3")}function Eo(a,c){var m=[];return(Ht(a,["b3","3","4","11"])||!c&&Ht(a,["b3","4"]))&&m.push(c?"3":"b3"),Ht(a,["b5","5","#5","b13"])&&m.push("5"),m}function wo(a,c,m,T){var N=Oo(a,c,m,T),H=[{qualityIntervals:["b3"],quality:$.mi},{qualityIntervals:["b3","6"],quality:$.mi6},{qualityIntervals:["b3","7"],quality:$.miMa7},{qualityIntervals:["b3","b7"],quality:$.mi7},{qualityIntervals:["3"],quality:$.ma},{qualityIntervals:["3","6"],quality:$.ma6},{qualityIntervals:["3","7"],quality:$.ma7},{qualityIntervals:["3","b7"],quality:$.dom7},{qualityIntervals:["3","#5"],quality:$.aug},{qualityIntervals:["b3","b5"],quality:$.dim},{qualityIntervals:["b3","b5","bb7"],quality:$.dim7}].sort(function(Y,st){return st.qualityIntervals.length-Y.qualityIntervals.length});return fo()(H,function(Y){return Gt(N,Y.qualityIntervals)})}function Oo(a,c,m,T){var N=[Ao.bind(null,T),Co.bind(null,m,c.normalized.intents.major),Io.bind(null,c.normalized.intents.alt),Kn()];return s(N,Zr()(a))}function Ao(a,c){var m=Zr()(c);return a.includes("3")?m.push("3"):a.includes("b3")&&m.push("b3"),m}function Co(a,c,m){if(a){var T=Vn()(m,"4");return T.push(c?"3":"b3"),T}return m}function Io(a,c){if(a){var m=Vn()(c,"b5","#5");return m.push("5"),m}return c}function Po(a,c){var m=[];return Mo(c)&&(jo(a,c)?m.push("9","11","13"):Do(a,c)?m.push("9","13"):Lo(a)?m.push("9","11"):No(a)&&m.push("9")),m}function Mo(a){return[$.ma7,$.dom7,$.mi7,$.miMa7].includes(a)}function Qn(a){return[$.mi7,$.miMa7].includes(a)}function jo(a,c){return Qn(c)&&nt(a,"13")&&nt(a,["11","#11"])&&nt(a,["b9","9","#9"])}function Do(a,c){return!Qn(c)&&nt(a,"13")&&nt(a,["b9","9","#9"])}function Lo(a){return nt(a,"11")&&nt(a,["b9","9","#9"])}function No(a){return a.includes("9")}function Ro(a,c,m){var T=[],N=[];return a.filter(function(H){return H!=="5"&&H!=="4"}).forEach(function(H){c.includes(H)||(Fo(m,H)?N.push(H):T.push(H))}),$o(a)&&T.push("3"),{adds:Zn(T),alterations:Zn(N)}}function Fo(a,c){var m,T=(m={},Rt(m,$.ma,["b5","#5","#11","b13"]),Rt(m,$.ma6,["b5","#5","#11","b13"]),Rt(m,$.ma7,["b5","#5","#11","b13"]),Rt(m,$.dom7,["b5","#5","b9","#9","#11","b13"]),Rt(m,$.mi,["b5","#5","#11","b13"]),Rt(m,$.mi6,["b5","#5","#11","b13"]),Rt(m,$.mi7,["b5","#5","#11","b13"]),Rt(m,$.miMa7,["b5","#5","#11","b13"]),Rt(m,$.aug,[]),Rt(m,$.dim,[]),Rt(m,$.dim7,[]),m);return T[a].includes(c)}function $o(a){return Gt(a,["3","4"])}function Zn(a){return a.sort(function(c,m){var T=Number.parseInt(c.replace(/[b#]/,"")),N=Number.parseInt(m.replace(/[b#]/,""));return T-N})}function ko(a,c){var m=c.input.symbol,T=a.join("|"),N=new RegExp("^("+T+")(.*?)(/("+T+"))?$"),H=m.match(N);if(H&&H[1])return c.input.rootNote=H[1],H[2]&&(c.input.descriptor=H[2]),H[4]&&(c.input.bassNote=H[4]),c;throw new kt(c)}function Ue(a){"@babel/helpers - typeof";return Ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Ue(a)}function Jn(a,c){var m=Object.keys(a);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(a);c&&(T=T.filter(function(N){return Object.getOwnPropertyDescriptor(a,N).enumerable})),m.push.apply(m,T)}return m}function dr(a){for(var c=1;c<arguments.length;c++){var m=arguments[c]!=null?arguments[c]:{};c%2?Jn(Object(m),!0).forEach(function(T){Ho(a,T,m[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(m)):Jn(Object(m)).forEach(function(T){Object.defineProperty(a,T,Object.getOwnPropertyDescriptor(m,T))})}return a}function Ho(a,c,m){return c=Bo(c),c in a?Object.defineProperty(a,c,{value:m,enumerable:!0,configurable:!0,writable:!0}):a[c]=m,a}function Bo(a){var c=zo(a,"string");return Ue(c)==="symbol"?c:String(c)}function zo(a,c){if(Ue(a)!=="object"||a===null)return a;var m=a[Symbol.toPrimitive];if(m!==void 0){var T=m.call(a,c||"default");if(Ue(T)!=="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(a)}var R={ma:"ma",mi:"mi",dim:"dim",halfDim:"halfDim",aug:"aug",seventh:"seventh",sus:"sus",sus2:"sus2",ninth:"ninth",eleventh:"eleventh",thirteenth:"thirteenth",fifthFlat:"b5",fifthSharp:"#5",ninthFlat:"b9",ninthSharp:"#9",eleventhSharp:"#11",thirteenthFlat:"b13",add3:"add3",add4:"add4",addb6:"addb6",add6:"add6",add69:"add69",add7:"add7",add9:"add9",add11:"add11",add13:"add13",bass:"bass",omit3:"omit3",omit5:"omit5",power:"power",alt:"alt"},qr={"^":[R.ma,R.add7],Δ:[R.ma,R.add7],M:R.ma,Ma:R.ma,Maj:R.ma,Major:R.ma,ma:R.ma,maj:R.ma,major:R.ma},Go=ta(qr,R.add7,function(a){return a+"7"}),Uo=ta(qr,R.add7,function(a){return"add"+a+"7"}),qn=dr(dr(dr(dr({},qr),Go),{},{"-":R.mi,m:R.mi,Mi:R.mi,Min:R.mi,Minor:R.mi,mi:R.mi,min:R.mi,minor:R.mi,"°":R.dim,o:R.dim,0:R.dim,dim:R.dim,"dim.":R.dim,diminished:R.dim,Ø:R.halfDim,ø:R.halfDim,h:R.halfDim,"+":R.aug,aug:R.aug,augmented:R.aug,7:R.seventh,4:R.sus,sus:R.sus,sus4:R.sus,suspended:R.sus,suspended4:R.sus,sus2:R.sus2,suspended2:R.sus2,9:R.ninth,11:R.eleventh,13:R.thirteenth,b3:R.mi,b5:R.fifthFlat,"♭5":R.fifthFlat,"#5":R.fifthSharp,"♯5":R.fifthSharp,b9:R.ninthFlat,"♭9":R.ninthFlat,addb9:R.ninthFlat,"add♭9":R.ninthFlat,"#9":R.ninthSharp,"♯9":R.ninthSharp,"add#9":R.ninthSharp,"add♯9":R.ninthSharp,"#11":R.eleventhSharp,"♯11":R.eleventhSharp,"add#11":R.eleventhSharp,b13:R.thirteenthFlat,"♭13":R.thirteenthFlat,addb13:R.thirteenthFlat,"add♭13":R.thirteenthFlat},Uo),{},{2:R.add9,add2:R.add9,add3:R.add3,add4:R.add4,addb6:R.addb6,b6:R.addb6,6:R.add6,add6:R.add6,"6/9":R.add69,69:R.add69,96:R.add69,"9/6":R.add69,add9:R.add9,add11:R.add11,add13:R.add13,bass:R.bass,omit3:R.omit3,no3:R.omit3,omit5:R.omit5,no5:R.omit5,5:R.power,alt:R.alt,"alt.":R.alt,altered:R.alt});function ta(a,c,m){return Object.keys(a).map(m).reduce(function(T,N){return T[N]=c,T},{})}var Ko=Object.keys(qn).sort(function(a,c){return c.length-a.length});const z=R,hr={1:0,2:2,b3:3,3:4,4:5,b5:6,5:7,"#5":8,b6:8,6:9,bb7:9,b7:10,7:11,b9:13,9:14,"#9":15,11:17,"#11":18,b13:20,13:21};function ne(a){return Xo(a)||Yo(a)||Wo(a)||Vo()}function Vo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wo(a,c){if(a){if(typeof a=="string")return tn(a,c);var m=Object.prototype.toString.call(a).slice(8,-1);if(m==="Object"&&a.constructor&&(m=a.constructor.name),m==="Map"||m==="Set")return Array.from(a);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return tn(a,c)}}function Yo(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function Xo(a){if(Array.isArray(a))return tn(a)}function tn(a,c){(c==null||c>a.length)&&(c=a.length);for(var m=0,T=new Array(c);m<c;m++)T[m]=a[m];return T}function Qo(a,c){var m=[];return c.input.parsableDescriptor&&(m=Zo(c)),c.input.modifiers=m,c.normalized.intervals=Jo(m,a),c.normalized.semitones=uu(c.normalized.intervals),c.normalized.intents=cu(m),c}function Zo(a){var c=a.input.parsableDescriptor,m=[],T=new RegExp(Ko.map(ou).join("|"),"g"),N=c.match(T),H=c,Y;if(N&&N.forEach(function(st){Y=qn[st],Array.isArray(Y)||(Y=[Y]),Y.forEach(function(_t){m.includes(_t)||(m.push(_t),H=H.replace(st,""))})}),m.length===0)throw new kt(a);if(H.trim().length>0)throw new He(a,H);return m}function Jo(a,c){return a.includes(z.power)?["1","5"]:a.includes(z.bass)?["1"]:Kn()(["1"].concat(ne(qo(a)),ne(tu(a)),ne(eu(a,c)),ne(ru(a)),ne(nu(a)),ne(au(a,c)),ne(su(a,c)),ne(iu(a,c)))).sort(function(m,T){return hr[m]-hr[T]})}function qo(a){var c=[];return a.includes(z.omit3)?[]:(nt(a,[z.sus,z.sus2])||(en(a)?a.includes(z.eleventh)||c.push("3"):c.push("b3")),a.includes(z.add3)&&c.push("3"),c)}function tu(a){var c=[];return nt(a,[z.sus,z.add4])&&c.push("4"),c}function eu(a,c){var m=[];return a.includes(z.omit5)?[]:((nt(a,[z.dim,z.halfDim,z.fifthFlat])||Oe(a,c,"b5"))&&m.push("b5"),(nt(a,[z.aug,z.fifthSharp])||Oe(a,c,"#5"))&&m.push("#5"),!m.length&&!a.includes(z.thirteenthFlat)&&m.push("5"),m)}function ru(a){var c=[];return nt(a,[z.addb6])&&c.push("b6"),nt(a,[z.add6,z.add69])&&!ra(a)&&!nt(a,[z.halfDim])&&c.push("6"),c}function nu(a){var c=[];return nt(a,[z.alt])&&c.push("b7"),nt(a,[z.seventh,z.halfDim])?a.includes(z.dim)?c.push("bb7"):a.includes(z.halfDim)?c.push("b7"):c.push(ea(a)):nt(a,[z.ninth,z.eleventh,z.thirteenth])&&c.push(ea(a)),a.includes(z.add7)&&c.push("7"),c}function ea(a){return a.includes(z.ma)?"7":"b7"}function au(a,c){var m=[];return nt(a,[z.add69,z.ninth,z.eleventh,z.thirteenth])&&Ht(a,[z.ninthFlat,z.ninthSharp])&&m.push("9"),nt(a,[z.sus2,z.add9])&&m.push("9"),(nt(a,[z.ninthFlat])||Oe(a,c,"b9"))&&m.push("b9"),(nt(a,[z.ninthSharp])||Oe(a,c,"#9"))&&m.push("#9"),m}function su(a,c){var m=[];return(nt(a,[z.thirteenth])&&!en(a)||nt(a,[z.eleventh,z.add11]))&&m.push("11"),(nt(a,[z.eleventhSharp])||Oe(a,c,"#11"))&&m.push("#11"),m}function iu(a,c){var m=[];return(nt(a,[z.add13,z.thirteenth])||nt(a,[z.add6,z.add69])&&ra(a)||nt(a,[z.add6,z.add69])&&nt(a,[z.halfDim]))&&m.push("13"),(nt(a,[z.thirteenthFlat])||Oe(a,c,"b13"))&&m.push("b13"),m}function Oe(a,c,m){return a.includes(z.alt)&&c.includes(m)}function en(a){return Ht(a,[z.mi,z.dim,z.dim7,z.halfDim])}function ra(a){return nt(a,[z.seventh,z.ninth,z.eleventh,z.thirteenth])}function ou(a){return a.replace(/[.\-*+?^${}()|[\]\\]/g,"\\$&")}function uu(a){return a.map(function(c){return hr[c]}).sort(function(c,m){return c-m})}function cu(a){return{major:en(a),eleventh:a.includes(z.eleventh),alt:a.includes(z.alt)}}function lu(a){return pu(a)||hu(a)||du(a)||fu()}function fu(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function du(a,c){if(a){if(typeof a=="string")return rn(a,c);var m=Object.prototype.toString.call(a).slice(8,-1);if(m==="Object"&&a.constructor&&(m=a.constructor.name),m==="Map"||m==="Set")return Array.from(a);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return rn(a,c)}}function hu(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function pu(a){if(Array.isArray(a))return rn(a)}function rn(a,c){(c==null||c>a.length)&&(c=a.length);for(var m=0,T=new Array(c);m<c;m++)T[m]=a[m];return T}function mu(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=["b5","#5","b9","#9","#11","b13"],m=["english","german","latin"],T=a.notationSystems,N=T===void 0?n()(m):T,H=a.altIntervals,Y=H===void 0?n()(c):H,st=a.customFilters,_t=st===void 0?[]:st,Ut=a.key,ae=Ut===void 0?"":Ut;return vu(Y,c),gu(N,m),p(_t),yu(ae),Ae;function Ae(me){var se=[];if(!bu(me)){var un=new Nt;se.push(nn(un))}var Qt=n()(Q).filter(function(cn){return N.includes(cn.name)}),ie,Ve,oe;if(!se.length)for(;Qt.length&&!ie;){oe=Qt.shift(),Ve=[eo.bind(null,a),ko.bind(null,oe.notes),Qi,Qo.bind(null,Y),ir,uo,Xn,Gn,Bt,Qr,Hi.bind(null,ae)].concat(lu(_t));try{ie=s(Ve,me),ie?ie.input.notationSystem=oe.name:se.push(Su(oe.name))}catch(cn){se.push(nn(cn,oe.name))}}return ie||{error:se}}}function vu(a,c){na("altIntervals",a,c,!0)}function gu(a,c){na("notationSystems",a,c)}function na(a,c,m,T){if(!Array.isArray(c))throw new TypeError("'".concat(a,"' should be an array"));if(!T&&c.length===0)throw new TypeError("'".concat(a,"' cannot be empty"));c.forEach(function(N){if(!m.includes(N))throw new TypeError("'".concat(N,"' is not a valid value for ").concat(a))})}function yu(a){if(a!==""&&(!u()(a)||!L.includes(a)))throw new TypeError("'".concat(a,"' is not a valid value for key"))}function bu(a){return typeof a=="string"&&a.length>0}function Su(a){var c=new rt;return nn(c,a)}function nn(a,c){return{type:a.name,chord:a.chord,message:a.message,notationSystem:c}}const aa=mu;function Ke(a){"@babel/helpers - typeof";return Ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Ke(a)}function sa(a,c){var m=Object.keys(a);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(a);c&&(T=T.filter(function(N){return Object.getOwnPropertyDescriptor(a,N).enumerable})),m.push.apply(m,T)}return m}function pr(a){for(var c=1;c<arguments.length;c++){var m=arguments[c]!=null?arguments[c]:{};c%2?sa(Object(m),!0).forEach(function(T){_u(a,T,m[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(m)):sa(Object(m)).forEach(function(T){Object.defineProperty(a,T,Object.getOwnPropertyDescriptor(m,T))})}return a}function _u(a,c,m){return c=xu(c),c in a?Object.defineProperty(a,c,{value:m,enumerable:!0,configurable:!0,writable:!0}):a[c]=m,a}function xu(a){var c=Tu(a,"string");return Ke(c)==="symbol"?c:String(c)}function Tu(a,c){if(Ke(a)!=="object"||a===null)return a;var m=a[Symbol.toPrimitive];if(m!==void 0){var T=m.call(a,c||"default");if(Ke(T)!=="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(a)}var Xt={sus2:"sus2",add2:"2",omit:"no",ma:"M",mi:"m",dim:"°",aug7:"7+",eleventh:"11"};function Eu(a){var c,m=a.formatted.chordChanges;return wu(a)?(c=Xt.sus2,m=[]):Ou(a)?(c=Xt.add2,m=[]):Au(a)?(c=Xt.aug7,m=[]):(c=a.formatted.descriptor.replace("mi",Xt.mi).replace(/[m|M]a/,Xt.ma).replace("dim",Xt.dim),Cu(a)&&(c=c.replace(/7sus|9sus/,Xt.eleventh))),m=m.map(function(T){return T.replace(/[m|M]a/,Xt.ma).replace("omit",Xt.omit)}),pr(pr({},a),{},{formatted:pr(pr({},a.formatted),{},{descriptor:c,chordChanges:m})})}function wu(a){return pe(a.normalized.intervals,["1","5","9"])}function Ou(a){return pe(a.normalized.intervals,["1","3","5","9"])}function Au(a){return pe(a.normalized.intervals,["1","3","#5","b7"])}function Cu(a){return a.normalized.intents.eleventh}var Iu=h(1966),Pu=h.n(Iu);function Mu(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"none",c=arguments.length>1?arguments[1]:void 0;if(a==="none")return c;var m={max:["4","b5","#5","6","bb7","b7","7","b9","9","#9","11","#11","b13","13"],core:["4","b9","9","#9","11","#11","b13","13"]},T=Pu()(c.normalized.intervals,m[a]);Ht(T,["b3","3"])&&T.push(c.normalized.intents.major?"3":"b3"),Ht(T,["b5","5","#5"])&&T.push("5"),c.normalized.intervals=T,c.normalized.semitones=T.map(function(H){return hr[H]}),c.normalized.intents.eleventh=!1,c.normalized.intents.alt=!1,a==="max"&&delete c.normalized.bassNote;var N=[Xn,Gn,Qr];return s(N,c)}function ju(a,c,m){var T=m.normalized,N=T.rootNote,H=T.bassNote,Y=oa(N);if(m.normalized.rootNote=ia(Y,a,c),m.formatted.rootNote=m.normalized.rootNote,H){var st=oa(H);m.normalized.bassNote=ia(st,a,c),m.formatted.bassNote=m.normalized.bassNote}return Qr(m)}function ia(a,c,m){var T=dt.indexOf(a),N=T+c,H=Math.floor(N/12),Y=N-H*12,st=dt[Y];return m==="flat"&&Mt[st]||st}function oa(a){return St[a]||a}var an={german:{Ab:"As",A:"A","A#":"Ais",Bb:"Hes",B:"H",C:"C","C#":"Cis",Db:"Des",D:"D","D#":"Dis",Eb:"Es",E:"E",F:"F","F#":"Fis",Gb:"Ges",G:"G","G#":"Gis"},latin:{Ab:"Lab",A:"La","A#":"La#",Bb:"Sib",B:"Si",C:"Do","C#":"Do#",Db:"Reb",D:"Re","D#":"Re#",Eb:"Mib",E:"Mi",F:"Fa","F#":"Fa#",Gb:"Solb",G:"Sol","G#":"Sol#"}},Du=Object.keys(an);function Lu(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"english",c=arguments.length>1?arguments[1]:void 0,m=a==="auto"?c.input.notationSystem:a;return m==="english"?c:Du.includes(m)?(c.formatted.rootNote=an[m][c.formatted.rootNote],c.formatted.bassNote&&(c.formatted.bassNote=an[m][c.formatted.bassNote]),c):null}function ua(a){return a&&a.formatted&&a.formatted.symbol?a.formatted.symbol:null}function Nu(a){delete a.parserConfiguration.notationSystems;var c=n()(a),m=ua(a),T=aa(a.parserConfiguration),N=T(m);return c.input=N.input,c}function sn(a){"@babel/helpers - typeof";return sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},sn(a)}function Ru(a){return Hu(a)||ku(a)||$u(a)||Fu()}function Fu(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $u(a,c){if(a){if(typeof a=="string")return on(a,c);var m=Object.prototype.toString.call(a).slice(8,-1);if(m==="Object"&&a.constructor&&(m=a.constructor.name),m==="Map"||m==="Set")return Array.from(a);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return on(a,c)}}function ku(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function Hu(a){if(Array.isArray(a))return on(a)}function on(a,c){(c==null||c>a.length)&&(c=a.length);for(var m=0,T=new Array(c);m<c;m++)T[m]=a[m];return T}function Bu(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=a.accidental,m=c===void 0?"original":c,T=a.customFilters,N=T===void 0?[]:T,H=a.notationSystem,Y=H===void 0?"english":H,st=a.printer,_t=st===void 0?"text":st,Ut=a.simplify,ae=Ut===void 0?"none":Ut,Ae=a.transposeValue,me=Ae===void 0?0:Ae,se=a.useShortNamings,un=se===void 0?!1:se;p(N);var Qt=[];return["max","core"].includes(ae)&&Qt.push(Mu.bind(null,ae)),(m!=="original"||me!==0)&&Qt.push(ju.bind(null,me,m)),un&&Qt.push(Eu),Qt.push.apply(Qt,[Lu.bind(null,Y),Bt].concat(Ru(N))),ie;function ie(Ve){if(!zu(Ve))return null;var oe=s(Qt,n()(Ve));return _t==="raw"?Nu(oe):ua(oe)}}var zu=function(c){return c&&sn(c)==="object"&&!c.error&&c.input};const Gu=Bu})(),b})())})(ks);var wa=ks.exports,Pl=Array.isArray,jr=Pl;const Ml=Ss(jr);function jl(){this.__data__=[],this.size=0}var Dl=jl;function Ll(e,t){return e===t||e!==e&&t!==t}var Hs=Ll,Nl=Hs;function Rl(e,t){for(var r=e.length;r--;)if(Nl(e[r][0],t))return r;return-1}var Dr=Rl,Fl=Dr,$l=Array.prototype,kl=$l.splice;function Hl(e){var t=this.__data__,r=Fl(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():kl.call(t,r,1),--this.size,!0}var Bl=Hl,zl=Dr;function Gl(e){var t=this.__data__,r=zl(t,e);return r<0?void 0:t[r][1]}var Ul=Gl,Kl=Dr;function Vl(e){return Kl(this.__data__,e)>-1}var Wl=Vl,Yl=Dr;function Xl(e,t){var r=this.__data__,i=Yl(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}var Ql=Xl,Zl=Dl,Jl=Bl,ql=Ul,tf=Wl,ef=Ql;function Me(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Me.prototype.clear=Zl;Me.prototype.delete=Jl;Me.prototype.get=ql;Me.prototype.has=tf;Me.prototype.set=ef;var Lr=Me,rf=Lr;function nf(){this.__data__=new rf,this.size=0}var af=nf;function sf(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var of=sf;function uf(e){return this.__data__.get(e)}var cf=uf;function lf(e){return this.__data__.has(e)}var ff=lf,df=typeof Jt=="object"&&Jt&&Jt.Object===Object&&Jt,Bs=df,hf=Bs,pf=typeof self=="object"&&self&&self.Object===Object&&self,mf=hf||pf||Function("return this")(),qt=mf,vf=qt,gf=vf.Symbol,jn=gf,Oa=jn,zs=Object.prototype,yf=zs.hasOwnProperty,bf=zs.toString,We=Oa?Oa.toStringTag:void 0;function Sf(e){var t=yf.call(e,We),r=e[We];try{e[We]=void 0;var i=!0}catch{}var h=bf.call(e);return i&&(t?e[We]=r:delete e[We]),h}var _f=Sf,xf=Object.prototype,Tf=xf.toString;function Ef(e){return Tf.call(e)}var wf=Ef,Aa=jn,Of=_f,Af=wf,Cf="[object Null]",If="[object Undefined]",Ca=Aa?Aa.toStringTag:void 0;function Pf(e){return e==null?e===void 0?If:Cf:Ca&&Ca in Object(e)?Of(e):Af(e)}var Nr=Pf;function Mf(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Gs=Mf,jf=Nr,Df=Gs,Lf="[object AsyncFunction]",Nf="[object Function]",Rf="[object GeneratorFunction]",Ff="[object Proxy]";function $f(e){if(!Df(e))return!1;var t=jf(e);return t==Nf||t==Rf||t==Lf||t==Ff}var Us=$f,kf=qt,Hf=kf["__core-js_shared__"],Bf=Hf,fn=Bf,Ia=function(){var e=/[^.]+$/.exec(fn&&fn.keys&&fn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function zf(e){return!!Ia&&Ia in e}var Gf=zf,Uf=Function.prototype,Kf=Uf.toString;function Vf(e){if(e!=null){try{return Kf.call(e)}catch{}try{return e+""}catch{}}return""}var Ks=Vf,Wf=Us,Yf=Gf,Xf=Gs,Qf=Ks,Zf=/[\\^$.*+?()[\]{}|]/g,Jf=/^\[object .+?Constructor\]$/,qf=Function.prototype,td=Object.prototype,ed=qf.toString,rd=td.hasOwnProperty,nd=RegExp("^"+ed.call(rd).replace(Zf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ad(e){if(!Xf(e)||Yf(e))return!1;var t=Wf(e)?nd:Jf;return t.test(Qf(e))}var sd=ad;function id(e,t){return e==null?void 0:e[t]}var od=id,ud=sd,cd=od;function ld(e,t){var r=cd(e,t);return ud(r)?r:void 0}var je=ld,fd=je,dd=qt,hd=fd(dd,"Map"),Dn=hd,pd=je,md=pd(Object,"create"),Rr=md,Pa=Rr;function vd(){this.__data__=Pa?Pa(null):{},this.size=0}var gd=vd;function yd(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var bd=yd,Sd=Rr,_d="__lodash_hash_undefined__",xd=Object.prototype,Td=xd.hasOwnProperty;function Ed(e){var t=this.__data__;if(Sd){var r=t[e];return r===_d?void 0:r}return Td.call(t,e)?t[e]:void 0}var wd=Ed,Od=Rr,Ad=Object.prototype,Cd=Ad.hasOwnProperty;function Id(e){var t=this.__data__;return Od?t[e]!==void 0:Cd.call(t,e)}var Pd=Id,Md=Rr,jd="__lodash_hash_undefined__";function Dd(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Md&&t===void 0?jd:t,this}var Ld=Dd,Nd=gd,Rd=bd,Fd=wd,$d=Pd,kd=Ld;function De(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}De.prototype.clear=Nd;De.prototype.delete=Rd;De.prototype.get=Fd;De.prototype.has=$d;De.prototype.set=kd;var Hd=De,Ma=Hd,Bd=Lr,zd=Dn;function Gd(){this.size=0,this.__data__={hash:new Ma,map:new(zd||Bd),string:new Ma}}var Ud=Gd;function Kd(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Vd=Kd,Wd=Vd;function Yd(e,t){var r=e.__data__;return Wd(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Fr=Yd,Xd=Fr;function Qd(e){var t=Xd(this,e).delete(e);return this.size-=t?1:0,t}var Zd=Qd,Jd=Fr;function qd(e){return Jd(this,e).get(e)}var th=qd,eh=Fr;function rh(e){return eh(this,e).has(e)}var nh=rh,ah=Fr;function sh(e,t){var r=ah(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}var ih=sh,oh=Ud,uh=Zd,ch=th,lh=nh,fh=ih;function Le(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Le.prototype.clear=oh;Le.prototype.delete=uh;Le.prototype.get=ch;Le.prototype.has=lh;Le.prototype.set=fh;var Vs=Le,dh=Lr,hh=Dn,ph=Vs,mh=200;function vh(e,t){var r=this.__data__;if(r instanceof dh){var i=r.__data__;if(!hh||i.length<mh-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new ph(i)}return r.set(e,t),this.size=r.size,this}var gh=vh,yh=Lr,bh=af,Sh=of,_h=cf,xh=ff,Th=gh;function Ne(e){var t=this.__data__=new yh(e);this.size=t.size}Ne.prototype.clear=bh;Ne.prototype.delete=Sh;Ne.prototype.get=_h;Ne.prototype.has=xh;Ne.prototype.set=Th;var Eh=Ne,wh="__lodash_hash_undefined__";function Oh(e){return this.__data__.set(e,wh),this}var Ah=Oh;function Ch(e){return this.__data__.has(e)}var Ih=Ch,Ph=Vs,Mh=Ah,jh=Ih;function Or(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Ph;++t<r;)this.add(e[t])}Or.prototype.add=Or.prototype.push=Mh;Or.prototype.has=jh;var Dh=Or;function Lh(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}var Nh=Lh;function Rh(e,t){return e.has(t)}var Fh=Rh,$h=Dh,kh=Nh,Hh=Fh,Bh=1,zh=2;function Gh(e,t,r,i,h,b){var s=r&Bh,l=e.length,n=t.length;if(l!=n&&!(s&&n>l))return!1;var o=b.get(e),u=b.get(t);if(o&&u)return o==t&&u==e;var d=-1,p=!0,v=r&zh?new $h:void 0;for(b.set(e,t),b.set(t,e);++d<l;){var g=e[d],S=t[d];if(i)var _=s?i(S,g,d,t,e,b):i(g,S,d,e,t,b);if(_!==void 0){if(_)continue;p=!1;break}if(v){if(!kh(t,function(E,O){if(!Hh(v,O)&&(g===E||h(g,E,r,i,b)))return v.push(O)})){p=!1;break}}else if(!(g===S||h(g,S,r,i,b))){p=!1;break}}return b.delete(e),b.delete(t),p}var Ws=Gh,Uh=qt,Kh=Uh.Uint8Array,Vh=Kh;function Wh(e){var t=-1,r=Array(e.size);return e.forEach(function(i,h){r[++t]=[h,i]}),r}var Yh=Wh;function Xh(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}var Qh=Xh,ja=jn,Da=Vh,Zh=Hs,Jh=Ws,qh=Yh,tp=Qh,ep=1,rp=2,np="[object Boolean]",ap="[object Date]",sp="[object Error]",ip="[object Map]",op="[object Number]",up="[object RegExp]",cp="[object Set]",lp="[object String]",fp="[object Symbol]",dp="[object ArrayBuffer]",hp="[object DataView]",La=ja?ja.prototype:void 0,dn=La?La.valueOf:void 0;function pp(e,t,r,i,h,b,s){switch(r){case hp:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case dp:return!(e.byteLength!=t.byteLength||!b(new Da(e),new Da(t)));case np:case ap:case op:return Zh(+e,+t);case sp:return e.name==t.name&&e.message==t.message;case up:case lp:return e==t+"";case ip:var l=qh;case cp:var n=i&ep;if(l||(l=tp),e.size!=t.size&&!n)return!1;var o=s.get(e);if(o)return o==t;i|=rp,s.set(e,t);var u=Jh(l(e),l(t),i,h,b,s);return s.delete(e),u;case fp:if(dn)return dn.call(e)==dn.call(t)}return!1}var mp=pp;function vp(e,t){for(var r=-1,i=t.length,h=e.length;++r<i;)e[h+r]=t[r];return e}var gp=vp,yp=gp,bp=jr;function Sp(e,t,r){var i=t(e);return bp(e)?i:yp(i,r(e))}var _p=Sp;function xp(e,t){for(var r=-1,i=e==null?0:e.length,h=0,b=[];++r<i;){var s=e[r];t(s,r,e)&&(b[h++]=s)}return b}var Tp=xp;function Ep(){return[]}var wp=Ep,Op=Tp,Ap=wp,Cp=Object.prototype,Ip=Cp.propertyIsEnumerable,Na=Object.getOwnPropertySymbols,Pp=Na?function(e){return e==null?[]:(e=Object(e),Op(Na(e),function(t){return Ip.call(e,t)}))}:Ap,Mp=Pp;function jp(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}var Dp=jp;function Lp(e){return e!=null&&typeof e=="object"}var $r=Lp,Np=Nr,Rp=$r,Fp="[object Arguments]";function $p(e){return Rp(e)&&Np(e)==Fp}var kp=$p,Ra=kp,Hp=$r,Ys=Object.prototype,Bp=Ys.hasOwnProperty,zp=Ys.propertyIsEnumerable,Gp=Ra(function(){return arguments}())?Ra:function(e){return Hp(e)&&Bp.call(e,"callee")&&!zp.call(e,"callee")},Up=Gp,Ar={exports:{}};function Kp(){return!1}var Vp=Kp;Ar.exports;(function(e,t){var r=qt,i=Vp,h=t&&!t.nodeType&&t,b=h&&!0&&e&&!e.nodeType&&e,s=b&&b.exports===h,l=s?r.Buffer:void 0,n=l?l.isBuffer:void 0,o=n||i;e.exports=o})(Ar,Ar.exports);var Xs=Ar.exports,Wp=9007199254740991,Yp=/^(?:0|[1-9]\d*)$/;function Xp(e,t){var r=typeof e;return t=t??Wp,!!t&&(r=="number"||r!="symbol"&&Yp.test(e))&&e>-1&&e%1==0&&e<t}var Qp=Xp,Zp=9007199254740991;function Jp(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Zp}var Qs=Jp,qp=Nr,tm=Qs,em=$r,rm="[object Arguments]",nm="[object Array]",am="[object Boolean]",sm="[object Date]",im="[object Error]",om="[object Function]",um="[object Map]",cm="[object Number]",lm="[object Object]",fm="[object RegExp]",dm="[object Set]",hm="[object String]",pm="[object WeakMap]",mm="[object ArrayBuffer]",vm="[object DataView]",gm="[object Float32Array]",ym="[object Float64Array]",bm="[object Int8Array]",Sm="[object Int16Array]",_m="[object Int32Array]",xm="[object Uint8Array]",Tm="[object Uint8ClampedArray]",Em="[object Uint16Array]",wm="[object Uint32Array]",ct={};ct[gm]=ct[ym]=ct[bm]=ct[Sm]=ct[_m]=ct[xm]=ct[Tm]=ct[Em]=ct[wm]=!0;ct[rm]=ct[nm]=ct[mm]=ct[am]=ct[vm]=ct[sm]=ct[im]=ct[om]=ct[um]=ct[cm]=ct[lm]=ct[fm]=ct[dm]=ct[hm]=ct[pm]=!1;function Om(e){return em(e)&&tm(e.length)&&!!ct[qp(e)]}var Am=Om;function Cm(e){return function(t){return e(t)}}var Im=Cm,Cr={exports:{}};Cr.exports;(function(e,t){var r=Bs,i=t&&!t.nodeType&&t,h=i&&!0&&e&&!e.nodeType&&e,b=h&&h.exports===i,s=b&&r.process,l=function(){try{var n=h&&h.require&&h.require("util").types;return n||s&&s.binding&&s.binding("util")}catch{}}();e.exports=l})(Cr,Cr.exports);var Pm=Cr.exports,Mm=Am,jm=Im,Fa=Pm,$a=Fa&&Fa.isTypedArray,Dm=$a?jm($a):Mm,Zs=Dm,Lm=Dp,Nm=Up,Rm=jr,Fm=Xs,$m=Qp,km=Zs,Hm=Object.prototype,Bm=Hm.hasOwnProperty;function zm(e,t){var r=Rm(e),i=!r&&Nm(e),h=!r&&!i&&Fm(e),b=!r&&!i&&!h&&km(e),s=r||i||h||b,l=s?Lm(e.length,String):[],n=l.length;for(var o in e)(t||Bm.call(e,o))&&!(s&&(o=="length"||h&&(o=="offset"||o=="parent")||b&&(o=="buffer"||o=="byteLength"||o=="byteOffset")||$m(o,n)))&&l.push(o);return l}var Gm=zm,Um=Object.prototype;function Km(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Um;return e===r}var Vm=Km;function Wm(e,t){return function(r){return e(t(r))}}var Ym=Wm,Xm=Ym,Qm=Xm(Object.keys,Object),Zm=Qm,Jm=Vm,qm=Zm,tv=Object.prototype,ev=tv.hasOwnProperty;function rv(e){if(!Jm(e))return qm(e);var t=[];for(var r in Object(e))ev.call(e,r)&&r!="constructor"&&t.push(r);return t}var nv=rv,av=Us,sv=Qs;function iv(e){return e!=null&&sv(e.length)&&!av(e)}var ov=iv,uv=Gm,cv=nv,lv=ov;function fv(e){return lv(e)?uv(e):cv(e)}var dv=fv,hv=_p,pv=Mp,mv=dv;function vv(e){return hv(e,mv,pv)}var gv=vv,ka=gv,yv=1,bv=Object.prototype,Sv=bv.hasOwnProperty;function _v(e,t,r,i,h,b){var s=r&yv,l=ka(e),n=l.length,o=ka(t),u=o.length;if(n!=u&&!s)return!1;for(var d=n;d--;){var p=l[d];if(!(s?p in t:Sv.call(t,p)))return!1}var v=b.get(e),g=b.get(t);if(v&&g)return v==t&&g==e;var S=!0;b.set(e,t),b.set(t,e);for(var _=s;++d<n;){p=l[d];var E=e[p],O=t[p];if(i)var P=s?i(O,E,p,t,e,b):i(E,O,p,e,t,b);if(!(P===void 0?E===O||h(E,O,r,i,b):P)){S=!1;break}_||(_=p=="constructor")}if(S&&!_){var M=e.constructor,D=t.constructor;M!=D&&"constructor"in e&&"constructor"in t&&!(typeof M=="function"&&M instanceof M&&typeof D=="function"&&D instanceof D)&&(S=!1)}return b.delete(e),b.delete(t),S}var xv=_v,Tv=je,Ev=qt,wv=Tv(Ev,"DataView"),Ov=wv,Av=je,Cv=qt,Iv=Av(Cv,"Promise"),Pv=Iv,Mv=je,jv=qt,Dv=Mv(jv,"Set"),Lv=Dv,Nv=je,Rv=qt,Fv=Nv(Rv,"WeakMap"),$v=Fv,Tn=Ov,En=Dn,wn=Pv,On=Lv,An=$v,Js=Nr,Re=Ks,Ha="[object Map]",kv="[object Object]",Ba="[object Promise]",za="[object Set]",Ga="[object WeakMap]",Ua="[object DataView]",Hv=Re(Tn),Bv=Re(En),zv=Re(wn),Gv=Re(On),Uv=Re(An),ge=Js;(Tn&&ge(new Tn(new ArrayBuffer(1)))!=Ua||En&&ge(new En)!=Ha||wn&&ge(wn.resolve())!=Ba||On&&ge(new On)!=za||An&&ge(new An)!=Ga)&&(ge=function(e){var t=Js(e),r=t==kv?e.constructor:void 0,i=r?Re(r):"";if(i)switch(i){case Hv:return Ua;case Bv:return Ha;case zv:return Ba;case Gv:return za;case Uv:return Ga}return t});var Kv=ge,hn=Eh,Vv=Ws,Wv=mp,Yv=xv,Ka=Kv,Va=jr,Wa=Xs,Xv=Zs,Qv=1,Ya="[object Arguments]",Xa="[object Array]",mr="[object Object]",Zv=Object.prototype,Qa=Zv.hasOwnProperty;function Jv(e,t,r,i,h,b){var s=Va(e),l=Va(t),n=s?Xa:Ka(e),o=l?Xa:Ka(t);n=n==Ya?mr:n,o=o==Ya?mr:o;var u=n==mr,d=o==mr,p=n==o;if(p&&Wa(e)){if(!Wa(t))return!1;s=!0,u=!1}if(p&&!u)return b||(b=new hn),s||Xv(e)?Vv(e,t,r,i,h,b):Wv(e,t,n,r,i,h,b);if(!(r&Qv)){var v=u&&Qa.call(e,"__wrapped__"),g=d&&Qa.call(t,"__wrapped__");if(v||g){var S=v?e.value():e,_=g?t.value():t;return b||(b=new hn),h(S,_,r,i,b)}}return p?(b||(b=new hn),Yv(e,t,r,i,h,b)):!1}var qv=Jv,tg=qv,Za=$r;function qs(e,t,r,i,h){return e===t?!0:e==null||t==null||!Za(e)&&!Za(t)?e!==e&&t!==t:tg(e,t,r,i,qs,h)}var eg=qs,rg=eg;function ng(e,t){return rg(e,t)}var ag=ng;const sg=Ss(ag);function ig(e,t){const r=Ml(t)?t:[t];return sg(e,r)}const og=["replace_last_line","replace_last_lines","append_content","replace_first_line","prepend_content"];function ug(e,t,r,i,h){if(!e)return console.log("No original lines found!"),[""];if(r.length>1&&(r=[r.join(`
`).trim()]),e.length<3)return console.log("Ignoring part variant ",t," on ",e," - originalLines content too short!"),e;if(t==="replace_last_line")return i?[...e.slice(0,-2),...r,...e.slice(-1)]:[e[0],h+" ..."+r,...e.slice(-1)];if(t==="replace_last_lines")throw new Error("Replace last lines not yet supported!");if(t==="append_content")return i?[...e.slice(0,-1),...r,...e.slice(-1)]:[e[0],h+" + "+r,...e.slice(-1)];if(t==="replace_first_line")return i?[...e.slice(0,1),h+" "+r[0],...e.slice(2,-1)]:[e[0],h+" "+r[0]+"...",...e.slice(-1)];if(t==="prepend_content"){console.log(r[0]+"...",e.slice(-1));const b=new RegExp("^"+h,"g");if(i){const s=[...e.slice(0,1),h+" "+r[0],...e.slice(1,-1).map(l=>l.replace(b,""))];return console.log(s),s}else{const s=[e[0],h+" "+r[0]+"...",e[1].replace(b,""),...e.slice(-1)];return console.log(s,b),s}}}function cg(e,t=["chorus"],r=["R"],i=!0){if(t.length!==r.length)throw new Error("Directives and shortHands must be the same length.");const h={},b=t.map((_,E)=>({directive:_,shortHand:r[E],startRegex:new RegExp(`^\\{start_of_${_}(?::\\s*([\\w\\-_+ ]+))?\\}`),endRegex:new RegExp(`^\\{end_of_${_}\\}`),callRegex:new RegExp(`^\\{${_}(?::\\s*([\\w\\-_+ ]+))?\\}`)}));let s=null,l=null,n=null,o=null,u=null,d=!1;const p=new RegExp("^\\{start_of_variant: ([\\w\\-_+]+)\\}"),v=new RegExp("^\\{end_of_variant\\}"),g="a4c0d35c95a63a805915367dcfe6b751";return e.split(`
`).map(_=>{const E=_.match(p);if(E){if(!og.includes(E[1])){console.log("Invalid variant type: ",o," --> Skipping...");return}o=E[1],u=[],d=!0;return}if(_.match(v)){d=!1;return}if(d){u.push(_);return}for(const{directive:P,shortHand:M,startRegex:D,endRegex:j,callRegex:G}of b){const w=_.match(D);if(w){s=P,n=w[1]||M||g,l=[_],h[P]=h[P]||{};return}if(_.match(j)&&l&&s===P){l.push(_),h[P][n]=l,n!==g&&(l[1]=n+": "+l[1]);const k=l;return s=null,l=null,n=null,k.join(`
`)}const U=_.match(G);if(U){const k=U[1]||M||g;let K=h[P][k];const V=`${k===g?"":`${k}:`}`;if(u?(K=ug(K,o,u,i,V),o=null,u=null):i||(K=[`{start_of_${P}}`,V,`{end_of_${P}}`]),K)return K.join(`
`)}}if(l!==null){l.push(_);return}return _}).map(_=>_?_.trim():null).filter(_=>_).join(`
`).trim()}function lg(e){return e=e.replace(/\{key: B([ieasm#b]){0,5}\}/g,"{key: Bb$1}"),e=e.replace(/\{key: H([ieasm#b]){0,5}\}/g,"{key: B$1}"),e=e.replace(/\[([A-Za-z\d#b,\s/]{0,10})\/B\]/g,"[$1/Bb]"),e=e.replace(/\[([A-Za-z\d#b,\s/]{0,10})\/H\]/g,"[$1/B]"),e=e.replace(/\[B([A-Za-z\d#b,\s/]{0,10})\]/g,"[Bb$1]"),e=e.replace(/\[H([A-Za-z\d#b,\s/]{0,10})\]/g,"[B$1]"),e}function fg(e,t,r){if(!(t&&r))return e;const h=t.transposed(r),b=wa.chordParserFactory({key:t.note.toString()}),s=u=>{function d(p,v){const{rootNote:g,bassNote:S}=p.formatted;let _=g+v;return S&&(_+="/"+S),p.formatted.symbol=_,p}return ig(u.normalized.intervals,["1","5","9"])?u=d(u,"sus2"):u.formatted.descriptor=="ma7"?u=d(u,"maj7"):u.formatted.descriptor=="sus"&&(u=d(u,"sus4")),u},l=u=>(u.formatted.symbol.includes(",")||(u.formatted.symbol=u.formatted.symbol.replace("(","").replace(")","")),u),n=wa.chordRendererFactory({notationSystem:"english",transposeValue:r,accidental:h.isFlat()?"flat":"sharp",customFilters:[s,l]}),o=(u,d)=>`[${n(b(d))}]`;return e=e.replace(/\[([A-Ha-h][A-Za-z\d#b,\s/]{0,10})\]/g,o),e}function dg(e,t=["verse","chorus","bridge"],r=!1){const i="a4c0d35c95a63a805915367dcfe6b751",b=new DOMParser().parseFromString(e,"text/html"),s={};return t.forEach(l=>{s[l]={defaultKey:!1}}),b.querySelectorAll(t.map(l=>`.${l}`).join(",")).forEach(l=>{const n=t.find(o=>l.classList.contains(o));if(n){const o=l.querySelector(".section-title"),u=o&&r?o.textContent.trim():i,d=Array.from(l.querySelectorAll(".chord")).map(_=>({element:_,chord:_.textContent.trim()})).filter(_=>_.chord),p=d.map(_=>_.chord);s[n][u]||(s[n][u]=[]);const v=(_,E)=>{const P=((D,j)=>Array.from(Array(Math.max(j.length,D.length)),(G,w)=>[D[w],j[w]]))(_,E).map(D=>D[0]===D[1]),M=P.reduce((D,j)=>D+(j?0:1),0);return{matches:P,distance:M}},g=s[n][u].map(_=>v(_,p)),S=g.reduce((_,E,O)=>E.distance<g[_].distance?O:_,0);s[n][u].length===0||g[S].distance>3?s[n][u].push(p):(g[S].distance>0&&s[n][u].push(p),l.classList.add("repeated-chords"),g[S].matches.forEach((_,E)=>{E>=d.length||_||d[E].element.classList.add("force-shown")}),g[S].matches.length<d.length&&d.slice(-(d.length-g[S].matches.length)).forEach(_=>_.element.classList.add("force-shown")))}}),b.body.innerHTML}function hg(e){const t=e.trim();return t.startsWith("Bb")?"B"+t.slice(2):t.startsWith("B")?"H"+t.slice(1):t.endsWith("Bb")?t.slice(0,-2)+"B":t.endsWith("B")?t.slice(0,-1)+"H":e}function pg(e){let r=new DOMParser().parseFromString(e,"text/html");return r=mg(r),r.querySelectorAll(".chord").forEach(h=>{h.textContent=hg(h.textContent),h.innerHTML=h.textContent.replace("b","♭").replace("#","♯").replace(/([♯♭67])/,"<sup>$1</sup>")}),r.body.innerHTML}function mg(e){return e.querySelectorAll("div.section").forEach(r=>{r.querySelectorAll("span.lyrics").forEach(h=>{var b,s;if((b=h.textContent)!=null&&b.includes("𝄆")||(s=h.textContent)!=null&&s.includes("𝄇")){const l=document.createElement("div");l.className="repetition",h.replaceWith(l),l.appendChild(h)}})}),e}function ti(e,t,r,i){const b=Qu(lg)(e),s=cg(b,["chorus","bridge","verse"],["R","B",""],t),l=fg(s,r,i);return new xn.ChordProParser().parse(l)}function vg(e){var r;const t=ti(e,!1,null,null);return Uu.parse(((r=t.getPossibleKey())==null?void 0:r.toString())||"")}function gg(e,t,r,i){const h=ti(e.content,r,e.key,t),b=new xn.FormatterSettings;b.showMetadata=!1;let l=new xn.HtmlFormatter(b).format(h).join(`
`);return i&&(l=pg(l)),dg(l,["verse-section","chorus-section","bridge-section"])}const ei=()=>window.matchMedia("(max-width: 768px)").matches,Ja={compact:{fitScreenMode:"fitXY",repeatParts:!1,repeatPartsChords:!1,twoColumns:!1,compactInFullScreen:!0,fontSize:12},maximizeFontSize:{fitScreenMode:"fitX",repeatParts:!0,repeatPartsChords:!0,twoColumns:!1,compactInFullScreen:!1,fontSize:12}},yg=ei()?{fitScreenMode:"fitX",fontSize:12,repeatParts:!0,repeatPartsChords:!0,twoColumns:!1,compactInFullScreen:!0}:{fitScreenMode:"fitXY",fontSize:12,repeatParts:!1,repeatPartsChords:!1,twoColumns:!0,compactInFullScreen:!1},bg=e=>Math.min(Math.max(4,e),160),te=Zu()(Ju((e,t)=>({layout:yg,customLayoutPreset:{...Ja.compact,fontSize:12},layoutPreset:ei()?"maximizeFontSize":"compact",chords:{showChords:!0,czechChordNames:!0,inlineChords:!0},transpose:{steps:0,originalKey:void 0},actions:{setLayoutSettings:r=>e(i=>({layout:{...i.layout,...r,fontSize:r.fontSize?bg(r.fontSize):i.layout.fontSize}})),setCustomLayoutPreset:r=>e(i=>({customLayoutPreset:{...i.customLayoutPreset,...r}})),setLayoutPreset:r=>e(()=>({layoutPreset:r})),setChordSettings:r=>e(i=>({chords:{...i.chords,...r}})),setTransposeSteps:r=>e(i=>({transpose:{...i.transpose,steps:r}})),setOriginalKey:r=>e(i=>({transpose:{...i.transpose,originalKey:r||void 0}})),applyPreset:r=>{const{actions:i,customLayoutPreset:h}=t();r==="custom"?i.setLayoutSettings(h):i.setLayoutSettings({...Ja[r],compactInFullScreen:h.compactInFullScreen}),i.setLayoutPreset(r)},resetTranspose:()=>e(r=>({transpose:{...r.transpose,steps:0}}))}}),{name:"songview-settings-store",partialize:e=>{var t;return{layout:e.layout,customLayoutPreset:e.customLayoutPreset,layoutPreset:e.layoutPreset,chords:e.chords,transpose:{originalKey:(t=e.transpose.originalKey)==null?void 0:t.toString(),steps:0}}}})),Sg=["showChords","czechChordNames","inlineChords"],Ir={showChords:{icon:A.jsx(uc,{}),label:"Show chords"},czechChordNames:{icon:A.jsx(fc,{}),label:"Czech notes (A-B-H-C)"},inlineChords:{icon:A.jsx(ic,{}),label:"Chords inline"}},_g=()=>{const{chords:e,actions:t}=te(),r=i=>{t.setChordSettings({[i]:!e[i]})};return A.jsxs(A.Fragment,{children:[A.jsx(Xe,{children:"Chord settings"}),A.jsx(Qe,{}),Sg.map(i=>A.jsxs(Ye,{checked:e[i],disabled:i!=="showChords"&&!e.showChords,onCheckedChange:()=>r(i),onSelect:h=>h.preventDefault(),children:[A.jsx(le,{icon:Ir[i].icon}),Ir[i].label]},i))]})},xg=()=>{const{chords:e,actions:t}=te(),r=i=>{t.setChordSettings({[i]:!e[i]})};return A.jsxs(A.Fragment,{children:[A.jsx(Vt,{size:"icon",variant:"circular",isActive:e.showChords,className:"hidden sm:flex",onClick:()=>r("showChords"),children:Ir.showChords.icon}),A.jsx(Vt,{size:"icon",variant:"circular",className:"max-[620px]:hidden",isActive:e.inlineChords,disabled:!e.showChords,onClick:()=>r("inlineChords"),children:Ir.inlineChords.icon})]})},Tg=({})=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 531.12134 487.28763",fill:"none",stroke:"currentColor",children:A.jsxs("g",{transform:"matrix(0.1,0,0,-0.1,9.4062996,499.50655)",fill:"currentColor",stroke:"none",id:"g2",children:[A.jsx("path",{d:"M 2165,4890 C 1859,4864 1586,4788 1303,4649 688,4347 236,3787 70,3120 19,2918 6,2797 6,2560 6,2404 10,2314 23,2230 71,1922 175,1628 323,1381 564,979 896,671 1303,471 c 299,-147 559,-217 900,-242 128,-10 151,-9 171,4 29,19 37,48 22,79 -10,21 -20,24 -111,30 -388,28 -638,91 -925,234 -450,224 -799,574 -1016,1018 -296,609 -296,1323 0,1932 323,662 946,1115 1691,1229 151,24 470,24 620,1 814,-127 1465,-641 1764,-1393 70,-177 124,-401 137,-563 l 6,-85 -169,168 c -93,92 -177,167 -187,167 -22,0 -66,-44 -66,-67 0,-9 104,-122 232,-250 181,-182 238,-233 258,-233 20,0 76,51 258,233 223,224 245,251 224,283 -15,22 -50,34 -74,25 -13,-5 -95,-82 -183,-170 -107,-108 -162,-156 -167,-148 -4,7 -8,28 -8,47 0,61 -29,231 -60,357 -227,909 -998,1606 -1930,1743 -152,22 -390,31 -525,20 z",style:{display:"inline",stroke:"currentColor",strokeWidth:300.126,strokeOpacity:1},id:"path1"}),A.jsx("path",{d:"m 2411,3694 c -453,-156 -830,-289 -838,-295 -20,-17 -16,-50 32,-283 l 45,-217 v -518 -518 l -64,-7 c -223,-23 -387,-171 -388,-351 0,-90 24,-155 84,-220 91,-100 202,-146 348,-146 180,0 326,81 402,223 l 23,43 3,776 2,776 73,27 c 149,53 860,296 869,296 4,0 8,-231 8,-514 v -513 l -68,-6 c -126,-10 -245,-72 -314,-163 -175,-230 4,-531 327,-551 198,-13 370,79 443,235 l 27,57 3,815 3,815 -51,239 c -27,132 -50,243 -50,247 0,18 -34,39 -63,38 -18,0 -403,-129 -856,-285 z",id:"path21"}),A.jsx("path",{d:"m 2411,3694 c -453,-156 -830,-289 -838,-295 -20,-17 -16,-50 32,-283 l 45,-217 v -518 -518 l -64,-7 c -223,-23 -387,-171 -388,-351 0,-90 24,-155 84,-220 91,-100 202,-146 348,-146 180,0 326,81 402,223 l 23,43 3,776 2,776 73,27 c 149,53 860,296 869,296 4,0 8,-231 8,-514 v -513 l -68,-6 c -126,-10 -245,-72 -314,-163 -175,-230 4,-531 327,-551 198,-13 370,79 443,235 l 27,57 3,815 3,815 -51,239 c -27,132 -50,243 -50,247 0,18 -34,39 -63,38 -18,0 -403,-129 -856,-285 z m 819,139 c 0,-5 18,-93 40,-197 l 40,-189 v -649 c 0,-356 -3,-648 -6,-648 -3,0 -19,9 -34,20 -16,12 -54,32 -85,45 l -55,25 v 577 c 0,522 -2,578 -17,595 -9,10 -24,18 -34,18 -10,0 -262,-84 -561,-186 -362,-124 -549,-193 -560,-206 -17,-19 -18,-64 -18,-649 0,-346 -2,-629 -5,-629 -2,0 -25,13 -51,30 -26,16 -62,34 -81,41 l -33,11 v 535 536 l -42,199 c -22,109 -39,201 -35,204 3,3 254,91 559,196 304,104 641,220 748,258 192,67 230,77 230,63 z m -85,-1737 c 104,-47 154,-115 155,-209 1,-203 -305,-310 -512,-178 -144,92 -143,274 2,366 68,43 119,55 210,52 67,-2 98,-9 145,-31 z M 1777,1705 c 173,-79 215,-245 91,-361 -125,-119 -360,-117 -483,3 -136,132 -57,330 152,383 65,16 176,5 240,-25 z",id:"path2"})]})}),Eg=["twoColumns","repeatParts","repeatPartsChords","compactInFullScreen"],qa={twoColumns:{icon:A.jsx(ws,{}),label:"View as two columns"},repeatParts:{icon:A.jsx(dc,{}),label:"Show repeated parts"},repeatPartsChords:{icon:A.jsx(Tg,{}),label:"Show chords in repeated parts"},compactInFullScreen:{icon:A.jsx(cc,{}),label:"Auto fullscreen in compact view"}},wg=({fullScreenHandle:e})=>{const{layout:t,layoutPreset:r,actions:i}=te(),h=[{icon:A.jsx(As,{}),label:"Compact",value:"compact"},{icon:A.jsx(lc,{}),label:"Custom",value:"custom"},{icon:A.jsx(Cs,{}),label:"Scroll",value:"maximizeFontSize"}];return A.jsxs(A.Fragment,{children:[A.jsx(Vt,{size:"icon",variant:"circular",className:"max-sm:hidden",isActive:t.twoColumns,onClick:()=>i.setLayoutSettings({twoColumns:!t.twoColumns}),children:A.jsx(ws,{})}),A.jsx(Vt,{size:"icon",variant:"circular",className:"max-[620px]:hidden",onClick:e.enter,children:A.jsx(Os,{})}),A.jsx("div",{className:"flex flex-grow h-full align-center justify-center max-xsm:hidden  max-md:hide-fancy-switch-label ",id:"preset-selector-large",children:A.jsx(bn,{options:h,setSelectedOption:b=>{i.applyPreset(b),b==="compact"&&t.compactInFullScreen&&e.enter()},selectedOption:r,roundedClass:"rounded-full"})}),A.jsx("div",{className:"flex flex-grow h-full align-center justify-center hide-fancy-switch-label xsm:hidden",id:"preset-selector-small",children:A.jsx(bn,{options:h.filter(b=>b.value!=="custom"),setSelectedOption:b=>{i.applyPreset(b),b==="compact"&&t.compactInFullScreen&&e.enter()},selectedOption:r,hiddenHighlightOnOther:!0,roundedClass:"rounded-full"})})]})},Og=({fullScreenHandle:e})=>{const{layout:t,actions:r}=te();function i(b){r.setLayoutSettings({...b}),r.setCustomLayoutPreset({...b}),r.setLayoutPreset("custom")}const h=1.2;return A.jsxs(A.Fragment,{children:[A.jsx(Xe,{children:"Font size"}),A.jsx(Qe,{}),A.jsxs(Ye,{checked:t.fitScreenMode==="fitXY",onSelect:b=>b.preventDefault(),onCheckedChange:()=>i({fitScreenMode:"fitXY"}),children:[A.jsx(le,{icon:A.jsx(As,{})}),"Fit screen"]},"fitXY"),A.jsxs(Ye,{checked:t.fitScreenMode==="fitX",onSelect:b=>b.preventDefault(),onCheckedChange:()=>i({fitScreenMode:"fitX"}),children:[A.jsx(le,{icon:A.jsx(Cs,{})}),"Fit screen width"]},"fitX"),A.jsxs(_r,{onClick:()=>i({fitScreenMode:"none",fontSize:t.fontSize*h}),onSelect:b=>b.preventDefault(),children:[A.jsx(le,{icon:A.jsx(nc,{})}),"Increase font size"]}),A.jsxs(_r,{onClick:()=>i({fitScreenMode:"none",fontSize:t.fontSize/h}),onSelect:b=>b.preventDefault(),children:[A.jsx(le,{icon:A.jsx(rc,{})}),"Decrease font size"]}),A.jsx(Xe,{children:"Contents"}),A.jsx(Qe,{}),A.jsxs(_r,{onClick:()=>{e.enter()},children:[A.jsx(le,{icon:A.jsx(Os,{})}),"Enter fullscreen"]}),Eg.map(b=>A.jsxs(Ye,{checked:t[b],onCheckedChange:()=>i({[b]:!t[b]}),onSelect:s=>s.preventDefault(),children:[A.jsx(le,{icon:qa[b].icon}),qa[b].label]},b))]})},ri=["C","C#","D","Es","E","F","F#","G","As","A","B","H"],Ag=()=>{var h,b;const{transpose:e,actions:t}=te(),r=(h=e.originalKey)!=null&&h.note?new Ku("C").semitonesBetween((b=e.originalKey)==null?void 0:b.note):0,i=X.useMemo(()=>[...Array(12).keys()].map(s=>s-r),[r]);return A.jsxs("div",{className:"flex items-center h-full",children:[A.jsx("div",{className:"hidden xl:block h-full",children:A.jsx(Cn,{values:i,selected:e.steps,onChange:t.setTransposeSteps})}),A.jsx("div",{className:"xl:hidden h-full",children:A.jsx(Ig,{values:i,selected:e.steps,onChange:t.setTransposeSteps})})]})};function Cg(e){const[t,r]=X.useState(e),i=X.useRef(null),h=b=>{i.current&&!i.current.contains(b.target)&&r(!1)};return X.useEffect(()=>(document.addEventListener("click",h,!0),()=>{document.removeEventListener("click",h,!0)}),[]),{ref:i,isComponentVisible:t,setIsComponentVisible:r}}const Cn=({values:e,selected:t,onChange:r,vertical:i=!1})=>A.jsx(bn,{options:ri.map((h,b)=>({label:h,value:e[b]})),selectedOption:t,setSelectedOption:r,vertical:i,roundedClass:"rounded-full",full:!0}),Ig=({values:e,selected:t,onChange:r})=>{const{ref:i,isComponentVisible:h,setIsComponentVisible:b}=Cg(!1);return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"hidden xl:flex h-full",children:A.jsx(Cn,{values:e,selected:t,onChange:r})}),A.jsxs("div",{className:"xl:hidden max-sm:hidden",children:[A.jsx(Vt,{size:"icon",variant:"circular",onClick:()=>b(!h),children:A.jsx(ca,{})}),A.jsx("div",{className:"absolute top-14 w-fit left-0",ref:i,children:h&&A.jsx(_s,{showToolbar:h,className:"!px-0",children:A.jsx("div",{className:"w-full flex justify-center p-0 h-full",children:A.jsx(Cn,{values:e,selected:t,onChange:r})})})})]}),A.jsx("div",{className:"sm:hidden xl:hidden flex",children:A.jsxs(xs,{children:[A.jsx(Ts,{asChild:!0,children:A.jsx(Vt,{size:"icon",variant:"circular",onClick:()=>b(!h),children:A.jsx(ca,{})})}),A.jsx(Es,{className:"w-12",children:ri.map((s,l)=>A.jsx(Ye,{checked:t===e[l],onSelect:n=>n.preventDefault(),onCheckedChange:()=>r(e[l]),children:s},s))})]})})]})},ni=e=>{const t=X.useRef(0),[r,i]=X.useState(!1),[h,b]=X.useState(!0),s=X.useCallback(()=>{const l=window.scrollY;if(l<0){b(!0);return}l>t.current?e!=="fitXY"&&b(!1):l<t.current-10&&(b(!0),i(!1)),t.current=l;const n=document.body.scrollHeight-window.scrollY-window.innerHeight;i(n<=0)},[e]);return X.useEffect(()=>(window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)),[s]),{atBottom:r,isToolbarVisible:h}},Pg=({navigate:e,songDB:t,songData:r,fullScreenHandle:i})=>{const{layout:h}=te(),{isToolbarVisible:b}=ni(h.fitScreenMode);return A.jsx("div",{className:"absolute top-0 w-full",children:A.jsxs(_s,{showToolbar:b,scrollOffset:window.scrollY,children:[A.jsx(Vt,{size:"icon",variant:"circular",onClick:()=>e("/"),children:A.jsx(pc,{})}),A.jsx(xg,{}),A.jsx(wg,{fullScreenHandle:i}),A.jsx(Ag,{}),A.jsxs(xs,{modal:!1,children:[A.jsx(Ts,{asChild:!0,children:A.jsx(Vt,{size:"icon",variant:"circular",children:A.jsx(hc,{size:32})})}),A.jsxs(Es,{className:"w-56 max-h-[80vh] overflow-y-scroll",children:[ye.Children.toArray(A.jsx(Og,{fullScreenHandle:i})),ye.Children.toArray(A.jsx(_g,{})),A.jsx(Xe,{children:"Theme"}),A.jsx(Qe,{}),ye.Children.toArray(A.jsx(qu,{})),A.jsx(Xe,{children:"Misc"}),A.jsx(Qe,{}),A.jsxs(_r,{children:[A.jsx(le,{icon:A.jsx(oc,{})}),A.jsx(Vu,{to:"https://github.com/tragram/domcikuv-zpevnik-v2/tree/main/songs/chordpro/"+r.chordproFile,children:"Edit on GitHub"})]})]})]}),A.jsx(tc,{songs:t.songs})]})})},Mg=({pdfFilenames:e})=>A.jsx("iframe",{src:e.slice(-1)[0],className:"w-screen h-screen"}),jg=X.forwardRef(({children:e},t)=>{const{layout:r}=te();return A.jsx("div",{className:fe("flex flex-col sm:pt-[80px] pt-[72px] relative",r.fitScreenMode==="fitXY"?"h-dvh":"min-h-dvh"),ref:t,style:{touchAction:"pan-y",userSelect:"none"},children:e})});function Dg({fitMode:e,minFontSizePx:t,maxFontSizePx:r,fontSizePrecisionPx:i=.1,fontSize:h,setFontSize:b,children:s,...l}){const n=X.useRef(),o=X.useRef(null);return X.useEffect(()=>{var u;return(u=n.current)==null?void 0:u.call(n)},[s]),X.useEffect(()=>{var u;(u=n.current)==null||u.disconnect(),n.current=void 0},[]),X.useEffect(function(){var S;async function d(_){await new Promise(O=>setTimeout(O,10));const E=getComputedStyle(_).fontSize;b(parseFloat(E))}const p=o.current,v=p==null?void 0:p.parentElement;if(!p||!v||e==="none")return;(S=n.current)==null||S.disconnect();const g=e==="fitXY"?"boxoneline":"oneline";return n.current=ec({innerEl:p,containerEl:v,mode:g,minFontSizePx:t,maxFontSizePx:r,fontSizePrecisionPx:i}),d(p),()=>{var _;return(_=n.current)==null?void 0:_.disconnect()}},[o,e,t,r,i,b]),X.useEffect(function(){var p;!o.current||e!=="none"||((p=n.current)==null||p.disconnect(),n.current=void 0)},[e]),X.useEffect(function(){async function d(v,g){await new Promise(S=>setTimeout(S,0)),g!=null&&v.style.setProperty("font-size",`${g.toFixed(1)}px`)}const p=o.current;!p||e!=="none"||d(p,h)},[h,e]),A.jsx("div",{ref:o,...l,children:s})}function Lg(e){return e.split(/(\d|[#b])/).map((t,r)=>/\d/.test(t)?A.jsx("sub",{children:t},r):/[#b]/.test(t)?A.jsx("sup",{children:t},r):t)}const Ng=({songData:e,layoutSettings:t,transposeSteps:r})=>{const i=X.useRef(null),[h,b]=X.useState([]),s=()=>{if(!i.current)return;const n=Array.from(i.current.children),o=[];n.forEach((u,d)=>{const p=u.offsetTop;d>0&&p>n[0].offsetTop&&o.push(d)}),b(o)};X.useEffect(()=>{s();const n=()=>s();return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),X.useEffect(()=>{s()},[t]);const l=h.length>0;return A.jsxs("div",{className:fe("flex w-full justify-between flex-wrap gap-4"),ref:i,children:[t.fitScreenMode==="fitXY"||t.twoColumns?A.jsxs("h1",{className:"self-center font-bold text-wrap mb-2",children:[e.artist,": ",e.title]}):A.jsxs("div",{className:fe("flex flex-col flex-grow",l?"text-center":"justify-start mb-4"),children:[A.jsx("h2",{className:"font-semibold text-white/80 text-wrap uppercase",children:e.artist}),A.jsx("h2",{className:"font-bold text-wrap",children:e.title})]}),A.jsxs("div",{className:fe("flex flex-col flex-grow",l?"text-center mb-4":"text-right"),children:[A.jsxs("h2",{className:"text-[0.75em] text-white/70 text-nowrap",children:["Capo: ",(e.capo-r+12)%12]}),A.jsx("h2",{className:"text-[0.75em] text-white/70 sub-sup-container",children:Lg(e.range.toString(r))})]})]})},Rg=({songData:e,id:t,className:r})=>A.jsx("div",{className:fe("absolute top-0 left-0 min-h-lvh h-full w-full bg-image -z-20 blur-lg overflow-hidden transition-all duration-1000 ease-in-out",r),id:t,style:{backgroundImage:`url(${e.thumbnailURL()})`},children:A.jsx("div",{className:"w-full h-full bg-glass/60 dark:bg-glass/50"})}),Fg=X.forwardRef(({songData:e},t)=>{const{layout:r,chords:i,transpose:h,actions:b}=te(),s=gg(e,h.steps,r.repeatParts,i.czechChordNames),l=X.useCallback(o=>{b.setLayoutSettings({fontSize:o})},[b]),n=X.useMemo(()=>({fitMode:r.fitScreenMode,minFontSizePx:4,maxFontSizePx:160,fontSize:r.fontSize,setFontSize:l}),[r.fitScreenMode,r.fontSize,l]);return A.jsxs(A.Fragment,{children:[A.jsx(Rg,{songData:e,className:"hidden",id:"inner-background-image"}),A.jsx("div",{id:"auto-text-size-wrapper",className:fe("w-full z-10 lg:px-16 p-4 sm:p-8",r.fitScreenMode=="fitXY"?"h-full ":"h-fit ",r.fitScreenMode!=="fitXY"?"mb-10":""),children:A.jsxs(Dg,{...n,children:[A.jsx(Ng,{songData:e,layoutSettings:r,transposeSteps:h.steps}),A.jsx("div",{ref:t,id:"song-content-wrapper",className:fe("flex flex-col max-w-screen",i.inlineChords?"chords-inline":"",i.showChords?"":"chords-hidden",`fit-screen-${r.fitScreenMode}`,r.repeatPartsChords?"":"repeated-chords-hidden",r.twoColumns?"song-content-columns":""),dangerouslySetInnerHTML:{__html:s}})]})})]})});var gt={},Ln={},qe={},tr={},ai="Expected a function",ts=NaN,$g="[object Symbol]",kg=/^\s+|\s+$/g,Hg=/^[-+]0x[0-9a-f]+$/i,Bg=/^0b[01]+$/i,zg=/^0o[0-7]+$/i,Gg=parseInt,Ug=typeof Jt=="object"&&Jt&&Jt.Object===Object&&Jt,Kg=typeof self=="object"&&self&&self.Object===Object&&self,Vg=Ug||Kg||Function("return this")(),Wg=Object.prototype,Yg=Wg.toString,Xg=Math.max,Qg=Math.min,pn=function(){return Vg.Date.now()};function Zg(e,t,r){var i,h,b,s,l,n,o=0,u=!1,d=!1,p=!0;if(typeof e!="function")throw new TypeError(ai);t=es(t)||0,Pr(r)&&(u=!!r.leading,d="maxWait"in r,b=d?Xg(es(r.maxWait)||0,t):b,p="trailing"in r?!!r.trailing:p);function v(j){var G=i,w=h;return i=h=void 0,o=j,s=e.apply(w,G),s}function g(j){return o=j,l=setTimeout(E,t),u?v(j):s}function S(j){var G=j-n,w=j-o,B=t-G;return d?Qg(B,b-w):B}function _(j){var G=j-n,w=j-o;return n===void 0||G>=t||G<0||d&&w>=b}function E(){var j=pn();if(_(j))return O(j);l=setTimeout(E,S(j))}function O(j){return l=void 0,p&&i?v(j):(i=h=void 0,s)}function P(){l!==void 0&&clearTimeout(l),o=0,i=n=h=l=void 0}function M(){return l===void 0?s:O(pn())}function D(){var j=pn(),G=_(j);if(i=arguments,h=this,n=j,G){if(l===void 0)return g(n);if(d)return l=setTimeout(E,t),v(n)}return l===void 0&&(l=setTimeout(E,t)),s}return D.cancel=P,D.flush=M,D}function Jg(e,t,r){var i=!0,h=!0;if(typeof e!="function")throw new TypeError(ai);return Pr(r)&&(i="leading"in r?!!r.leading:i,h="trailing"in r?!!r.trailing:h),Zg(e,t,{leading:i,maxWait:t,trailing:h})}function Pr(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function qg(e){return!!e&&typeof e=="object"}function ty(e){return typeof e=="symbol"||qg(e)&&Yg.call(e)==$g}function es(e){if(typeof e=="number")return e;if(ty(e))return ts;if(Pr(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Pr(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(kg,"");var r=Bg.test(e);return r||zg.test(e)?Gg(e.slice(2),r?2:8):Hg.test(e)?ts:+e}var ey=Jg,er={};Object.defineProperty(er,"__esModule",{value:!0});er.addPassiveEventListener=function(t,r,i){var h=i.name;h||(h=r,console.warn("Listener must be a named function.")),Tr.has(r)||Tr.set(r,new Set);var b=Tr.get(r);if(!b.has(h)){var s=function(){var l=!1;try{var n=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("test",null,n)}catch{}return l}();t.addEventListener(r,i,s?{passive:!0}:!1),b.add(h)}};er.removePassiveEventListener=function(t,r,i){t.removeEventListener(r,i),Tr.get(r).delete(i.name||r)};var Tr=new Map;Object.defineProperty(tr,"__esModule",{value:!0});var ry=ey,ny=sy(ry),ay=er;function sy(e){return e&&e.__esModule?e:{default:e}}var iy=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,ny.default)(t,r)},pt={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(t,r){if(t){var i=iy(function(h){pt.scrollHandler(t)},r);pt.scrollSpyContainers.push(t),(0,ay.addPassiveEventListener)(t,"scroll",i)}},isMounted:function(t){return pt.scrollSpyContainers.indexOf(t)!==-1},currentPositionX:function(t){if(t===document){var r=window.pageYOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return r?window.pageXOffset:i?document.documentElement.scrollLeft:document.body.scrollLeft}else return t.scrollLeft},currentPositionY:function(t){if(t===document){var r=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return r?window.pageYOffset:i?document.documentElement.scrollTop:document.body.scrollTop}else return t.scrollTop},scrollHandler:function(t){var r=pt.scrollSpyContainers[pt.scrollSpyContainers.indexOf(t)].spyCallbacks||[];r.forEach(function(i){return i(pt.currentPositionX(t),pt.currentPositionY(t))})},addStateHandler:function(t){pt.spySetState.push(t)},addSpyHandler:function(t,r){var i=pt.scrollSpyContainers[pt.scrollSpyContainers.indexOf(r)];i.spyCallbacks||(i.spyCallbacks=[]),i.spyCallbacks.push(t),t(pt.currentPositionX(r),pt.currentPositionY(r))},updateStates:function(){pt.spySetState.forEach(function(t){return t()})},unmount:function(t,r){pt.scrollSpyContainers.forEach(function(i){return i.spyCallbacks&&i.spyCallbacks.length&&i.spyCallbacks.indexOf(r)>-1&&i.spyCallbacks.splice(i.spyCallbacks.indexOf(r),1)}),pt.spySetState&&pt.spySetState.length&&pt.spySetState.indexOf(t)>-1&&pt.spySetState.splice(pt.spySetState.indexOf(t),1),document.removeEventListener("scroll",pt.scrollHandler)},update:function(){return pt.scrollSpyContainers.forEach(function(t){return pt.scrollHandler(t)})}};tr.default=pt;var Fe={},rr={};Object.defineProperty(rr,"__esModule",{value:!0});var oy=function(t,r){var i=t.indexOf("#")===0?t.substring(1):t,h=i?"#"+i:"",b=window&&window.location,s=h?b.pathname+b.search+h:b.pathname+b.search;r?history.pushState(history.state,"",s):history.replaceState(history.state,"",s)},uy=function(){return window.location.hash.replace(/^#/,"")},cy=function(t){return function(r){return t.contains?t!=r&&t.contains(r):!!(t.compareDocumentPosition(r)&16)}},ly=function(t){return getComputedStyle(t).position!=="static"},mn=function(t,r){for(var i=t.offsetTop,h=t.offsetParent;h&&!r(h);)i+=h.offsetTop,h=h.offsetParent;return{offsetTop:i,offsetParent:h}},fy=function(t,r,i){if(i)return t===document?r.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(t).position!=="static"?r.offsetLeft:r.offsetLeft-t.offsetLeft;if(t===document)return r.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(ly(t)){if(r.offsetParent!==t){var h=function(u){return u===t||u===document},b=mn(r,h),s=b.offsetTop,l=b.offsetParent;if(l!==t)throw new Error("Seems containerElement is not an ancestor of the Element");return s}return r.offsetTop}if(r.offsetParent===t.offsetParent)return r.offsetTop-t.offsetTop;var n=function(u){return u===document};return mn(r,n).offsetTop-mn(t,n).offsetTop};rr.default={updateHash:oy,getHash:uy,filterElementInContainer:cy,scrollOffset:fy};var kr={},Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.default={defaultEasing:function(t){return t<.5?Math.pow(t*2,2)/2:1-Math.pow((1-t)*2,2)/2},linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});var dy=er,hy=["mousedown","mousewheel","touchmove","keydown"];Rn.default={subscribe:function(t){return typeof document<"u"&&hy.forEach(function(r){return(0,dy.addPassiveEventListener)(document,r,t)})}};var nr={};Object.defineProperty(nr,"__esModule",{value:!0});var In={registered:{},scrollEvent:{register:function(t,r){In.registered[t]=r},remove:function(t){In.registered[t]=null}}};nr.default=In;Object.defineProperty(kr,"__esModule",{value:!0});var py=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},my=rr;Hr(my);var vy=Nn,rs=Hr(vy),gy=Rn,yy=Hr(gy),by=nr,Kt=Hr(by);function Hr(e){return e&&e.__esModule?e:{default:e}}var si=function(t){return rs.default[t.smooth]||rs.default.defaultEasing},Sy=function(t){return typeof t=="function"?t:function(){return t}},_y=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},Pn=function(){return _y()||function(e,t,r){window.setTimeout(e,r||1e3/60,new Date().getTime())}}(),ii=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},oi=function(t){var r=t.data.containerElement;if(r&&r!==document&&r!==document.body)return r.scrollLeft;var i=window.pageXOffset!==void 0,h=(document.compatMode||"")==="CSS1Compat";return i?window.pageXOffset:h?document.documentElement.scrollLeft:document.body.scrollLeft},ui=function(t){var r=t.data.containerElement;if(r&&r!==document&&r!==document.body)return r.scrollTop;var i=window.pageXOffset!==void 0,h=(document.compatMode||"")==="CSS1Compat";return i?window.pageYOffset:h?document.documentElement.scrollTop:document.body.scrollTop},xy=function(t){var r=t.data.containerElement;if(r&&r!==document&&r!==document.body)return r.scrollWidth-r.offsetWidth;var i=document.body,h=document.documentElement;return Math.max(i.scrollWidth,i.offsetWidth,h.clientWidth,h.scrollWidth,h.offsetWidth)},Ty=function(t){var r=t.data.containerElement;if(r&&r!==document&&r!==document.body)return r.scrollHeight-r.offsetHeight;var i=document.body,h=document.documentElement;return Math.max(i.scrollHeight,i.offsetHeight,h.clientHeight,h.scrollHeight,h.offsetHeight)},Ey=function e(t,r,i){var h=r.data;if(!r.ignoreCancelEvents&&h.cancel){Kt.default.registered.end&&Kt.default.registered.end(h.to,h.target,h.currentPositionY);return}if(h.delta=Math.round(h.targetPosition-h.startPosition),h.start===null&&(h.start=i),h.progress=i-h.start,h.percent=h.progress>=h.duration?1:t(h.progress/h.duration),h.currentPosition=h.startPosition+Math.ceil(h.delta*h.percent),h.containerElement&&h.containerElement!==document&&h.containerElement!==document.body?r.horizontal?h.containerElement.scrollLeft=h.currentPosition:h.containerElement.scrollTop=h.currentPosition:r.horizontal?window.scrollTo(h.currentPosition,0):window.scrollTo(0,h.currentPosition),h.percent<1){var b=e.bind(null,t,r);Pn.call(window,b);return}Kt.default.registered.end&&Kt.default.registered.end(h.to,h.target,h.currentPosition)},Fn=function(t){t.data.containerElement=t?t.containerId?document.getElementById(t.containerId):t.container&&t.container.nodeType?t.container:document:null},ar=function(t,r,i,h){r.data=r.data||ii(),window.clearTimeout(r.data.delayTimeout);var b=function(){r.data.cancel=!0};if(yy.default.subscribe(b),Fn(r),r.data.start=null,r.data.cancel=!1,r.data.startPosition=r.horizontal?oi(r):ui(r),r.data.targetPosition=r.absolute?t:t+r.data.startPosition,r.data.startPosition===r.data.targetPosition){Kt.default.registered.end&&Kt.default.registered.end(r.data.to,r.data.target,r.data.currentPosition);return}r.data.delta=Math.round(r.data.targetPosition-r.data.startPosition),r.data.duration=Sy(r.duration)(r.data.delta),r.data.duration=isNaN(parseFloat(r.data.duration))?1e3:parseFloat(r.data.duration),r.data.to=i,r.data.target=h;var s=si(r),l=Ey.bind(null,s,r);if(r&&r.delay>0){r.data.delayTimeout=window.setTimeout(function(){Kt.default.registered.begin&&Kt.default.registered.begin(r.data.to,r.data.target),Pn.call(window,l)},r.delay);return}Kt.default.registered.begin&&Kt.default.registered.begin(r.data.to,r.data.target),Pn.call(window,l)},Br=function(t){return t=py({},t),t.data=t.data||ii(),t.absolute=!0,t},wy=function(t){ar(0,Br(t))},Oy=function(t,r){ar(t,Br(r))},Ay=function(t){t=Br(t),Fn(t),ar(t.horizontal?xy(t):Ty(t),t)},Cy=function(t,r){r=Br(r),Fn(r);var i=r.horizontal?oi(r):ui(r);ar(t+i,r)};kr.default={animateTopScroll:ar,getAnimationType:si,scrollToTop:wy,scrollToBottom:Ay,scrollTo:Oy,scrollMore:Cy};Object.defineProperty(Fe,"__esModule",{value:!0});var Iy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Py=rr,My=$n(Py),jy=kr,Dy=$n(jy),Ly=nr,vr=$n(Ly);function $n(e){return e&&e.__esModule?e:{default:e}}var gr={},ns=void 0;Fe.default={unmount:function(){gr={}},register:function(t,r){gr[t]=r},unregister:function(t){delete gr[t]},get:function(t){return gr[t]||document.getElementById(t)||document.getElementsByName(t)[0]||document.getElementsByClassName(t)[0]},setActiveLink:function(t){return ns=t},getActiveLink:function(){return ns},scrollTo:function(t,r){var i=this.get(t);if(!i){console.warn("target Element not found");return}r=Iy({},r,{absolute:!1});var h=r.containerId,b=r.container,s=void 0;h?s=document.getElementById(h):b&&b.nodeType?s=b:s=document,r.absolute=!0;var l=r.horizontal,n=My.default.scrollOffset(s,i,l)+(r.offset||0);if(!r.smooth){vr.default.registered.begin&&vr.default.registered.begin(t,i),s===document?r.horizontal?window.scrollTo(n,0):window.scrollTo(0,n):s.scrollTop=n,vr.default.registered.end&&vr.default.registered.end(t,i);return}Dy.default.animateTopScroll(n,r,t,i)}};var ci={exports:{}},Ny="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ry=Ny,Fy=Ry;function li(){}function fi(){}fi.resetWarningCache=li;var $y=function(){function e(i,h,b,s,l,n){if(n!==Fy){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:fi,resetWarningCache:li};return r.PropTypes=r,r};ci.exports=$y();var zr=ci.exports,Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});var ky=rr,vn=Hy(ky);function Hy(e){return e&&e.__esModule?e:{default:e}}var By={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(t){this.scroller=t,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(t,r){this.containers[t]=r},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var t=this,r=this.getHash();r?window.setTimeout(function(){t.scrollTo(r,!0),t.initialized=!0},10):this.initialized=!0},scrollTo:function(t,r){var i=this.scroller,h=i.get(t);if(h&&(r||t!==i.getActiveLink())){var b=this.containers[t]||document;i.scrollTo(t,{container:b})}},getHash:function(){return vn.default.getHash()},changeHash:function(t,r){this.isInitialized()&&vn.default.getHash()!==t&&vn.default.updateHash(t,r)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};Gr.default=By;Object.defineProperty(qe,"__esModule",{value:!0});var yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},zy=function(){function e(t,r){for(var i=0;i<r.length;i++){var h=r[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),Gy=X,as=sr(Gy),Uy=tr,br=sr(Uy),Ky=Fe,Vy=sr(Ky),Wy=zr,ht=sr(Wy),Yy=Gr,ue=sr(Yy);function sr(e){return e&&e.__esModule?e:{default:e}}function Xy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qy(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Zy(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ss={to:ht.default.string.isRequired,containerId:ht.default.string,container:ht.default.object,activeClass:ht.default.string,activeStyle:ht.default.object,spy:ht.default.bool,horizontal:ht.default.bool,smooth:ht.default.oneOfType([ht.default.bool,ht.default.string]),offset:ht.default.number,delay:ht.default.number,isDynamic:ht.default.bool,onClick:ht.default.func,duration:ht.default.oneOfType([ht.default.number,ht.default.func]),absolute:ht.default.bool,onSetActive:ht.default.func,onSetInactive:ht.default.func,ignoreCancelEvents:ht.default.bool,hashSpy:ht.default.bool,saveHashHistory:ht.default.bool,spyThrottle:ht.default.number};qe.default=function(e,t){var r=t||Vy.default,i=function(b){Zy(s,b);function s(l){Xy(this,s);var n=Qy(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,l));return h.call(n),n.state={active:!1},n}return zy(s,[{key:"getScrollSpyContainer",value:function(){var n=this.props.containerId,o=this.props.container;return n&&!o?document.getElementById(n):o&&o.nodeType?o:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var n=this.getScrollSpyContainer();br.default.isMounted(n)||br.default.mount(n,this.props.spyThrottle),this.props.hashSpy&&(ue.default.isMounted()||ue.default.mount(r),ue.default.mapContainer(this.props.to,n)),br.default.addSpyHandler(this.spyHandler,n),this.setState({container:n})}}},{key:"componentWillUnmount",value:function(){br.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var n="";this.state&&this.state.active?n=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():n=this.props.className;var o={};this.state&&this.state.active?o=yr({},this.props.style,this.props.activeStyle):o=yr({},this.props.style);var u=yr({},this.props);for(var d in ss)u.hasOwnProperty(d)&&delete u[d];return u.className=n,u.style=o,u.onClick=this.handleClick,as.default.createElement(e,u)}}]),s}(as.default.PureComponent),h=function(){var s=this;this.scrollTo=function(l,n){r.scrollTo(l,yr({},s.state,n))},this.handleClick=function(l){s.props.onClick&&s.props.onClick(l),l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault(),s.scrollTo(s.props.to,s.props)},this.spyHandler=function(l,n){var o=s.getScrollSpyContainer();if(!(ue.default.isMounted()&&!ue.default.isInitialized())){var u=s.props.horizontal,d=s.props.to,p=null,v=void 0,g=void 0;if(u){var S=0,_=0,E=0;if(o.getBoundingClientRect){var O=o.getBoundingClientRect();E=O.left}if(!p||s.props.isDynamic){if(p=r.get(d),!p)return;var P=p.getBoundingClientRect();S=P.left-E+l,_=S+P.width}var M=l-s.props.offset;v=M>=Math.floor(S)&&M<Math.floor(_),g=M<Math.floor(S)||M>=Math.floor(_)}else{var D=0,j=0,G=0;if(o.getBoundingClientRect){var w=o.getBoundingClientRect();G=w.top}if(!p||s.props.isDynamic){if(p=r.get(d),!p)return;var B=p.getBoundingClientRect();D=B.top-G+n,j=D+B.height}var U=n-s.props.offset;v=U>=Math.floor(D)&&U<Math.floor(j),g=U<Math.floor(D)||U>=Math.floor(j)}var k=r.getActiveLink();if(g){if(d===k&&r.setActiveLink(void 0),s.props.hashSpy&&ue.default.getHash()===d){var K=s.props.saveHashHistory,V=K===void 0?!1:K;ue.default.changeHash("",V)}s.props.spy&&s.state.active&&(s.setState({active:!1}),s.props.onSetInactive&&s.props.onSetInactive(d,p))}if(v&&(k!==d||s.state.active===!1)){r.setActiveLink(d);var C=s.props.saveHashHistory,W=C===void 0?!1:C;s.props.hashSpy&&ue.default.changeHash(d,W),s.props.spy&&(s.setState({active:!0}),s.props.onSetActive&&s.props.onSetActive(d,p))}}}};return i.propTypes=ss,i.defaultProps={offset:0},i};Object.defineProperty(Ln,"__esModule",{value:!0});var Jy=X,is=di(Jy),qy=qe,tb=di(qy);function di(e){return e&&e.__esModule?e:{default:e}}function eb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function os(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function rb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var nb=function(e){rb(t,e);function t(){var r,i,h,b;eb(this,t);for(var s=arguments.length,l=Array(s),n=0;n<s;n++)l[n]=arguments[n];return b=(i=(h=os(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(l))),h),h.render=function(){return is.default.createElement("a",h.props,h.props.children)},i),os(h,b)}return t}(is.default.Component);Ln.default=(0,tb.default)(nb);var kn={};Object.defineProperty(kn,"__esModule",{value:!0});var ab=function(){function e(t,r){for(var i=0;i<r.length;i++){var h=r[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),sb=X,us=hi(sb),ib=qe,ob=hi(ib);function hi(e){return e&&e.__esModule?e:{default:e}}function ub(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cb(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function lb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var fb=function(e){lb(t,e);function t(){return ub(this,t),cb(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ab(t,[{key:"render",value:function(){return us.default.createElement("button",this.props,this.props.children)}}]),t}(us.default.Component);kn.default=(0,ob.default)(fb);var Hn={},Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});var db=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},hb=function(){function e(t,r){for(var i=0;i<r.length;i++){var h=r[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),pb=X,cs=Kr(pb),mb=Wu;Kr(mb);var vb=Fe,ls=Kr(vb),gb=zr,fs=Kr(gb);function Kr(e){return e&&e.__esModule?e:{default:e}}function yb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bb(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Sb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Ur.default=function(e){var t=function(r){Sb(i,r);function i(h){yb(this,i);var b=bb(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,h));return b.childBindings={domNode:null},b}return hb(i,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(b){this.props.name!==b.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;ls.default.unregister(this.props.name)}},{key:"registerElems",value:function(b){ls.default.register(b,this.childBindings.domNode)}},{key:"render",value:function(){return cs.default.createElement(e,db({},this.props,{parentBindings:this.childBindings}))}}]),i}(cs.default.Component);return t.propTypes={name:fs.default.string,id:fs.default.string},t};Object.defineProperty(Hn,"__esModule",{value:!0});var ds=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},_b=function(){function e(t,r){for(var i=0;i<r.length;i++){var h=r[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),xb=X,hs=Bn(xb),Tb=Ur,Eb=Bn(Tb),wb=zr,ps=Bn(wb);function Bn(e){return e&&e.__esModule?e:{default:e}}function Ob(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ab(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Cb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var pi=function(e){Cb(t,e);function t(){return Ob(this,t),Ab(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _b(t,[{key:"render",value:function(){var i=this,h=ds({},this.props);return delete h.name,h.parentBindings&&delete h.parentBindings,hs.default.createElement("div",ds({},h,{ref:function(s){i.props.parentBindings.domNode=s}}),this.props.children)}}]),t}(hs.default.Component);pi.propTypes={name:ps.default.string,id:ps.default.string};Hn.default=(0,Eb.default)(pi);var gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ms=function(){function e(t,r){for(var i=0;i<r.length;i++){var h=r[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();function vs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gs(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function ys(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Sr=X,ve=tr,yn=Fe,mt=zr,ce=Gr,bs={to:mt.string.isRequired,containerId:mt.string,container:mt.object,activeClass:mt.string,spy:mt.bool,smooth:mt.oneOfType([mt.bool,mt.string]),offset:mt.number,delay:mt.number,isDynamic:mt.bool,onClick:mt.func,duration:mt.oneOfType([mt.number,mt.func]),absolute:mt.bool,onSetActive:mt.func,onSetInactive:mt.func,ignoreCancelEvents:mt.bool,hashSpy:mt.bool,spyThrottle:mt.number},Ib={Scroll:function(t,r){console.warn("Helpers.Scroll is deprecated since v1.7.0");var i=r||yn,h=function(s){ys(l,s);function l(n){vs(this,l);var o=gs(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,n));return b.call(o),o.state={active:!1},o}return ms(l,[{key:"getScrollSpyContainer",value:function(){var o=this.props.containerId,u=this.props.container;return o?document.getElementById(o):u&&u.nodeType?u:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var o=this.getScrollSpyContainer();ve.isMounted(o)||ve.mount(o,this.props.spyThrottle),this.props.hashSpy&&(ce.isMounted()||ce.mount(i),ce.mapContainer(this.props.to,o)),this.props.spy&&ve.addStateHandler(this.stateHandler),ve.addSpyHandler(this.spyHandler,o),this.setState({container:o})}}},{key:"componentWillUnmount",value:function(){ve.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var o="";this.state&&this.state.active?o=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():o=this.props.className;var u=gn({},this.props);for(var d in bs)u.hasOwnProperty(d)&&delete u[d];return u.className=o,u.onClick=this.handleClick,Sr.createElement(t,u)}}]),l}(Sr.Component),b=function(){var l=this;this.scrollTo=function(n,o){i.scrollTo(n,gn({},l.state,o))},this.handleClick=function(n){l.props.onClick&&l.props.onClick(n),n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault(),l.scrollTo(l.props.to,l.props)},this.stateHandler=function(){i.getActiveLink()!==l.props.to&&(l.state!==null&&l.state.active&&l.props.onSetInactive&&l.props.onSetInactive(),l.setState({active:!1}))},this.spyHandler=function(n){var o=l.getScrollSpyContainer();if(!(ce.isMounted()&&!ce.isInitialized())){var u=l.props.to,d=null,p=0,v=0,g=0;if(o.getBoundingClientRect){var S=o.getBoundingClientRect();g=S.top}if(!d||l.props.isDynamic){if(d=i.get(u),!d)return;var _=d.getBoundingClientRect();p=_.top-g+n,v=p+_.height}var E=n-l.props.offset,O=E>=Math.floor(p)&&E<Math.floor(v),P=E<Math.floor(p)||E>=Math.floor(v),M=i.getActiveLink();if(P)return u===M&&i.setActiveLink(void 0),l.props.hashSpy&&ce.getHash()===u&&ce.changeHash(),l.props.spy&&l.state.active&&(l.setState({active:!1}),l.props.onSetInactive&&l.props.onSetInactive()),ve.updateStates();if(O&&M!==u)return i.setActiveLink(u),l.props.hashSpy&&ce.changeHash(u),l.props.spy&&(l.setState({active:!0}),l.props.onSetActive&&l.props.onSetActive(u)),ve.updateStates()}}};return h.propTypes=bs,h.defaultProps={offset:0},h},Element:function(t){console.warn("Helpers.Element is deprecated since v1.7.0");var r=function(i){ys(h,i);function h(b){vs(this,h);var s=gs(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,b));return s.childBindings={domNode:null},s}return ms(h,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(s){this.props.name!==s.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;yn.unregister(this.props.name)}},{key:"registerElems",value:function(s){yn.register(s,this.childBindings.domNode)}},{key:"render",value:function(){return Sr.createElement(t,gn({},this.props,{parentBindings:this.childBindings}))}}]),h}(Sr.Component);return r.propTypes={name:mt.string,id:mt.string},r}},Pb=Ib;Object.defineProperty(gt,"__esModule",{value:!0});gt.Helpers=gt.ScrollElement=gt.ScrollLink=Er=gt.animateScroll=gt.scrollSpy=gt.Events=gt.scroller=gt.Element=gt.Button=gt.Link=void 0;var Mb=Ln,mi=Wt(Mb),jb=kn,vi=Wt(jb),Db=Hn,gi=Wt(Db),Lb=Fe,yi=Wt(Lb),Nb=nr,bi=Wt(Nb),Rb=tr,Si=Wt(Rb),Fb=kr,_i=Wt(Fb),$b=qe,xi=Wt($b),kb=Ur,Ti=Wt(kb),Hb=Pb,Ei=Wt(Hb);function Wt(e){return e&&e.__esModule?e:{default:e}}gt.Link=mi.default;gt.Button=vi.default;gt.Element=gi.default;gt.scroller=yi.default;gt.Events=bi.default;gt.scrollSpy=Si.default;var Er=gt.animateScroll=_i.default;gt.ScrollLink=xi.default;gt.ScrollElement=Ti.default;gt.Helpers=Ei.default;gt.default={Link:mi.default,Button:vi.default,Element:gi.default,scroller:yi.default,Events:bi.default,scrollSpy:Si.default,animateScroll:_i.default,ScrollLink:xi.default,ScrollElement:Ti.default,Helpers:Ei.default};const Bb=X.memo(({fitScreenMode:e})=>{const[t,r]=X.useState(!1),{atBottom:i}=ni(e);X.useEffect(()=>{const s=new ResizeObserver(()=>{r(document.body.scrollHeight>screen.height&&e!="fitXY")});return s.observe(document.body),()=>s.disconnect()},[e]);const h=()=>{const s=document.body.scrollHeight-window.scrollY-screen.height,l=screen.height/2e3;if(s<0)return;if(s<.8*screen.height){Er.scrollToBottom({duration:s/l,onComplete:()=>{window.scrollBy(0,-1)}});return}const n=document.querySelectorAll(".section");for(const o of n){const u=o.getBoundingClientRect();if(u.bottom>=screen.height){const d=Math.max(100,.2*screen.height),p=u.top-d;Er.scrollTo(u.top+window.scrollY-d,{duration:p/l});break}}},b=()=>{Er.scrollTo(0,{duration:200})};return t?A.jsxs("div",{className:"fixed bottom-10 right-10 z-50 h-24 flex",children:[!i&&A.jsx(Vt,{size:"icon",variant:"circular",onClick:h,className:"absolute bottom-0 right-0",children:A.jsx(ac,{})}),i&&A.jsx(Vt,{size:"icon",variant:"circular",onClick:b,className:"absolute top-0 right-0",children:A.jsx(sc,{})})]}):null}),zb=()=>{const[e,t]=X.useState(!0),r=X.useCallback(i=>{t(i)},[]);return{isVisible:e,updateVisibility:r}},Vb=()=>{const{songDB:e,songData:t}=Yu(),r=Xu(),i=mc(),h=X.useRef(null),{layout:b,actions:s}=te(),{updateVisibility:l}=zb();return X.useEffect(()=>{t.key||(t.key=vg(t.content||"")),s.setOriginalKey(t.key||null)},[t,s]),X.useEffect(()=>{s.resetTranspose()},[t.id,s]),Il({onPinch:({movement:[n],memo:o})=>{o||(o=b.fontSize);const u=Math.max(8,Math.min(o*n,50));return s.setLayoutSettings({fitScreenMode:"none",fontSize:u}),screen.height>50+document.body.scrollHeight?l(!0):screen.height<document.body.scrollHeight&&window.scrollY>0&&l(!1),o}},{target:h}),X.useEffect(()=>{const n=o=>o.preventDefault();return document.addEventListener("gesturestart",n),document.addEventListener("gesturechange",n),()=>{document.removeEventListener("gesturestart",n),document.removeEventListener("gesturechange",n)}},[]),t.lyricsLength()<50?A.jsx(Mg,{pdfFilenames:t.pdfFilenames}):A.jsxs(jg,{ref:h,children:[A.jsx(Pg,{navigate:r,songDB:e,songData:t,fullScreenHandle:i}),A.jsxs(vc,{handle:i,className:fe("w-full overflow-x-clip",b.fitScreenMode=="fitXY"?" h-full ":" h-fit overflow-y-scroll"),children:[A.jsx(Bb,{fitScreenMode:b.fitScreenMode}),A.jsx(Fg,{songData:t})]})]})};export{Vb as SongView,Vb as default};
//# sourceMappingURL=SongView-21_OiH47.js.map
