import{c as Ie,r as h,R as je,k as ke,j as b,i as Oe}from"./main-CUE8rQAx.js";import{B as Ne}from"./button-DUlPD8-F.js";import{I as We}from"./IllustrationPrompt-BOxFGE45.js";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=Ie("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),P=0,y=1,Ae=2,De=0,Z=1;function ze(t,e,n){let o=t.list,i;for(;o;){if(o.index===n)return!1;if(e>o.high)break;i=o,o=o.next}return i||(t.list={index:n,high:e,next:o}),i&&(i.next={index:n,high:e,next:i.next}),!0}function _e(t,e){let n=t.list;if(n.index===e)return n.next===null?De:(t.list=n.next,Z);let o=n;for(n=n.next;n!==null;){if(n.index===e)return o.next=n.next,Z;o=n,n=n.next}}const p={low:0,max:0,high:0,C:Ae,P:void 0,R:void 0,L:void 0,list:void 0};p.P=p;p.L=p;p.R=p;function T(t){const e=t.high;t.L===p&&t.R===p?t.max=e:t.L===p?t.max=Math.max(t.R.max,e):t.R===p?t.max=Math.max(t.L.max,e):t.max=Math.max(Math.max(t.L.max,t.R.max),e)}function _(t){let e=t;for(;e.P!==p;)T(e.P),e=e.P}function O(t,e){if(e.R===p)return;const n=e.R;e.R=n.L,n.L!==p&&(n.L.P=e),n.P=e.P,e.P===p?t.root=n:e===e.P.L?e.P.L=n:e.P.R=n,n.L=e,e.P=n,T(e),T(n)}function N(t,e){if(e.L===p)return;const n=e.L;e.L=n.R,n.R!==p&&(n.R.P=e),n.P=e.P,e.P===p?t.root=n:e===e.P.R?e.P.R=n:e.P.L=n,n.R=e,e.P=n,T(e),T(n)}function F(t,e,n){e.P===p?t.root=n:e===e.P.L?e.P.L=n:e.P.R=n,n.P=e.P}function Fe(t,e){let n;for(;e!==p&&e.C===y;)e===e.P.L?(n=e.P.R,n.C===P&&(n.C=y,e.P.C=P,O(t,e.P),n=e.P.R),n.L.C===y&&n.R.C===y?(n.C=P,e=e.P):(n.R.C===y&&(n.L.C=y,n.C=P,N(t,n),n=e.P.R),n.C=e.P.C,e.P.C=y,n.R.C=y,O(t,e.P),e=t.root)):(n=e.P.L,n.C===P&&(n.C=y,e.P.C=P,N(t,e.P),n=e.P.L),n.R.C===y&&n.L.C===y?(n.C=P,e=e.P):(n.L.C===y&&(n.R.C=y,n.C=P,O(t,n),n=e.P.L),n.C=e.P.C,e.P.C=y,n.L.C=y,N(t,e.P),e=t.root));e.C=y}function Ue(t){for(;t.L!==p;)t=t.L;return t}function Be(t,e){let n;for(;e.P.C===P;)e.P===e.P.P.L?(n=e.P.P.R,n.C===P?(e.P.C=y,n.C=y,e.P.P.C=P,e=e.P.P):(e===e.P.R&&(e=e.P,O(t,e)),e.P.C=y,e.P.P.C=P,N(t,e.P.P))):(n=e.P.P.L,n.C===P?(e.P.C=y,n.C=y,e.P.P.C=P,e=e.P.P):(e===e.P.L&&(e=e.P,N(t,e)),e.P.C=y,e.P.P.C=P,O(t,e.P.P)));t.root.C=y}function qe(){const t={root:p,size:0},e={};return{insert(n,o,i){let s=t.root,r=p;for(;s!==p&&(r=s,n!==r.low);)n<s.low?s=s.L:s=s.R;if(n===r.low&&r!==p){if(!ze(r,o,i))return;r.high=Math.max(r.high,o),T(r),_(r),e[i]=r,t.size++;return}const c={low:n,high:o,max:o,C:P,P:r,L:p,R:p,list:{index:i,high:o,next:null}};r===p?t.root=c:(c.low<r.low?r.L=c:r.R=c,_(c)),Be(t,c),e[i]=c,t.size++},remove(n){const o=e[n];if(o===void 0)return;delete e[n];const i=_e(o,n);if(i===void 0)return;if(i===Z){o.high=o.list.high,T(o),_(o),t.size--;return}let s=o,r=s.C,c;o.L===p?(c=o.R,F(t,o,o.R)):o.R===p?(c=o.L,F(t,o,o.L)):(s=Ue(o.R),r=s.C,c=s.R,s.P===o?c.P=s:(F(t,s,s.R),s.R=o.R,s.R.P=s),F(t,o,s),s.L=o.L,s.L.P=s,s.C=o.C),T(c),_(c),r===y&&Fe(t,c),t.size--},search(n,o,i){const s=[t.root];for(;s.length!==0;){const r=s.pop();if(!(r===p||n>r.max)&&(r.L!==p&&s.push(r.L),r.R!==p&&s.push(r.R),r.low<=o&&r.high>=n)){let c=r.list;for(;c!==null;)c.high>=n&&i(c.index,r.low),c=c.next}}},get size(){return t.size}}}const q=t=>{const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),e},Ke=(t,e=100,n=!1)=>{const o=q(t),i=h.useRef(),s=[e,n,o];function r(){i.current&&clearTimeout(i.current),i.current=void 0}h.useEffect(()=>r,s);function c(){i.current=void 0}return h.useCallback(function(){const d=arguments,{current:l}=i;if(l===void 0&&n)return i.current=setTimeout(c,e),o.current.apply(null,d);l&&clearTimeout(l),i.current=setTimeout(()=>{i.current=void 0,o.current.apply(null,d)},e)},s)},$e=(t,e,n)=>{const o=h.useState(t);return[o[0],Ke(o[1],e,n)]};function W(t,e,n,o){const i=h.useRef(n),s=h.useRef(o);h.useEffect(()=>{i.current=n,s.current=o}),h.useEffect(()=>{const r=t&&"current"in t?t.current:t;if(!r)return;let c=0;function d(...a){c||i.current.apply(this,a)}r.addEventListener(e,d);const l=s.current;return()=>{c=1,r.removeEventListener(e,d),l&&l()}},[t,e])}const Ye={},H=typeof window>"u"?null:window,Ve=H&&typeof H.visualViewport<"u"?H.visualViewport:null,ae=()=>[document.documentElement.clientWidth,document.documentElement.clientHeight],Xe=function(t){t===void 0&&(t=Ye);const{wait:e,leading:n,initialWidth:o=0,initialHeight:i=0}=t,[s,r]=$e(typeof document>"u"?[o,i]:ae,e,n),c=()=>r(ae);return W(H,"resize",c),W(Ve,"resize",c),W(H,"orientationchange",c),s},K=(t,e)=>{const n=e||Ge;let o,i;return function(){return o&&n(arguments,o)?i:i=t.apply(null,o=arguments)}},Ge=(t,e)=>t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3];class ue{constructor(){this.set=void 0,this.get=void 0;let e,n;this.get=o=>o===e?n:void 0,this.set=(o,i)=>{e=o,n=i}}}const Q=t=>{try{return new t}catch{const n={};return{set(o,i){n[o]=i},get(o){return n[o]}}}},Je=t=>{const e=t.length,n=Q(t[0]);let o,i,s,r;const c=e===1,d=u=>(o=n.get(u[0]))===void 0||c?o:o.get(u[1]),l=(u,f)=>(c?n.set(u[0],f):(o=n.get(u[0]))===void 0?(i=Q(t[1]),i.set(u[1],f),n.set(u[0],i)):o.set(u[1],f),f),a=u=>{for(r=n,s=0;s<e;s++)if((r=r.get(u[s]))===void 0)return;return r},m=(u,f)=>{for(r=n,s=0;s<e-1;s++)(i=r.get(u[s]))===void 0&&(i=Q(t[s+1]),r.set(u[s],i)),r=i;return r.set(u[e-1],f),f};return e<3?{g:d,s:l}:{g:a,s:m}},ye=(t,e)=>{let n;const{g:o,s:i}=Je(t);return function(){return(n=o(arguments))===void 0?i(arguments,e.apply(null,arguments)):n}},ee=new WeakMap;function we(){const t=h.useState(Qe)[1];return h.useRef(()=>t({})).current}const Qe={},U=h.createElement;function Ze(t){let{positioner:e,resizeObserver:n,items:o,as:i="div",id:s,className:r,style:c,role:d="grid",tabIndex:l=0,containerRef:a,itemAs:m="div",itemStyle:u,itemHeightEstimate:f=300,itemKey:g=nt,overscanBy:v=2,scrollTop:C,isScrolling:w,height:R,render:S,onRender:$}=t,I=0,E;const xe=we(),oe=it(e,n),Y=o.length,{columnWidth:A,columnCount:Le,range:Te,estimateHeight:Ee,size:Me,shortestColumn:Se}=e,D=Me(),ie=Se(),V=[],se=d==="list"?"listitem":d==="grid"?"gridcell":void 0,X=q($);v=R*v;const re=C+v,G=ie<re&&D<Y;if(Te(Math.max(0,C-v/2),re,(x,L,z)=>{const j=o[x],J=g(j,x),le={top:z,left:L,width:A,writingMode:"horizontal-tb",position:"absolute"};typeof process<"u",V.push(U(m,{key:J,ref:oe(x),role:se,style:typeof u=="object"&&u!==null?Object.assign({},le,u):le},de(S,x,j,A))),E===void 0?(I=x,E=x):(I=Math.min(I,x),E=Math.max(E,x))}),G){const x=Math.min(Y-D,Math.ceil((C+v-ie)/f*Le));let L=D;const z=ot(A);for(;L<D+x;L++){const j=o[L],J=g(j,L);typeof process<"u",V.push(U(m,{key:J,ref:oe(L),role:se,style:typeof u=="object"?Object.assign({},z,u):z},de(S,L,j,A)))}}h.useEffect(()=>{typeof X.current=="function"&&E!==void 0&&X.current(I,E,o),fe="1"},[I,E,o,X]),h.useEffect(()=>{G&&xe()},[G,e]);const ce=et(w,Ee(Y,f));return U(i,{ref:a,key:fe,id:s,role:d,className:r,tabIndex:l,style:typeof c=="object"?tt(ce,c):ce,children:V})}let fe="0";const de=ye([ue,{},WeakMap,ue],(t,e,n,o)=>U(t,{index:e,data:n,width:o})),et=K((t,e)=>({position:"relative",width:"100%",maxWidth:"100%",height:Math.ceil(e),maxHeight:Math.ceil(e),willChange:t?"contents":void 0,pointerEvents:t?"none":void 0})),Pe=(t,e)=>t[0]===e[0]&&t[1]===e[1],tt=K((t,e)=>Object.assign({},t,e),Pe);function nt(t,e){return e}const ot=K(t=>({width:t,zIndex:-1e3,visibility:"hidden",position:"absolute",writingMode:"horizontal-tb"}),(t,e)=>t[0]===e[0]),it=K((t,e)=>n=>o=>{o!==null&&(e&&(e.observe(o),ee.set(o,n)),t.get(n)===void 0&&t.set(n,o.offsetHeight))},Pe);let Ce="undefined",M=typeof window!==Ce?window:{},st=typeof performance!==Ce?performance:Date,te=()=>st.now(),Re="AnimationFrame",he="cancel"+Re,me="request"+Re,B=M[me]&&M[me].bind(M),ne=M[he]&&M[he].bind(M);function rt(t){return clearTimeout(t)}if(!B||!ne){let t=0;B=e=>{let n=te(),o=Math.max(t+1e3/60,n);return setTimeout(()=>{e(t=o)},o-n)},ne=rt}const ct=t=>{ne(t.v||-1)},lt=(t,e)=>{const n=te(),o={},i=()=>{te()-n>=e?t.call(null):o.v=B(i)};return o.v=B(i),o},at=typeof performance<"u"?performance:Date,ut=()=>at.now();function be(t,e=30,n=!1){const o=q(t),i=1e3/e,s=h.useRef(0),r=h.useRef(),c=()=>r.current&&clearTimeout(r.current),d=[e,n,o];function l(){s.current=0,c()}return h.useEffect(()=>l,d),h.useCallback(function(){const a=arguments,m=ut(),u=()=>{s.current=m,c(),o.current.apply(null,a)},f=s.current;if(n&&f===0)return u();if(m-f>i){if(f>0)return u();s.current=m}c(),r.current=setTimeout(()=>{u(),s.current=0},i)},d)}function ft(t,e,n){const o=h.useState(t);return[o[0],be(o[1],e,n)]}const k=typeof window>"u"?null:window,pe=()=>k.scrollY!==void 0?k.scrollY:k.pageYOffset===void 0?0:k.pageYOffset,dt=(t=30)=>{const e=ft(typeof window>"u"?0:pe,t,!0);return W(k,"scroll",()=>e[1](pe())),e[0]};function ht(t,e){t===void 0&&(t=0),e===void 0&&(e=12);const n=dt(e),[o,i]=h.useState(!1),s=h.useRef(0);return h.useEffect(()=>{s.current===1&&i(!0);let r=!1;const c=lt(()=>{r||i(!1)},40+1e3/e);return s.current=1,()=>{r=!0,ct(c)}},[e,n]),{scrollTop:Math.max(0,n-t),isScrolling:o}}function mt(t){const{scrollTop:e,isScrolling:n}=ht(t.offset,t.scrollFps);return Ze({scrollTop:e,isScrolling:n,positioner:t.positioner,resizeObserver:t.resizeObserver,items:t.items,onRender:t.onRender,as:t.as,id:t.id,className:t.className,style:t.style,role:t.role,tabIndex:t.tabIndex,containerRef:t.containerRef,itemAs:t.itemAs,itemStyle:t.itemStyle,itemHeightEstimate:t.itemHeightEstimate,itemKey:t.itemKey,overscanBy:t.overscanBy,height:t.height,render:t.render})}const pt=je[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"];function gt(t,e){e===void 0&&(e=vt);const[n,o]=h.useState({offset:0,width:0});return pt(()=>{const{current:i}=t;if(i!==null){let s=0,r=i;do s+=r.offsetTop||0,r=r.offsetParent;while(r);(s!==n.offset||i.offsetWidth!==n.width)&&o({offset:s,width:i.offsetWidth})}},e),n}const vt=[];function yt(t,e){let{width:n,columnWidth:o=200,columnGutter:i=0,rowGutter:s,columnCount:r,maxColumnCount:c}=t;e===void 0&&(e=Rt);const d=()=>{const[g,v]=Ct(n,o,i,r,c);return wt(v,g,i,s??i)},l=h.useRef();l.current===void 0&&(l.current=d());const a=h.useRef(e),m=[n,o,i,s,r,c],u=h.useRef(m),f=!m.every((g,v)=>u.current[v]===g);if(typeof process<"u",f||!e.every((g,v)=>a.current[v]===g)){const g=l.current,v=d();if(a.current=e,u.current=m,f){const C=g.size();for(let w=0;w<C;w++){const R=g.get(w);v.set(w,R!==void 0?R.height:0)}}l.current=v}return l.current}const wt=function(t,e,n,o){n===void 0&&(n=0),o===void 0&&(o=n);const i=qe(),s=new Array(t),r=[],c=new Array(t);for(let d=0;d<t;d++)s[d]=0,c[d]=[];return{columnCount:t,columnWidth:e,set:function(d,l){l===void 0&&(l=0);let a=0;for(let u=1;u<s.length;u++)s[u]<s[a]&&(a=u);const m=s[a]||0;s[a]=m+l+o,c[a].push(d),r[d]={left:a*(e+n),top:m,height:l,column:a},i.insert(m,m+l,d)},get:d=>r[d],update:d=>{const l=new Array(t);let a=0,m=0;for(;a<d.length-1;a++){const u=d[a],f=r[u];f.height=d[++a],i.remove(u),i.insert(f.top,f.top+f.height,u),l[f.column]=l[f.column]===void 0?u:Math.min(u,l[f.column])}for(a=0;a<l.length;a++){if(l[a]===void 0)continue;const u=c[a],f=Pt(u,l[a]),g=c[a][f],v=r[g];for(s[a]=v.top+v.height+o,m=f+1;m<u.length;m++){const C=u[m],w=r[C];w.top=s[a],s[a]=w.top+w.height+o,i.remove(C),i.insert(w.top,w.top+w.height,C)}}},range:(d,l,a)=>i.search(d,l,(m,u)=>a(m,r[m].left,u)),estimateHeight:(d,l)=>{const a=Math.max(0,Math.max.apply(null,s));return d===i.size?a:a+Math.ceil((d-i.size)/t)*l},shortestColumn:()=>s.length>1?Math.min.apply(null,s):s[0]||0,size(){return i.size},all(){return r}}},Pt=(t,e)=>{let n=0,o=t.length-1;for(;n<=o;){const i=n+o>>>1,s=t[i];if(s===e)return i;s<=e?n=i+1:o=i-1}return-1},Ct=function(t,e,n,o,i){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=8),o=o||Math.min(Math.floor((t+n)/(e+n)),i||1/0)||1,[Math.floor((t-n*(o-1))/o),o]},Rt=[];var ge=function(e){var n=[],o=null,i=function(){for(var r=arguments.length,c=new Array(r),d=0;d<r;d++)c[d]=arguments[d];n=c,!o&&(o=requestAnimationFrame(function(){o=null,e.apply(void 0,n)}))};return i.cancel=function(){o&&(cancelAnimationFrame(o),o=null)},i};function bt(t){const e=we(),n=Lt(t,e);function o(){return n.disconnect()}return h.useEffect(()=>o,[n]),n}function xt(t){t.cancel()}const Lt=ye([WeakMap],(t,e)=>{const n=[],o=ge(()=>{n.length>0&&(t.update(n),e(n)),n.length=0}),i=l=>{const a=l.offsetHeight;if(a>0){const m=ee.get(l);if(m!==void 0){const u=t.get(m);u!==void 0&&a!==u.height&&n.push(m,a)}}o()},s=new Map,r=l=>{let a=0;for(;a<l.length;a++){const m=l[a],u=ee.get(m.target);if(u===void 0)continue;let f=s.get(u);f||(f=ge(i),s.set(u,f)),f(m.target)}},c=new ResizeObserver(r),d=c.disconnect.bind(c);return c.disconnect=()=>{d(),s.forEach(xt)},c});function Tt(t,e){var n;const{align:o="top",element:i=typeof window<"u"&&window,offset:s=0,height:r=typeof window<"u"?window.innerHeight:0}=e,c=q({positioner:t,element:i,align:o,offset:s,height:r}),d=h.useRef(()=>{const f=c.current.element;return f&&"current"in f?f.current:f}).current,[l,a]=h.useReducer((f,g)=>{const v={position:f.position,index:f.index,prevTop:f.prevTop};if(g.type==="scrollToIndex"){var C;return{position:c.current.positioner.get((C=g.value)!==null&&C!==void 0?C:-1),index:g.value,prevTop:void 0}}else if(g.type==="setPosition")v.position=g.value;else if(g.type==="setPrevTop")v.prevTop=g.value;else if(g.type==="reset")return ve;return v},ve),m=be(a,15);W(d(),"scroll",()=>{if(!l.position&&l.index){const f=c.current.positioner.get(l.index);f&&a({type:"setPosition",value:f})}});const u=l.index!==void 0&&((n=c.current.positioner.get(l.index))===null||n===void 0?void 0:n.top);return h.useEffect(()=>{const f=d();if(!f)return;const{height:g,align:v,offset:C,positioner:w}=c.current;if(l.position){let R=l.position.top;v==="bottom"?R=R-g+l.position.height:v==="center"&&(R-=(g-l.position.height)/2),f.scrollTo(0,Math.max(0,R+=C));let S=!1;const $=setTimeout(()=>!S&&a({type:"reset"}),400);return()=>{S=!0,clearTimeout($)}}else if(l.index!==void 0){let R=w.shortestColumn()/w.size()*l.index;l.prevTop&&(R=Math.max(R,l.prevTop+g)),f.scrollTo(0,R),m({type:"setPrevTop",value:R})}},[u,l,c,d,m]),h.useRef(f=>{a({type:"scrollToIndex",value:f})}).current}const ve={index:void 0,position:void 0,prevTop:void 0},Et=h.createElement;function Mt(t){const e=h.useRef(null),n=Xe({initialWidth:t.ssrWidth,initialHeight:t.ssrHeight}),o=gt(e,n),i=Object.assign({offset:o.offset,width:o.width||n[0],height:n[1],containerRef:e},t);i.positioner=yt(i),i.resizeObserver=bt(i.positioner);const s=Tt(i.positioner,{height:i.height,offset:o.offset,align:typeof t.scrollToIndex=="object"?t.scrollToIndex.align:void 0}),r=t.scrollToIndex&&(typeof t.scrollToIndex=="number"?t.scrollToIndex:t.scrollToIndex.index);return h.useEffect(()=>{r!==void 0&&s(r)},[r,s]),Et(mt,i)}const St=t=>{const e=t.slice();for(let n=e.length-1;n>0;n--){const o=Math.floor(Math.random()*(n+1));[e[n],e[o]]=[e[o],e[n]]}return e},It=(t,e)=>t*(1-e+e*Math.random());function jt({song:t}){const e=Oe(),[n,o]=h.useState(!1),[i,s]=h.useState(!1),r=()=>{console.log("Error showing image in gallery!"),o(!0)},[c,d]=h.useState(null),[l,a]=h.useState(0);return h.useEffect(()=>{d(It(512,.3))},[]),b.jsx(b.Fragment,{children:b.jsxs("div",{className:"w-full relative "+(n?"hidden":"flex"),style:{height:c},children:[b.jsx("div",{className:"background-image flex w-full rounded-lg",onError:r,style:{backgroundImage:`url("${t.illustrationURL()}")`}}),b.jsx("div",{className:"image-overlay absolute overflow-hidden rounded-lg z-10 border border-1 border-glass/30 backdrop-blur-lg bg-primary/30 "+("opacity-"+l),onMouseOver:()=>a(100),onMouseOut:()=>a(0),onMouseEnter:()=>s(!0),onClick:()=>s(!0),children:b.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-start pt-4 overflow-hidden ",children:[b.jsx(He,{className:"absolute top-4 right-4 w-8 h-8 text-white/80 hover:text-white",onClick:()=>a(0)}),b.jsx("h2",{className:"text-tiny text-white/90 font-bold uppercase text-shadow",children:t.artist}),b.jsx("h2",{className:"text-white font-bold text-shadow",children:t.title}),b.jsx(We,{song:t,show:i,className:"text-white h-32"}),b.jsx(Ne,{onClick:()=>e(t.url()),className:"w-full rounded-t-none bg-primary text-white text-md backdrop-blur-sm hover:bg-background hover:text-primary"+(i?"":" hidden"),children:"View"})]})})]})})}const Wt=()=>{const t=ke(),e=St(t.songs);h.useState(null);const n=({index:i,data:s,width:r})=>b.jsx(jt,{song:s}),o=()=>{const i=[700,1200,1800],s=window.innerWidth;for(const r of Array(3).keys())if(console.log(r,s,window.innerWidth),s<i[r])return s/(r+2)};return b.jsx("div",{className:"max-w-full m-[10px]",children:b.jsx(Mt,{items:e,render:n,columnGutter:10,rowGutter:10,columnWidth:o()})})};export{Wt as default};
//# sourceMappingURL=SongGallery-CwuRkBL7.js.map
