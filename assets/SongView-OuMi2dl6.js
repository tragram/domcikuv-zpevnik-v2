import{c as xt,r as X,R as qt,n as Jt,g as xs,K as Wu,j as A,N as Vu,L as Yu,d as de,o as Xu,m as Qu,l as Zu}from"./index-CWAs3TgC.js";import{q as Ju,d as Xe,e as Qe,f as Ye,g as fe,o as bn,n as _r,T as Ts,i as Es,j as ws,k as Os,r as qu,p as tc}from"./fancy-switch-C-0JWBFp.js";import{B as Wt,a as ec}from"./index-C-qo8f6P.js";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=xt("AArrowDown",[["path",{d:"M3.5 13h6",key:"p1my2r"}],["path",{d:"m2 16 4.5-9 4.5 9",key:"ndf0b3"}],["path",{d:"M18 7v9",key:"pknjwm"}],["path",{d:"m14 12 4 4 4-4",key:"buelq4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=xt("AArrowUp",[["path",{d:"M3.5 13h6",key:"p1my2r"}],["path",{d:"m2 16 4.5-9 4.5 9",key:"ndf0b3"}],["path",{d:"M18 16V7",key:"ty0viw"}],["path",{d:"m14 11 4-4 4 4",key:"1pu57t"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=xt("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=xt("ArrowBigUpDash",[["path",{d:"M9 19h6",key:"456am0"}],["path",{d:"M9 15v-3H5l7-7 7 7h-4v3H9z",key:"1r2uve"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=xt("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=xt("ChevronsLeftRightEllipsis",[["path",{d:"m18 8 4 4-4 4",key:"1ak13k"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=xt("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=xt("Fullscreen",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["rect",{width:"10",height:"8",x:"7",y:"8",rx:"1",key:"vys8me"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=xt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=xt("Guitar",[["path",{d:"m11.9 12.1 4.514-4.514",key:"109xqo"}],["path",{d:"M20.1 2.3a1 1 0 0 0-1.4 0l-1.114 1.114A2 2 0 0 0 17 4.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 17.828 7h1.344a2 2 0 0 0 1.414-.586L21.7 5.3a1 1 0 0 0 0-1.4z",key:"txyc8t"}],["path",{d:"m6 16 2 2",key:"16qmzd"}],["path",{d:"M8.2 9.9C8.7 8.8 9.8 8 11 8c2.8 0 5 2.2 5 5 0 1.2-.8 2.3-1.9 2.8l-.9.4A2 2 0 0 0 12 18a4 4 0 0 1-4 4c-3.3 0-6-2.7-6-6a4 4 0 0 1 4-4 2 2 0 0 0 1.8-1.2z",key:"1u8q3z"}],["circle",{cx:"11.5",cy:"12.5",r:".5",fill:"currentColor",key:"16onso"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=xt("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=xt("MoveDiagonal",[["path",{d:"M11 19H5v-6",key:"8awifj"}],["path",{d:"M13 5h6v6",key:"7voy1q"}],["path",{d:"M19 5 5 19",key:"wwaj1z"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=xt("MoveHorizontal",[["path",{d:"m18 8 4 4-4 4",key:"1ak13k"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=xt("PencilRuler",[["path",{d:"M13 7 8.7 2.7a2.41 2.41 0 0 0-3.4 0L2.7 5.3a2.41 2.41 0 0 0 0 3.4L7 13",key:"orapub"}],["path",{d:"m8 6 2-2",key:"115y1s"}],["path",{d:"m18 16 2-2",key:"ee94s4"}],["path",{d:"m17 11 4.3 4.3c.94.94.94 2.46 0 3.4l-2.6 2.6c-.94.94-2.46.94-3.4 0L11 17",key:"cfq27r"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=xt("Piano",[["path",{d:"M18.5 8c-1.4 0-2.6-.8-3.2-2A6.87 6.87 0 0 0 2 9v11a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-8.5C22 9.6 20.4 8 18.5 8",key:"lag0yf"}],["path",{d:"M2 14h20",key:"myj16y"}],["path",{d:"M6 14v4",key:"9ng0ue"}],["path",{d:"M10 14v4",key:"1v8uk5"}],["path",{d:"M14 14v4",key:"1tqops"}],["path",{d:"M18 14v4",key:"18uqwm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=xt("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=xt("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=xt("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);var Lt={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},fa=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],da=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],ha=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],Pt=typeof window<"u"&&typeof window.document<"u"?window.document:{},Ft="fullscreenEnabled"in Pt&&Object.keys(Lt)||fa[0]in Pt&&fa||da[0]in Pt&&da||ha[0]in Pt&&ha||[],Zt={requestFullscreen:function(e){return e[Ft[Lt.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[Ft[Lt.requestFullscreen]]},get exitFullscreen(){return Pt[Ft[Lt.exitFullscreen]].bind(Pt)},get fullscreenPseudoClass(){return":"+Ft[Lt.fullscreen]},addEventListener:function(e,t,r){return Pt.addEventListener(Ft[Lt[e]],t,r)},removeEventListener:function(e,t,r){return Pt.removeEventListener(Ft[Lt[e]],t,r)},get fullscreenEnabled(){return!!Pt[Ft[Lt.fullscreenEnabled]]},set fullscreenEnabled(e){},get fullscreenElement(){return Pt[Ft[Lt.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return Pt[("on"+Ft[Lt.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return Pt[("on"+Ft[Lt.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return Pt[("on"+Ft[Lt.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return Pt[("on"+Ft[Lt.fullscreenerror]).toLowerCase()]=e}};function mc(){var e=X.useState(!1),t=e[0],r=e[1],i=X.useRef(null);X.useEffect(function(){var s=function(){r(Zt.fullscreenElement===i.current)};return Zt.addEventListener("fullscreenchange",s),function(){return Zt.removeEventListener("fullscreenchange",s)}},[]);var d=X.useCallback(function(){if(Zt.fullscreenElement)return Zt.exitFullscreen().then(function(){return Zt.requestFullscreen(i.current)});if(i.current)return Zt.requestFullscreen(i.current)},[]),b=X.useCallback(function(){return Zt.fullscreenElement===i.current?Zt.exitFullscreen():Promise.resolve()},[]);return X.useMemo(function(){return{active:t,enter:d,exit:b,node:i}},[t,d,b])}var vc=function(t){var r=t.handle,i=t.onChange,d=t.children,b=t.className,s=[];return b&&s.push(b),s.push("fullscreen"),r.active&&s.push("fullscreen-enabled"),X.useEffect(function(){i&&i(r.active,r)},[r.active]),qt.createElement("div",{className:s.join(" "),ref:r.node,style:r.active?{height:"100%",width:"100%"}:void 0},d)};function gc(e,t,r){return Math.max(t,Math.min(e,r))}const lt={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function pa(e,t,r){return t===0||Math.abs(t)===1/0?Math.pow(e,r*5):e*t*r/(t+r*e)}function ma(e,t,r,i=.15){return i===0?gc(e,t,r):e<t?-pa(t-e,r-t,i)+t:e>r?+pa(e-r,r-t,i)+r:e}function yc(e,[t,r],[i,d]){const[[b,s],[l,n]]=e;return[ma(t,b,s,i),ma(r,l,n,d)]}function bc(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sc(e){var t=bc(e,"string");return typeof t=="symbol"?t:String(t)}function yt(e,t,r){return t=Sc(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function va(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),r.push.apply(r,i)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?va(Object(r),!0).forEach(function(i){yt(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):va(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}const Ms={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function ga(e){return e?e[0].toUpperCase()+e.slice(1):""}const _c=["enter","leave"];function xc(e=!1,t){return e&&!_c.includes(t)}function Tc(e,t="",r=!1){const i=Ms[e],d=i&&i[t]||t;return"on"+ga(e)+ga(d)+(xc(r,d)?"Capture":"")}const Ec=["gotpointercapture","lostpointercapture"];function wc(e){let t=e.substring(2).toLowerCase();const r=!!~t.indexOf("passive");r&&(t=t.replace("passive",""));const i=Ec.includes(t)?"capturecapture":"capture",d=!!~t.indexOf(i);return d&&(t=t.replace("capture","")),{device:t,capture:d,passive:r}}function Oc(e,t=""){const r=Ms[e],i=r&&r[t]||t;return e+i}function Mr(e){return"touches"in e}function js(e){return Mr(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function Ac(e){return Array.from(e.touches).filter(t=>{var r,i;return t.target===e.currentTarget||((r=e.currentTarget)===null||r===void 0||(i=r.contains)===null||i===void 0?void 0:i.call(r,t.target))})}function Cc(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function Ds(e){return Mr(e)?Cc(e)[0]:e}function Sn(e,t){try{const r=t.clientX-e.clientX,i=t.clientY-e.clientY,d=(t.clientX+e.clientX)/2,b=(t.clientY+e.clientY)/2,s=Math.hypot(r,i);return{angle:-(Math.atan2(r,i)*180)/Math.PI,distance:s,origin:[d,b]}}catch{}return null}function Ic(e){return Ac(e).map(t=>t.identifier)}function ya(e,t){const[r,i]=Array.from(e.touches).filter(d=>t.includes(d.identifier));return Sn(r,i)}function ln(e){const t=Ds(e);return Mr(e)?t.identifier:t.pointerId}function Pe(e){const t=Ds(e);return[t.clientX,t.clientY]}const ba=40,Sa=800;function Ls(e){let{deltaX:t,deltaY:r,deltaMode:i}=e;return i===1?(t*=ba,r*=ba):i===2&&(t*=Sa,r*=Sa),[t,r]}function Pc(e){var t,r;const{scrollX:i,scrollY:d,scrollLeft:b,scrollTop:s}=e.currentTarget;return[(t=i??b)!==null&&t!==void 0?t:0,(r=d??s)!==null&&r!==void 0?r:0]}function Mc(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:r,altKey:i,metaKey:d,ctrlKey:b}=e;Object.assign(t,{shiftKey:r,altKey:i,metaKey:d,ctrlKey:b})}return t}function wr(e,...t){return typeof e=="function"?e(...t):e}function jc(){}function Dc(...e){return e.length===0?jc:e.length===1?e[0]:function(){let t;for(const r of e)t=r.apply(this,arguments)||t;return t}}function _a(e,t){return Object.assign({},t,e||{})}const Lc=32;class Ns{constructor(t,r,i){this.ctrl=t,this.args=r,this.key=i,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:r,ingKey:i,args:d}=this;r[i]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=d,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const r=this.state,i=this.config;r._active||(this.reset(),this.computeInitial(),r._active=!0,r.target=t.target,r.currentTarget=t.currentTarget,r.lastOffset=i.from?wr(i.from,r):r.offset,r.offset=r.lastOffset,r.startTime=r.timeStamp=t.timeStamp)}computeValues(t){const r=this.state;r._values=t,r.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:r,config:i,shared:d}=this;r.args=this.args;let b=0;if(t&&(r.event=t,i.preventDefault&&t.cancelable&&r.event.preventDefault(),r.type=t.type,d.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,d.locked=!!document.pointerLockElement,Object.assign(d,Mc(t)),d.down=d.pressed=d.buttons%2===1||d.touches>0,b=t.timeStamp-r.timeStamp,r.timeStamp=t.timeStamp,r.elapsedTime=r.timeStamp-r.startTime),r._active){const j=r._delta.map(Math.abs);lt.addTo(r._distance,j)}this.axisIntent&&this.axisIntent(t);const[s,l]=r._movement,[n,o]=i.threshold,{_step:u,values:h}=r;if(i.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(s)>=n&&h[0]),u[1]===!1&&(u[1]=Math.abs(l)>=o&&h[1])):(u[0]===!1&&(u[0]=Math.abs(s)>=n&&Math.sign(s)*n),u[1]===!1&&(u[1]=Math.abs(l)>=o&&Math.sign(l)*o)),r.intentional=u[0]!==!1||u[1]!==!1,!r.intentional)return;const p=[0,0];if(i.hasCustomTransform){const[j,G]=h;p[0]=u[0]!==!1?j-u[0]:0,p[1]=u[1]!==!1?G-u[1]:0}else p[0]=u[0]!==!1?s-u[0]:0,p[1]=u[1]!==!1?l-u[1]:0;this.restrictToAxis&&!r._blocked&&this.restrictToAxis(p);const v=r.offset,g=r._active&&!r._blocked||r.active;g&&(r.first=r._active&&!r.active,r.last=!r._active&&r.active,r.active=d[this.ingKey]=r._active,t&&(r.first&&("bounds"in i&&(r._bounds=wr(i.bounds,r)),this.setup&&this.setup()),r.movement=p,this.computeOffset()));const[S,_]=r.offset,[[E,w],[I,M]]=r._bounds;r.overflow=[S<E?-1:S>w?1:0,_<I?-1:_>M?1:0],r._movementBound[0]=r.overflow[0]?r._movementBound[0]===!1?r._movement[0]:r._movementBound[0]:!1,r._movementBound[1]=r.overflow[1]?r._movementBound[1]===!1?r._movement[1]:r._movementBound[1]:!1;const D=r._active?i.rubberband||[0,0]:[0,0];if(r.offset=yc(r._bounds,r.offset,D),r.delta=lt.sub(r.offset,v),this.computeMovement(),g&&(!r.last||b>Lc)){r.delta=lt.sub(r.offset,v);const j=r.delta.map(Math.abs);lt.addTo(r.distance,j),r.direction=r.delta.map(Math.sign),r._direction=r._delta.map(Math.sign),!r.first&&b>0&&(r.velocity=[j[0]/b,j[1]/b],r.timeDelta=b)}}emit(){const t=this.state,r=this.shared,i=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!i.triggerAllEvents)return;const d=this.handler(vt(vt(vt({},r),t),{},{[this.aliasKey]:t.values}));d!==void 0&&(t.memo=d)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function Nc([e,t],r){const i=Math.abs(e),d=Math.abs(t);if(i>d&&i>r)return"x";if(d>i&&d>r)return"y"}class Ze extends Ns{constructor(...t){super(...t),yt(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=lt.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=lt.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const r=this.state,i=this.config;if(!r.axis&&t){const d=typeof i.axisThreshold=="object"?i.axisThreshold[js(t)]:i.axisThreshold;r.axis=Nc(r._movement,d)}r._blocked=(i.lockDirection||!!i.axis)&&!r.axis||!!i.axis&&i.axis!==r.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const Rc=e=>e,xa=.15,Rs={enabled(e=!0){return e},eventOptions(e,t,r){return vt(vt({},r.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[xa,xa];case!1:return[0,0];default:return lt.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return lt.toVector(e)},transform(e,t,r){const i=e||r.shared.transform;return this.hasCustomTransform=!!i,i||Rc},threshold(e){return lt.toVector(e,0)}},Fc=0,be=vt(vt({},Rs),{},{axis(e,t,{axis:r}){if(this.lockDirection=r==="lock",!this.lockDirection)return r},axisThreshold(e=Fc){return e},bounds(e={}){if(typeof e=="function")return b=>be.bounds(e(b));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:r=1/0,top:i=-1/0,bottom:d=1/0}=e;return[[t,r],[i,d]]}}),Ta={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class $c extends Ze{constructor(...t){super(...t),yt(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const r=t._bounds.getBoundingClientRect(),i=t.currentTarget.getBoundingClientRect(),d={left:r.left-i.left+t.offset[0],right:r.right-i.right+t.offset[0],top:r.top-i.top+t.offset[1],bottom:r.bottom-i.bottom+t.offset[1]};t._bounds=be.bounds(d)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const r=this.config,i=this.state;if(t.buttons!=null&&(Array.isArray(r.pointerButtons)?!r.pointerButtons.includes(t.buttons):r.pointerButtons!==-1&&r.pointerButtons!==t.buttons))return;const d=this.ctrl.setEventIds(t);r.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(d&&d.size>1&&i._pointerActive)&&(this.start(t),this.setupPointer(t),i._pointerId=ln(t),i._pointerActive=!0,this.computeValues(Pe(t)),this.computeInitial(),r.preventScrollAxis&&js(t)!=="mouse"?(i._active=!1,this.setupScrollPrevention(t)):r.delay>0?(this.setupDelayTrigger(t),r.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const r=this.state;r._active=!0,r._preventScroll=!0,r._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const r=this.state,i=this.config;if(!r._pointerActive)return;const d=ln(t);if(r._pointerId!==void 0&&d!==r._pointerId)return;const b=Pe(t);if(document.pointerLockElement===t.target?r._delta=[t.movementX,t.movementY]:(r._delta=lt.sub(b,r._values),this.computeValues(b)),lt.addTo(r._movement,r._delta),this.compute(t),r._delayed&&r.intentional){this.timeoutStore.remove("dragDelay"),r.active=!1,this.startPointerDrag(t);return}if(i.preventScrollAxis&&!r._preventScroll)if(r.axis)if(r.axis===i.preventScrollAxis||i.preventScrollAxis==="xy"){r._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const r=this.state,i=this.config;if(!r._active||!r._pointerActive)return;const d=ln(t);if(r._pointerId!==void 0&&d!==r._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[b,s]=r._distance;if(r.tap=b<=i.tapsThreshold&&s<=i.tapsThreshold,r.tap&&i.filterTaps)r._force=!0;else{const[l,n]=r._delta,[o,u]=r._movement,[h,p]=i.swipe.velocity,[v,g]=i.swipe.distance,S=i.swipe.duration;if(r.elapsedTime<S){const _=Math.abs(l/r.timeDelta),E=Math.abs(n/r.timeDelta);_>h&&Math.abs(o)>v&&(r.swipe[0]=Math.sign(l)),E>p&&Math.abs(u)>g&&(r.swipe[1]=Math.sign(n))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const r=this.config,i=r.device;r.pointerLock&&t.currentTarget.requestPointerLock(),r.pointerCapture||(this.eventStore.add(this.sharedConfig.window,i,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,Hc(t);const r=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",r),this.eventStore.add(this.sharedConfig.window,"touch","cancel",r),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const r=Ta[t.key];if(r){const i=this.state,d=t.shiftKey?10:t.altKey?.1:1;this.start(t),i._delta=r(this.config.keyboardDisplacement,d),i._keyboardActive=!0,lt.addTo(i._movement,i._delta),this.compute(t),this.emit()}}keyUp(t){t.key in Ta&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const r=this.config.device;t(r,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(r,"change",this.pointerMove.bind(this)),t(r,"end",this.pointerUp.bind(this)),t(r,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function Hc(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const Je=typeof window<"u"&&window.document&&window.document.createElement;function Fs(){return Je&&"ontouchstart"in window}function kc(){return Fs()||Je&&window.navigator.maxTouchPoints>1}function Bc(){return Je&&"onpointerdown"in window}function zc(){return Je&&"exitPointerLock"in window.document}function Gc(){try{return"constructor"in GestureEvent}catch{return!1}}const $t={isBrowser:Je,gesture:Gc(),touch:Fs(),touchscreen:kc(),pointer:Bc(),pointerLock:zc()},Uc=250,Kc=180,Wc=.5,Vc=50,Yc=250,Xc=10,Ea={mouse:0,touch:0,pen:8},Qc=vt(vt({},be),{},{device(e,t,{pointer:{touch:r=!1,lock:i=!1,mouse:d=!1}={}}){return this.pointerLock=i&&$t.pointerLock,$t.touch&&r?"touch":this.pointerLock?"mouse":$t.pointer&&!d?"pointer":$t.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:r}){if(this.preventScrollDelay=typeof r=="number"?r:r||r===void 0&&e?Uc:void 0,!(!$t.touchscreen||r===!1))return e||(r!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:r=!0,buttons:i=1,keys:d=!0}={}}){return this.pointerButtons=i,this.keys=d,!this.pointerLock&&this.device==="pointer"&&r},threshold(e,t,{filterTaps:r=!1,tapsThreshold:i=3,axis:d=void 0}){const b=lt.toVector(e,r?i:d?1:0);return this.filterTaps=r,this.tapsThreshold=i,b},swipe({velocity:e=Wc,distance:t=Vc,duration:r=Yc}={}){return{velocity:this.transform(lt.toVector(e)),distance:this.transform(lt.toVector(t)),duration:r}},delay(e=0){switch(e){case!0:return Kc;case!1:return 0;default:return e}},axisThreshold(e){return e?vt(vt({},Ea),e):Ea},keyboardDisplacement(e=Xc){return e}});function $s(e){const[t,r]=e.overflow,[i,d]=e._delta,[b,s]=e._direction;(t<0&&i>0&&b<0||t>0&&i<0&&b>0)&&(e._movement[0]=e._movementBound[0]),(r<0&&d>0&&s<0||r>0&&d<0&&s>0)&&(e._movement[1]=e._movementBound[1])}const Zc=30,Jc=100;class qc extends Ns{constructor(...t){super(...t),yt(this,"ingKey","pinching"),yt(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const t=this.state;t._touchIds=[],t.canceled=!1,t.cancel=this.cancel.bind(this),t.turns=0}computeOffset(){const{type:t,movement:r,lastOffset:i}=this.state;t==="wheel"?this.state.offset=lt.add(r,i):this.state.offset=[(1+r[0])*i[0],r[1]+i[1]]}computeMovement(){const{offset:t,lastOffset:r}=this.state;this.state.movement=[t[0]/r[0],t[1]-r[1]]}axisIntent(){const t=this.state,[r,i]=t._movement;if(!t.axis){const d=Math.abs(r)*Zc-Math.abs(i);d<0?t.axis="angle":d>0&&(t.axis="scale")}}restrictToAxis(t){this.config.lockDirection&&(this.state.axis==="scale"?t[1]=0:this.state.axis==="angle"&&(t[0]=0))}cancel(){const t=this.state;t.canceled||setTimeout(()=>{t.canceled=!0,t._active=!1,this.compute(),this.emit()},0)}touchStart(t){this.ctrl.setEventIds(t);const r=this.state,i=this.ctrl.touchIds;if(r._active&&r._touchIds.every(b=>i.has(b))||i.size<2)return;this.start(t),r._touchIds=Array.from(i).slice(0,2);const d=ya(t,r._touchIds);d&&this.pinchStart(t,d)}pointerStart(t){if(t.buttons!=null&&t.buttons%2!==1)return;this.ctrl.setEventIds(t),t.target.setPointerCapture(t.pointerId);const r=this.state,i=r._pointerEvents,d=this.ctrl.pointerIds;if(r._active&&Array.from(i.keys()).every(s=>d.has(s))||(i.size<2&&i.set(t.pointerId,t),r._pointerEvents.size<2))return;this.start(t);const b=Sn(...Array.from(i.values()));b&&this.pinchStart(t,b)}pinchStart(t,r){const i=this.state;i.origin=r.origin,this.computeValues([r.distance,r.angle]),this.computeInitial(),this.compute(t),this.emit()}touchMove(t){if(!this.state._active)return;const r=ya(t,this.state._touchIds);r&&this.pinchMove(t,r)}pointerMove(t){const r=this.state._pointerEvents;if(r.has(t.pointerId)&&r.set(t.pointerId,t),!this.state._active)return;const i=Sn(...Array.from(r.values()));i&&this.pinchMove(t,i)}pinchMove(t,r){const i=this.state,d=i._values[1],b=r.angle-d;let s=0;Math.abs(b)>270&&(s+=Math.sign(b)),this.computeValues([r.distance,r.angle-360*s]),i.origin=r.origin,i.turns=s,i._movement=[i._values[0]/i._initial[0]-1,i._values[1]-i._initial[1]],this.compute(t),this.emit()}touchEnd(t){this.ctrl.setEventIds(t),this.state._active&&this.state._touchIds.some(r=>!this.ctrl.touchIds.has(r))&&(this.state._active=!1,this.compute(t),this.emit())}pointerEnd(t){const r=this.state;this.ctrl.setEventIds(t);try{t.target.releasePointerCapture(t.pointerId)}catch{}r._pointerEvents.has(t.pointerId)&&r._pointerEvents.delete(t.pointerId),r._active&&r._pointerEvents.size<2&&(r._active=!1,this.compute(t),this.emit())}gestureStart(t){t.cancelable&&t.preventDefault();const r=this.state;r._active||(this.start(t),this.computeValues([t.scale,t.rotation]),r.origin=[t.clientX,t.clientY],this.compute(t),this.emit())}gestureMove(t){if(t.cancelable&&t.preventDefault(),!this.state._active)return;const r=this.state;this.computeValues([t.scale,t.rotation]),r.origin=[t.clientX,t.clientY];const i=r._movement;r._movement=[t.scale-1,t.rotation],r._delta=lt.sub(r._movement,i),this.compute(t),this.emit()}gestureEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}wheel(t){const r=this.config.modifierKey;r&&(Array.isArray(r)?!r.find(i=>t[i]):!t[r])||(this.state._active?this.wheelChange(t):this.wheelStart(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(t){this.start(t),this.wheelChange(t)}wheelChange(t){"uv"in t||t.cancelable&&t.preventDefault();const i=this.state;i._delta=[-Ls(t)[1]/Jc*i.offset[0],0],lt.addTo(i._movement,i._delta),$s(i),this.state.origin=[t.clientX,t.clientY],this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){const r=this.config.device;r&&(t(r,"start",this[r+"Start"].bind(this)),t(r,"change",this[r+"Move"].bind(this)),t(r,"end",this[r+"End"].bind(this)),t(r,"cancel",this[r+"End"].bind(this)),t("lostPointerCapture","",this[r+"End"].bind(this))),this.config.pinchOnWheel&&t("wheel","",this.wheel.bind(this),{passive:!1})}}const tl=vt(vt({},Rs),{},{device(e,t,{shared:r,pointer:{touch:i=!1}={}}){if(r.target&&!$t.touch&&$t.gesture)return"gesture";if($t.touch&&i)return"touch";if($t.touchscreen){if($t.pointer)return"pointer";if($t.touch)return"touch"}},bounds(e,t,{scaleBounds:r={},angleBounds:i={}}){const d=s=>{const l=_a(wr(r,s),{min:-1/0,max:1/0});return[l.min,l.max]},b=s=>{const l=_a(wr(i,s),{min:-1/0,max:1/0});return[l.min,l.max]};return typeof r!="function"&&typeof i!="function"?[d(),b()]:s=>[d(s),b(s)]},threshold(e,t,r){return this.lockDirection=r.axis==="lock",lt.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});class el extends Ze{constructor(...t){super(...t),yt(this,"ingKey","moving")}move(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.state._active?this.moveChange(t):this.moveStart(t),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(t){this.start(t),this.computeValues(Pe(t)),this.compute(t),this.computeInitial(),this.emit()}moveChange(t){if(!this.state._active)return;const r=Pe(t),i=this.state;i._delta=lt.sub(r,i._values),lt.addTo(i._movement,i._delta),this.computeValues(r),this.compute(t),this.emit()}moveEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}bind(t){t("pointer","change",this.move.bind(this)),t("pointer","leave",this.moveEnd.bind(this))}}const rl=vt(vt({},be),{},{mouseOnly:(e=!0)=>e});class nl extends Ze{constructor(...t){super(...t),yt(this,"ingKey","scrolling")}scroll(t){this.state._active||this.start(t),this.scrollChange(t),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(t){t.cancelable&&t.preventDefault();const r=this.state,i=Pc(t);r._delta=lt.sub(i,r._values),lt.addTo(r._movement,r._delta),this.computeValues(i),this.compute(t),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("scroll","",this.scroll.bind(this))}}const al=be;class sl extends Ze{constructor(...t){super(...t),yt(this,"ingKey","wheeling")}wheel(t){this.state._active||this.start(t),this.wheelChange(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(t){const r=this.state;r._delta=Ls(t),lt.addTo(r._movement,r._delta),$s(r),this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("wheel","",this.wheel.bind(this))}}const il=be;class ol extends Ze{constructor(...t){super(...t),yt(this,"ingKey","hovering")}enter(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.start(t),this.computeValues(Pe(t)),this.compute(t),this.emit())}leave(t){if(this.config.mouseOnly&&t.pointerType!=="mouse")return;const r=this.state;if(!r._active)return;r._active=!1;const i=Pe(t);r._movement=r._delta=lt.sub(i,r._values),this.computeValues(i),this.compute(t),r.delta=r.movement,this.emit()}bind(t){t("pointer","enter",this.enter.bind(this)),t("pointer","leave",this.leave.bind(this))}}const ul=vt(vt({},be),{},{mouseOnly:(e=!0)=>e}),jn=new Map,_n=new Map;function cl(e){jn.set(e.key,e.engine),_n.set(e.key,e.resolver)}const ll={key:"drag",engine:$c,resolver:Qc},fl={key:"hover",engine:ol,resolver:ul},dl={key:"move",engine:el,resolver:rl},hl={key:"pinch",engine:qc,resolver:tl},pl={key:"scroll",engine:nl,resolver:al},ml={key:"wheel",engine:sl,resolver:il};function vl(e,t){if(e==null)return{};var r={},i=Object.keys(e),d,b;for(b=0;b<i.length;b++)d=i[b],!(t.indexOf(d)>=0)&&(r[d]=e[d]);return r}function gl(e,t){if(e==null)return{};var r=vl(e,t),i,d;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);for(d=0;d<b.length;d++)i=b[d],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}const yl={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=$t.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},bl=["target","eventOptions","window","enabled","transform"];function xr(e={},t){const r={};for(const[i,d]of Object.entries(t))switch(typeof d){case"function":r[i]=d.call(r,e[i],i,e);break;case"object":r[i]=xr(e[i],d);break;case"boolean":d&&(r[i]=e[i]);break}return r}function Sl(e,t,r={}){const i=e,{target:d,eventOptions:b,window:s,enabled:l,transform:n}=i,o=gl(i,bl);if(r.shared=xr({target:d,eventOptions:b,window:s,enabled:l,transform:n},yl),t){const u=_n.get(t);r[t]=xr(vt({shared:r.shared},o),u)}else for(const u in o){const h=_n.get(u);h&&(r[u]=xr(vt({shared:r.shared},o[u]),h))}return r}class Hs{constructor(t,r){yt(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=r}add(t,r,i,d,b){const s=this._listeners,l=Oc(r,i),n=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},o=vt(vt({},n),b);t.addEventListener(l,d,o);const u=()=>{t.removeEventListener(l,d,o),s.delete(u)};return s.add(u),u}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class _l{constructor(){yt(this,"_timeouts",new Map)}add(t,r,i=140,...d){this.remove(t),this._timeouts.set(t,window.setTimeout(r,i,...d))}remove(t){const r=this._timeouts.get(t);r&&window.clearTimeout(r)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class xl{constructor(t){yt(this,"gestures",new Set),yt(this,"_targetEventStore",new Hs(this)),yt(this,"gestureEventStores",{}),yt(this,"gestureTimeoutStores",{}),yt(this,"handlers",{}),yt(this,"config",{}),yt(this,"pointerIds",new Set),yt(this,"touchIds",new Set),yt(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Tl(this,t)}setEventIds(t){if(Mr(t))return this.touchIds=new Set(Ic(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,r){this.handlers=t,this.nativeHandlers=r}applyConfig(t,r){this.config=Sl(t,r,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const r=this.config.shared,i={};let d;if(!(r.target&&(d=r.target(),!d))){if(r.enabled){for(const s of this.gestures){const l=this.config[s],n=wa(i,l.eventOptions,!!d);if(l.enabled){const o=jn.get(s);new o(this,t,s).bind(n)}}const b=wa(i,r.eventOptions,!!d);for(const s in this.nativeHandlers)b(s,"",l=>this.nativeHandlers[s](vt(vt({},this.state.shared),{},{event:l,args:t})),void 0,!0)}for(const b in i)i[b]=Dc(...i[b]);if(!d)return i;for(const b in i){const{device:s,capture:l,passive:n}=wc(b);this._targetEventStore.add(d,s,"",i[b],{capture:l,passive:n})}}}}function Ce(e,t){e.gestures.add(t),e.gestureEventStores[t]=new Hs(e,t),e.gestureTimeoutStores[t]=new _l}function Tl(e,t){t.drag&&Ce(e,"drag"),t.wheel&&Ce(e,"wheel"),t.scroll&&Ce(e,"scroll"),t.move&&Ce(e,"move"),t.pinch&&Ce(e,"pinch"),t.hover&&Ce(e,"hover")}const wa=(e,t,r)=>(i,d,b,s={},l=!1)=>{var n,o;const u=(n=s.capture)!==null&&n!==void 0?n:t.capture,h=(o=s.passive)!==null&&o!==void 0?o:t.passive;let p=l?i:Tc(i,d,u);r&&h&&(p+="Passive"),e[p]=e[p]||[],e[p].push(b)},El=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function wl(e){const t={},r={},i=new Set;for(let d in e)El.test(d)?(i.add(RegExp.lastMatch),r[d]=e[d]):t[d]=e[d];return[r,t,i]}function Ie(e,t,r,i,d,b){if(!e.has(r)||!jn.has(i))return;const s=r+"Start",l=r+"End",n=o=>{let u;return o.first&&s in t&&t[s](o),r in t&&(u=t[r](o)),o.last&&l in t&&t[l](o),u};d[i]=n,b[i]=b[i]||{}}function Ol(e,t){const[r,i,d]=wl(e),b={};return Ie(d,r,"onDrag","drag",b,t),Ie(d,r,"onWheel","wheel",b,t),Ie(d,r,"onScroll","scroll",b,t),Ie(d,r,"onPinch","pinch",b,t),Ie(d,r,"onMove","move",b,t),Ie(d,r,"onHover","hover",b,t),{handlers:b,config:t,nativeHandlers:i}}function Al(e,t={},r,i){const d=qt.useMemo(()=>new xl(e),[]);if(d.applyHandlers(e,i),d.applyConfig(t,r),qt.useEffect(d.effect.bind(d)),qt.useEffect(()=>d.clean.bind(d),[]),t.target===void 0)return d.bind.bind(d)}function Cl(e){return e.forEach(cl),function(r,i){const{handlers:d,nativeHandlers:b,config:s}=Ol(r,i||{});return Al(d,s,void 0,b)}}function Il(e,t){return Cl([ll,hl,pl,ml,dl,fl])(e,t||{})}var ks={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(self,function(){return(()=>{var r,i,d,b,s,l,n,o={d:(L,f)=>{for(var y in f)o.o(f,y)&&!o.o(L,y)&&Object.defineProperty(L,y,{enumerable:!0,get:f[y]})},o:(L,f)=>Object.prototype.hasOwnProperty.call(L,f),r:L=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(L,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(L,"__esModule",{value:!0})}},u={};o.r(u),o.d(u,{Chord:()=>I,ChordDiagram:()=>H,ChordLyricsPair:()=>K,ChordProFormatter:()=>$e,ChordProParser:()=>J,FormatterSettings:()=>Yt,HtmlFormatter:()=>He,Key:()=>w,MusicAccidental:()=>d,MusicLetter:()=>i,MusicNote:()=>E,ParserWarning:()=>W,Song:()=>U,TextFormatter:()=>pe,TimeSignature:()=>B,Transposer:()=>at}),function(L){L.Lyrics="lyrics",L.Comment="comment",L.Empty="empty",L.Custom="custom",L.Tabs="tabs",L.Unknown="unknown"}(r||(r={}));class h{constructor(f){this._lineType=r.Unknown,this._lineType=f}get lineType(){return this._lineType}}class p extends h{constructor(f){super(r.Comment),this._comment=f}clone(){return new p(this._comment)}get comment(){return this._comment}}class v extends h{clone(){return new v}constructor(){super(r.Empty)}}class g extends h{constructor(f=[]){super(r.Lyrics),this._pairs=[],this._pairs=f}clone(){let f=[];return this._pairs.forEach(y=>{f.push(y.clone())}),new g(f)}get pairs(){return this._pairs}addPair(f){this._pairs.push(f)}}class S extends h{constructor(f){super(r.Tabs),this._value=f}clone(){return new S(this.value)}get value(){return this._value}}class _ extends h{constructor(f,y){super(r.Custom),this._name=f,this._value=y}clone(){return new _(this.name,this.value)}get name(){return this._name}get value(){return this._value}}class E{constructor(f,y=d.none){this.letter=f,this.accidental=y}toString(){return this.accidental===d.none?i[this.letter]:i[this.letter]+d[this.accidental]}clone(){return new E(this.letter,this.accidental)}static parse(f){if(!f)return;const y=f.trim().match(/^(?<letter>[A-G])(?<symbol>(#{1,2}|b{1,2}|x))?$/);if(!y||!y.groups)return;const x=y.groups.letter,P=i[x];if(P==null)return;let F=y.groups.symbol;F=="x"&&(F="##");const tt=d[F];return new E(P,tt)}equals(f){return!!f&&f.toString()===this.toString()}}(function(L){L[L.A=0]="A",L[L.B=1]="B",L[L.C=2]="C",L[L.D=3]="D",L[L.E=4]="E",L[L.F=5]="F",L[L.G=6]="G"})(i||(i={})),function(L){L[L.b=0]="b",L[L.bb=1]="bb",L[L["#"]=2]="#",L[L["##"]=3]="##",L[L.none=4]="none"}(d||(d={}));class w{constructor(f,y=b.Major){this.note=f,this.mode=y}clone(){return new w(this.note.clone(),this.mode)}static parse(f){if(!f)return;const y=f.trim().match(/^(?<note>[A-G](#{1,2}|b{1,2}|x)?)(?<mode>m?)$/);if(!y||!y.groups)return;const x=E.parse(y.groups.note);if(x==null)return;const P=y.groups.mode==="m"?b.Minor:b.Major;return new w(x,P)}toString(){return this.note.toString()+(this.mode==b.Major?"":"m")}equals(f){return this.toString()==f.toString()}}(function(L){L[L.Major=0]="Major",L[L.Minor=1]="Minor"})(b||(b={}));class I{constructor(f,y="",x=null){this.key=f,this.type=y,this.bass=x}clone(){var f;return new I(this.key.clone(),this.type,(f=this.bass)===null||f===void 0?void 0:f.clone())}static parse(f){if(!f)return;const y=(f=f.trim()).match(I.chordRegex);if(!y||!y.groups)return;const x=y.groups.note,P=w.parse(x);if(P==null)return;const F=y.groups.type,tt=y.groups.bass,q=E.parse(tt);return new I(P,F,q)}toString(f=!0,y=!0){var x=this.key.toString();return f&&(x+=this.type),y&&this.bass&&(x+="/"+this.bass.toString()),x}toSimpleString(){return this.toString(!1,!1)}equals(f){return!!f&&f.toString()===this.toString()}}I.chordRegex=/^(?<note>[A-G](#{1,2}|b{1,2}|x)?(min|m(?!aj)|-)?)(?<type>(?!\/).*?)?(?:$|(?:\/(?<bass>[A-G](#{1,2}|b{1,2}|x)?)))$/,function(L){L.Lyrics="lyrics",L.Tabs="tabs",L.None="none"}(s||(s={}));class M{constructor(f){this._sectionType=s.None,this._lines=[],this._sectionType=f}get lines(){return this._lines}get sectionType(){return this._sectionType}}(function(L){L.Chorus="chorus",L.Verse="verse",L.Bridge="bridge",L.Custom="custom",L.None="none"})(l||(l={}));class D extends M{constructor(f){super(s.Lyrics),this._type=f}get type(){return this._type}addLine(f){this._lines.push(f)}}class j extends D{constructor(f,y,x=null){super(f),this._name=y,this._value=x}clone(){let f=new j(this.type,this._name,this._value);return this._lines.forEach(y=>{f.addLine(y.clone())}),f}get name(){return this._name}get value(){return this._value}}class G extends D{clone(){let f=new G;return this._lines.forEach(y=>{f.addLine(y.clone())}),f}constructor(){super(l.None)}}class O extends M{constructor(f=null){super(s.Tabs),this._value=null,this._value=f}clone(){let f=new O(this._value);return this._lines.forEach(y=>{f.addLine(y.clone())}),f}get value(){return this._value}addLine(f){this.lines.push(f)}}class B{constructor(f,y){this.topNumber=f,this.bottomNumber=y}toString(){return`${this.topNumber.toString()}/${this.bottomNumber.toString()}`}}class U{constructor(){this.title=null,this.subtitle=null,this.albums=[],this.artists=[],this.composers=[],this.arrangers=[],this.lyricists=[],this.year=null,this.copyright=null,this.key=null,this.capo=0,this.duration=null,this.time=null,this.tempo=null,this.customMetadatas=[],this.userDiagrams=[],this.rawContent="",this.sections=[]}getLyrics(){let f=[];return this.sections.forEach(y=>{y instanceof D&&y.lines.forEach(x=>{let P="";x instanceof g&&x.pairs.forEach(F=>{F.lyrics&&(P+=F.lyrics)}),P=P.trim(),P&&f.push(P)})}),f}getAllChords(){let f=[];return this.sections.forEach(y=>{y instanceof D&&y.lines.forEach(x=>{x instanceof g&&x.pairs.forEach(P=>{if(P.hasChord()){const F=P.chord;f.push(F)}})})}),f}getUniqueChords(){const f=this.getAllChords();let y=[];return f.forEach(x=>{y.find(P=>P.equals(x))||y.push(x)}),y}getPossibleKey(){const f=this.getAllChords();if(f.length==0)return;const y=f[0].key,x=f[f.length-1].key;if(y.equals(x))return y.clone();let P=[];f.forEach(ot=>{let ut=P.find(Ot=>Ot.key.equals(ot.key));ut?ut.count++:P.push({count:0,key:ot.key.clone()})}),P.sort((ot,ut)=>ut.count-ot.count);let F=P[0],tt=P.find(ot=>ot.key.equals(y)).count,q=P.find(ot=>ot.key.equals(x)).count;return F.count>tt&&F.count>q?F.key.clone():tt>q?y.clone():x.clone()}clone(){let f=new U;return f.albums=this.albums,f.arrangers=this.arrangers,f.artists=this.artists,f.capo=this.capo,f.composers=this.composers,f.copyright=this.copyright,f.customMetadatas=this.customMetadatas,f.duration=this.duration,f.lyricists=this.lyricists,f.rawContent=this.rawContent,f.subtitle=this.subtitle,f.tempo=this.tempo,f.title=this.title,f.year=this.year,this.time&&(f.time=new B(this.time.bottomNumber,this.time.topNumber)),this.key&&(f.key=this.key.clone()),this.userDiagrams.forEach(y=>{f.userDiagrams.push(y.clone())}),this.sections.forEach(y=>{f.sections.push(y.clone())}),f}}class H{constructor(f,y,x=[],P=1){this._chord=f,this._frets=y,this._fingers=x,this._variation=P}get chord(){return this._chord}get frets(){return this._frets}get fingers(){return this._fingers}get variation(){return this._variation}clone(){return new H(this._chord.clone(),[...this._frets],[...this._fingers],this.variation)}static parse(f){var y,x;const P=f.match(/^\{define: (?<chord>([A-G][#bx]{0,2})(.*?)(?: |(?:\/([A-G][#bx]{0,2})))) *base-fret (?<basefret>[1-9][0-9]?) *frets(?<frets>( [0-9xNn]){6})( *fingers(?<fingers>( [0-5]){6}))?\}$/);if(!P||P.length<1||!P.groups)return;const F=P.groups.chord,tt=parseInt(P.groups.basefret,10),q=(y=P.groups.fingers)===null||y===void 0?void 0:y.trim().split(" ").map(Number),ot=(x=P.groups.frets)===null||x===void 0?void 0:x.trim().split(" "),ut=[];ot.forEach(Et=>{const bt=parseInt(Et,10);let Z=isNaN(bt)?-1:bt;tt>1&&Z>0&&(Z+=tt-1),ut.push(Z)});const Ot=I.parse(F);return Ot&&ut&&!isNaN(tt)?new H(Ot,ut,q):void 0}hasBarre(){return this.barre()>0}barre(){const f=this.frets.filter(x=>x!=0),y=this.fingers.filter(x=>x===1);return f.length<this.frets.length||y.length<=1?0:this.fretsRange()[0]}fretsRange(f=!0){const y=f?-1:0,x=this._frets.filter(P=>P>y);return[Math.min(...x),Math.max(...x)]}getRelativeFrets(){let f=this.fretsRange(!1),y=f[0],x=f[1];(y<1||x<4)&&(y=1);const P=-(y-1);return[y,this.tryMovingFrets(P)[1]]}tryMovingFrets(f){return f===0?[!0,this._frets]:f>this.fretsRange()[0]?[!1,this._frets]:[!0,this._frets.map(y=>y<1?y:y+f)]}}class K{constructor(f,y=null,x=null){this.lyrics=f,this.chord=y,this.text=x}clone(){var f;return new K(this.lyrics,(f=this.chord)===null||f===void 0?void 0:f.clone(),this.text)}hasChord(){return this.chord!==null}hasText(){return this.text!==null}static parse(f){const y=f.match(/\[(?<value>.*?)\]/);if(!y||!y.groups)return[!0,new K(f)];const x=y.groups.value,P=f.substring(x.length+2,f.length);return this.createChordLyricsPair(P,x)}static parseLine(f){const y=[],x=/\[(?<value>.*?)\]/g;if(!x.test(f))return y.push([!0,new K(f)]),y;let P;x.lastIndex=0;let F=0,tt=null;for(;P=x.exec(f);){const ot=f.substring(F,P.index);ot&&y.push(this.createChordLyricsPair(ot,tt)),tt=P.groups.value,F=x.lastIndex}const q=f.substring(F,f.length);return q&&y.push(this.createChordLyricsPair(q,tt)),y}static createChordLyricsPair(f,y){let x=null,P=null;y!=null&&y.startsWith("*")?P=y.substring(1,y.length):x=y?I.parse(y):null;const F=new K(f,x,P),tt=x!==void 0;return tt||(F.text=y),[tt,F]}}class W{constructor(f,y){this._message=f,this._lineNumber=y}toString(){return`Warning: ${this._message} on line ${this._lineNumber}`}}class C{}C.ALBUM="album",C.ARRANGER="arranger",C.ARTIST="artist",C.CAPO="capo",C.COMMENT="comment",C.DEFINE="define",C.COMPOSER="composer",C.COPYRIGHT="copyright",C.DURATION="duration",C.END_OF_BRIDGE="end_of_bridge",C.END_OF_CHORUS="end_of_chorus",C.END_OF_TAB="end_of_tab",C.END_OF_VERSE="end_of_verse",C.KEY="key",C.LYRICIST="lyricist",C.START_OF_BRIDGE="start_of_bridge",C.START_OF_CHORUS="start_of_chorus",C.START_OF_TAB="start_of_tab",C.START_OF_VERSE="start_of_verse",C.SUBTITLE="subtitle",C.TEMPO="tempo",C.TIME="time",C.TITLE="title",C.YEAR="year",C.TITLE_SHORT="t",C.SUBTITLE_SHORT="st",C.COMMENT_SHORT="c",C.START_OF_CHORUS_SHORT="soc",C.END_OF_CHORUS_SHORT="eoc",C.START_OF_VERSE_SHORT="sov",C.END_OF_VERSE_SHORT="eov",C.START_OF_BRIDGE_SHORT="sob",C.END_OF_BRIDGE_SHORT="eob",C.START_OF_TAB_SHORT="sot",C.END_OF_TAB_SHORT="eot",C.META_TAGS=[C.ALBUM,C.ARRANGER,C.ARTIST,C.CAPO,C.COMPOSER,C.COPYRIGHT,C.DURATION,C.KEY,C.LYRICIST,C.TEMPO,C.TIME,C.TITLE,C.SUBTITLE,C.YEAR],C.START_BLOCK_TAGS=[C.START_OF_BRIDGE,C.START_OF_CHORUS,C.START_OF_TAB,C.START_OF_VERSE],C.END_BLOCK_TAGS=[C.END_OF_BRIDGE,C.END_OF_CHORUS,C.END_OF_TAB,C.END_OF_VERSE],function(L){L[L.Metadata=0]="Metadata",L[L.CustomMetadata=1]="CustomMetadata",L[L.StartOfBlock=2]="StartOfBlock",L[L.EndOfBlock=3]="EndOfBlock",L[L.Comment=4]="Comment",L[L.Define=5]="Define",L[L.Custom=6]="Custom",L[L.None=7]="None"}(n||(n={}));class V{constructor(){this._originalName="",this._value=null,this._type=n.None}get value(){return this._value}get type(){return this._type}get shortName(){return V.getShortName(this._originalName)}get longName(){return V.getLongName(this._originalName)}static getLongName(f){if(!f)return f;const y=this.ALIASES.find(x=>x.shortName===f);return y?y.longName:f}static getShortName(f){if(!f)return f;const y=this.ALIASES.find(x=>x.longName===f);return y?y.shortName:f}static parse(f){const y=f.trim();if(this.CUSTOM_META_TAG_REGEX.test(y)){let x=this.parseRegex(y,this.CUSTOM_META_TAG_REGEX);return x&&(x._type=n.Custom),x}if(this.META_TAG_REGEX.test(y)){let x=this.parseRegex(y,this.META_TAG_REGEX);return x&&(x._type=C.META_TAGS.find(P=>P===x.longName)?x._type=n.Metadata:x._type=n.CustomMetadata),x}if(this.TAG_REGEX.test(y)){let x=this.parseRegex(y,this.TAG_REGEX);if(x){if(C.META_TAGS.find(P=>P===x.longName))x._type=n.Metadata;else if(x.longName.startsWith("start_of_"))x._type=n.StartOfBlock;else if(x.longName.startsWith("end_of_"))x._type=n.EndOfBlock;else if(x.longName===C.DEFINE)x._type=n.Define;else{if(x.longName!==C.COMMENT)return;x._type=n.Comment}return x}}}static parseRegex(f,y){let x=new V;const P=f.trim().match(y);if(P&&P.groups)return P.groups.name?(x._originalName=P.groups.name,P.groups.value&&(x._value=P.groups.value),x):void 0}}V.ALIASES=[{shortName:C.TITLE_SHORT,longName:C.TITLE},{shortName:C.SUBTITLE_SHORT,longName:C.SUBTITLE},{shortName:C.COMMENT_SHORT,longName:C.COMMENT},{shortName:C.START_OF_BRIDGE_SHORT,longName:C.START_OF_BRIDGE},{shortName:C.END_OF_BRIDGE_SHORT,longName:C.END_OF_BRIDGE},{shortName:C.START_OF_CHORUS_SHORT,longName:C.START_OF_CHORUS},{shortName:C.END_OF_CHORUS_SHORT,longName:C.END_OF_CHORUS},{shortName:C.START_OF_VERSE_SHORT,longName:C.START_OF_VERSE},{shortName:C.END_OF_VERSE_SHORT,longName:C.END_OF_VERSE},{shortName:C.START_OF_TAB_SHORT,longName:C.START_OF_TAB},{shortName:C.END_OF_TAB_SHORT,longName:C.END_OF_TAB}],V.META_TAG_REGEX=/^meta:\s*(?<name>[^:\s]+)(\s*(?<value>.+))?$/,V.TAG_REGEX=/^(?<name>[^:\s]+)(:?\s*(?<value>.+))?$/,V.CUSTOM_META_TAG_REGEX=/^(?<name>x_[^:]+)(:?\s*(?<value>.+))?$/;class J{constructor(){this._currentLineIndex=0,this.TAG_REGEX=/\{(?<value>.*)\}/,this.TAB_LINE_REGEX=/^[aA-zZ]\|[^ ]+$/,this.CHORD_REGEX=/\[(.*?)\]/g,this.SPLIT_CHORD_REGEX=/(?=\[.*?\])/g,this._song=new U,this._currentSection=new G,this._currentSectionTagName=null,this._warnings=[]}get warnings(){return this._warnings}parse(f){if(!f.trim())return this.addWarning("The song sheet is empty"),new U;this._song.rawContent=f;const y=f.split(/\r\n|\r|\n/);for(;!y[0].trim();)y.splice(0,1);return y.forEach(x=>{this.parseLine(x),this._currentLineIndex++}),this.completeCurrentSection(),this._song.key,this._song}parseLine(f){if(f=f.trim())if(this.TAG_REGEX.test(f))this.parseTag(f);else switch(this._currentSection.sectionType){case s.Tabs:this.parseTabLine(f);break;case s.Lyrics:this.parseLyricsLine(f)}else this.addLine(new v)}parseTabLine(f){this._currentSection instanceof O?(this.TAB_LINE_REGEX.test(f)||this.addWarning("This tabs line is invalid. It must starts with the string name and a pipe."),this.addLine(new S(f))):this.addWarning("Internal error: wrong section type")}parseLyricsLine(f){if(this._currentSection instanceof D){const y=f.replace(this.CHORD_REGEX,"");/[\[\]\{\}]/.test(y)&&this.addWarning("The lyrics line contains invalid characters or unclosed chords.");const x=f.split(this.SPLIT_CHORD_REGEX),P=[];x.forEach(tt=>{const q=K.parse(tt);q[0]||(q[1].lyrics.trim()?this.addWarning(`Cannot parse the chord '${q[1].text}' before the lyrics '${q[1].lyrics.trim()}'`):this.addWarning(`Cannot parse the chord '${q[1].text}'`)),P.push(q[1])});const F=new g(P);this.addLine(F)}else this.addWarning("Internal error: wrong section type")}parseTag(f){const y=f.match(this.TAG_REGEX);if(!y||!y.groups||!y.groups.value)return void this.addWarning("Invalid tag.");const x=V.parse(y.groups.value.trim());if(x)switch(x.type){case n.Metadata:this.parseMetadataTag(x.longName,x.value);break;case n.Comment:this.parseCommentTag(x.value);break;case n.Define:this.parseDefineTag(x.value);break;case n.Custom:this.parseCustomTag(x.longName,x.value);break;case n.CustomMetadata:this.parseCustomMetadataTag(x.longName,x.value);case n.StartOfBlock:this.parseStartOfBlockTag(x.longName,x.value);break;case n.EndOfBlock:this.parseEndOfBlockTag(x.longName);break;default:this.addWarning("Unknown tag type.")}else this.addWarning("Unknown or mal-formatted tag.")}parseCommentTag(f){f?this.addLine(new p(f)):this.addWarning("The comment tag must have a value")}parseDefineTag(f){if(!f)return void this.addWarning("The define tag must have a value");const y=H.parse(f);y?this._song.userDiagrams.push(y):this.addWarning("The define tag is invalid")}parseCustomTag(f,y){this.addLine(new _(f,y))}parseStartOfBlockTag(f,y){this._currentSectionTagName!==null&&this.addWarning(`The section tag ${this._currentSectionTagName} must be closed before starting a new section`),this.completeCurrentSection();const x=f.replace("start_of_","");this._currentSectionTagName=x;const P=C.START_BLOCK_TAGS.find(F=>F===f);if(P)switch(P){case C.START_OF_BRIDGE:return void(this._currentSection=new j(l.Bridge,x,y));case C.START_OF_CHORUS:return void(this._currentSection=new j(l.Chorus,x,y));case C.START_OF_VERSE:return void(this._currentSection=new j(l.Verse,x,y));case C.START_OF_TAB:return void(this._currentSection=new O(y))}else this._currentSection=new j(l.Custom,x,y)}parseEndOfBlockTag(f){this._currentSectionTagName?(f.replace("end_of_","")!==this._currentSectionTagName&&this.addWarning("The end of section tag does not match the start of section tag."),this.completeCurrentSection()):this.addWarning("This end of section tag is useless and will be ignore.")}completeCurrentSection(){this._currentSection.lines.length>0&&this._song.sections.push(this._currentSection),this._currentSection=new G,this._currentSectionTagName=null}addLine(f){this._currentSection.sectionType!==s.Tabs||f instanceof S?this._currentSection.addLine(f):this.addWarning("Tabs section can only contains tabs lines")}parseMetadataTag(f,y){if(y&&y.trim())switch(f){case C.ALBUM:this._song.albums.push(y);break;case C.ARRANGER:this._song.arrangers.push(y);break;case C.ARTIST:this._song.artists.push(y);break;case C.CAPO:this.parseCapoMetadata(y);break;case C.COMPOSER:this._song.composers.push(y);break;case C.COPYRIGHT:this._song.copyright=y;break;case C.DURATION:this.parseDurationMetadata(y);break;case C.KEY:this.parseKeyMetadata(y);break;case C.LYRICIST:this._song.lyricists.push(y);break;case C.TEMPO:this.parseTempoMetadata(y);break;case C.TIME:this.parseTimeMetadata(y);break;case C.TITLE:this._song.title=y;break;case C.SUBTITLE:this._song.subtitle=y;break;case C.YEAR:this.parseYearMetadata(y);break;default:this.addWarning("Unknown metadata tag")}else this.addWarning("The metadata must have a value")}parseYearMetadata(f){const y=parseInt(f,10);isNaN(y)||y.toString().length!=4?this.addWarning("The year metadata must be a 4 digits number"):this._song.year=y}parseCapoMetadata(f){const y=parseInt(f,10);isNaN(y)?this.addWarning("The capo metadata must be a number"):this._song.capo=y}parseDurationMetadata(f){const y=f.match(/^((?<time>[0-9]+)|(?<minutes>[0-5]?[0-9]):(?<seconds>[0-5][0-9]))$/);if(!y||!y.groups)return void this.addWarning("The duration metadata is invalid. Must be a number or a time (eg: 5:30)");if(y.groups.time){const F=parseInt(f,10);this._song.duration=F}const x=y.groups.minutes,P=y.groups.seconds;x&&P?this._song.duration=60*parseInt(x,10)+parseInt(P):this.addWarning("The duration metadata time format is invalid")}parseTempoMetadata(f){const y=parseInt(f,10);isNaN(y)?this.addWarning("The tempo metadata must be a number"):this._song.tempo=y}parseKeyMetadata(f){const y=w.parse(f);y?this._song.key=y:this.addWarning("The key metadata is not a valid key")}parseTimeMetadata(f){const y=f.match(/^(?<top>[0-9]{1,2})\/(?<bottom>[0-9]{1,2})$/);if(!(y&&y.groups&&y.groups.top&&y.groups.bottom))return void this.addWarning("The time metadata is invalid. Must be number/number (eg: 6/8)");const x=parseInt(y.groups.top),P=parseInt(y.groups.bottom);this._song.time=new B(x,P)}parseCustomMetadataTag(f,y){this._song.customMetadatas.push([f,y])}addWarning(f){const y=new W(f,this._currentLineIndex+1);this._warnings.push(y)}}class it{static semiTonesBetween(f,y){if(f.equals(y))return 0;const x=this.notes.find(q=>q.letter==f.letter).value,P=this.notes.find(q=>q.letter==y.letter).value,F=this.accidentals.find(q=>q.accidental==f.accidental).value,tt=P+this.accidentals.find(q=>q.accidental==y.accidental).value-(x+F);return this.positiveMod(tt,12)}static letterDiff(f,y){if(f==y)return 0;const x=this.notes.find(F=>F.letter==f).index,P=this.notes.find(F=>F.letter==y).index;return this.positiveMod(P-x,7)}static transpose(f,y,x){if(y==0&&x==0)return f;y=this.positiveMod(y,7),x=this.positiveMod(x,12);let P=(this.notes.find(ut=>ut.letter==f.letter).index+y)%7,F=this.notes[P],tt=this.semiTonesBetween(f,new E(F.letter)),q=x-tt;Math.abs(q)>2&&(P=q<0?this.positiveMod(--P,7):this.positiveMod(++P,7),F=this.notes[P],tt=this.semiTonesBetween(f,new E(F.letter)),q=x-tt);const ot=this.accidentals.find(ut=>ut.value==q).accidental;return new E(F.letter,ot)}static positiveMod(f,y){return(f%y+y)%y}}it.notes=[{letter:i.A,index:0,value:0},{letter:i.B,index:1,value:2},{letter:i.C,index:2,value:3},{letter:i.D,index:3,value:5},{letter:i.E,index:4,value:7},{letter:i.F,index:5,value:8},{letter:i.G,index:6,value:10}],it.accidentals=[{accidental:d.none,value:0},{accidental:d["#"],value:1},{accidental:d["##"],value:2},{accidental:d.b,value:-1},{accidental:d.bb,value:-2}];class at{static transpose(f,y){let x=f.clone(),P=x.key?x.key:x.getPossibleKey();if(!P)return f;const F=it.letterDiff(P.note.letter,y.letter),tt=it.semiTonesBetween(P.note,y);return P.note=y,x.sections.forEach((q,ot)=>{q.sectionType==s.Lyrics&&q.lines.forEach((ut,Ot)=>{ut instanceof g&&ut.pairs.forEach((Et,bt)=>{if(Et.chord){const Z=it.transpose(Et.chord.key.note,F,tt),Nt=Et.chord;if(Nt.key.note=Z,Et.chord.bass){const rt=it.transpose(Et.chord.bass,F,tt);Nt.bass=rt}x.sections[ot].lines[Ot].pairs[bt].chord=Nt}})})}),x}}class ft{static toMinutesSeconds(f){const y=Math.floor(f/60),x=f-60*y;return`${y.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}:${x.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}`}static toProperCase(f){return f.length<1?f:f.charAt(0).toUpperCase()+f.substring(1).toLocaleLowerCase()}}class Q{constructor(){this.useSimpleChord=!1,this.showChords=!0}}class dt{constructor(f=new Q){this.settings=f}writeMetadata(f,y){return y?`${ft.toProperCase(f)}: ${y}`:ft.toProperCase(f)}buildMetadataArray(f,y,x){const P=f.length>1?x:y,F=f.join(", ");return`${ft.toProperCase(P)}: ${F}`}titleMetadata(f){return[f]}subtitleMetadata(f){return[f]}artistsMetadata(f){return[f.join(", ")]}composersMetadata(f){return[this.buildMetadataArray(f,"Composer","Composers")]}lyricistsMetadata(f){return[this.buildMetadataArray(f,"Lyricist","Lyricists")]}arrangersMetadata(f){return[this.buildMetadataArray(f,"Arranger","Arrangers")]}yearMetadata(f){return[this.writeMetadata("Year",f.toString())]}copyrightMetadata(f){return[this.writeMetadata("Copyright",f)]}timeMetadata(f){return[this.writeMetadata("Time",f)]}tempoMetadata(f){return[this.writeMetadata("Tempo",f.toString())]}durationMetadata(f){return[this.writeMetadata("Duration",ft.toMinutesSeconds(f))]}capoMetadata(f){return[this.writeMetadata("Capo",f.toString())]}keyMetadata(f){return[this.writeMetadata("Key",f)]}customMetadatas(f){let y=[];return f.forEach(x=>{y.push(this.writeMetadata(x[0],x[1]))}),y}emptyLine(){return[""]}lyricsLine(f){let y="",x="",P=[];return f.pairs.forEach(F=>{let tt=1;if(this.settings.showChords)if(F.chord){let q=this.settings.useSimpleChord?F.chord.toSimpleString():F.chord.toString();y+=q,tt=F.lyrics.length-q.length}else F.text?(y+=F.text,tt=F.lyrics.length-F.text.length):tt=F.lyrics.length;tt>0?(y+=" ".repeat(tt),x+=F.lyrics):(y+=" ",x+=F.lyrics+" ".repeat(Math.abs(tt)+1))}),y=y.trimEnd(),x=x.trimEnd(),y&&P.push(y),x&&P.push(x),P}commentLine(f){return["#"+f.comment]}tabLine(f){return[f.value]}customLine(f){return[]}sectionStart(f){return(f instanceof j||f instanceof O)&&f.value?[f.value]:[]}sectionEnd(f){return[]}metadataStart(){return["*".repeat(10)]}metadataEnd(){return["*".repeat(10)]}contentStart(){return[]}contentEnd(){return[]}}class Tt{constructor(f=new Q){this.settings=f}buildMetadata(f,y){return y?`{${f}: ${y}}`:`{${f}}`}buildMetadatas(f,y){let x=[];return y.forEach(P=>{x.push(this.buildMetadata(f,P))}),x}titleMetadata(f){return[this.buildMetadata("title",f)]}subtitleMetadata(f){return[this.buildMetadata("subtitle",f)]}artistsMetadata(f){return this.buildMetadatas("artist",f)}composersMetadata(f){return this.buildMetadatas("composer",f)}lyricistsMetadata(f){return this.buildMetadatas("lyricist",f)}arrangersMetadata(f){return this.buildMetadatas("arranger",f)}yearMetadata(f){return[this.buildMetadata("year",f.toString())]}copyrightMetadata(f){return[this.buildMetadata("copyright",f)]}timeMetadata(f){return[this.buildMetadata("time",f)]}tempoMetadata(f){return[this.buildMetadata("tempo",f.toString())]}durationMetadata(f){return[this.buildMetadata("duration",ft.toMinutesSeconds(f))]}capoMetadata(f){return[this.buildMetadata("capo",f.toString())]}keyMetadata(f){return[this.buildMetadata("key",f)]}customMetadatas(f){let y=[];return f.forEach(x=>{y.push(this.buildMetadata(x[0].toLowerCase(),x[1]))}),y}emptyLine(){return[""]}lyricsLine(f){let y="";return f.pairs.forEach(x=>{if(this.settings.showChords)if(x.chord){let P=this.settings.useSimpleChord?x.chord.toSimpleString():x.chord.toString();y+=`[${P}]${x.lyrics}`}else x.text?y+=`[*${x.text}]${x.lyrics}`:y+=x.lyrics;else y+=x.lyrics}),[y.trim()]}commentLine(f){return[this.buildMetadata("comment",f.comment)]}tabLine(f){return[f.value]}customLine(f){return[this.buildMetadata(f.name,f.value)]}sectionStart(f){if(f instanceof j||f instanceof O){let y=f instanceof O?"tab":f.name;return[this.buildMetadata("start_of_"+y,f.value)]}return[]}sectionEnd(f){if(f instanceof j||f instanceof O){let y=f instanceof O?"tab":f.name;return[this.buildMetadata("end_of_"+y,null)]}return[]}metadataStart(){return[]}metadataEnd(){return[]}contentStart(){return[]}contentEnd(){return[]}}class Mt{constructor(f){this.value=f}toStringLines(){return[this.value]}}class St{constructor(f,y,...x){this.classNames=[],this.innerHtml=[],this.tag=f,this.innerHtml=x,this.classNames=y}toStringLines(){const f=[];return f.push(`<${this.tag} class="${this.classNames.join(" ")}">`),this.innerHtml.forEach(y=>{f.push(...y.toStringLines())}),f.push(`</${this.tag}>`),f}addElement(...f){this.innerHtml.push(...f)}addString(f){this.innerHtml.push(new Mt(f))}}class re{constructor(f=new Q){this.settings=f}buildHtmlElement(f,y,x=[]){return`<${f} class="${x.join(" ")}">${y}</${f}>`}titleMetadata(f){return[this.buildHtmlElement("h1",f,["metadata","title-metadata"])]}subtitleMetadata(f){return[this.buildHtmlElement("h2",f,["metadata","subtitle-metadata"])]}artistsMetadata(f){return[this.buildHtmlElement("h3",f.join(", "),["metadata","artist-metadata"])]}composersMetadata(f){const y=f.length>1?"Composers":"Composer";return[this.buildHtmlElement("div",y+": "+f.join(", "),["metadata","composer-metadata"])]}lyricistsMetadata(f){const y=f.length>1?"Lyricists":"Lyricist";return[this.buildHtmlElement("div",y+": "+f.join(", "),["metadata","lyricist-metadata"])]}arrangersMetadata(f){const y=f.length>1?"Arrangers":"Arranger";return[this.buildHtmlElement("div",y+": "+f.join(", "),["metadata","arranger-metadata"])]}yearMetadata(f){return[this.buildHtmlElement("div","Year: "+f,["metadata","year-metadata"])]}copyrightMetadata(f){return[this.buildHtmlElement("div","Copyright: "+f,["metadata","copyright-metadata"])]}timeMetadata(f){return[this.buildHtmlElement("div","Time: "+f,["metadata","time-metadata"])]}tempoMetadata(f){return[this.buildHtmlElement("div","Tempo: "+f,["metadata","tempo-metadata"])]}durationMetadata(f){return[this.buildHtmlElement("div","Duration: "+ft.toMinutesSeconds(f),["metadata","duration-metadata"])]}capoMetadata(f){return[this.buildHtmlElement("div","Capo: "+f,["metadata","capo-metadata"])]}keyMetadata(f){return[this.buildHtmlElement("div","Key: "+f,["metadata","key-metadata"])]}customMetadatas(f){let y=[];const x=["metadata","custom-metadata"];return f.forEach(P=>{y.push(this.buildHtmlElement("div",ft.toProperCase(P[0])+": "+P[1],x))}),y}emptyLine(){return[this.buildHtmlElement("div","",["line","empty-line"])]}createWordElement(...f){return f.map(y=>y.toStringLines()).join("").trim()?new St("div",["word"],...f):new Mt("")}createChordElement(f,y){let x=["above-lyrics"];y?x.push("chord"):x.push("annotation");let P=new St("span",x);return P.addString(f),P}createLyricsElement(f){let y=new St("span",["lyrics"]);return y.addString(f),y}createChordLyricsElement(f,y,x){if(!this.settings.showChords&&x=="&nbsp;")return new Mt("");let P=new St("div",["chord-lyrics"]);return this.settings.showChords&&P.addElement(this.createChordElement(f,y)),x&&P.addElement(this.createLyricsElement(x)),P}lyricsLine(f){let y=f.pairs.map(F=>F.lyrics).join("").trim();if(!this.settings.showChords&&!y)return[];let x=new St("div",["lyrics-line"]),P=[];if(f.pairs.forEach((F,tt)=>{let q=F.chord!=null||F.text!=null,ot=F.chord!=null,ut="";F.chord?ut=this.settings.useSimpleChord?F.chord.toSimpleString():F.chord.toString():F.text&&(ut=F.text);let Ot=q?F.lyrics:F.lyrics.trimStart();Ot=Ot.replace(/ +/g," ");let Et=Ot.split(" "),bt=Et.shift(),Z=Et.pop();if(bt==""){if(P.length>0){let It=this.createWordElement(...P);x.addElement(It),P=[]}bt="&nbsp;",Et.length>0&&(bt+=Et.shift())}y||(bt=void 0);var Nt=q?this.createChordLyricsElement(ut,ot,bt):this.createLyricsElement(bt);if(P.push(Nt),Z==null&&tt<f.pairs.length-1)return;let rt=this.createWordElement(...P);x.addElement(rt),P=[],Et.forEach(It=>{let Ht=this.createLyricsElement(It),ke=this.createWordElement(Ht);x.addElement(ke)}),Z!=""&&Z!=null&&(P.push(this.createLyricsElement(Z)),f.pairs.length)}),P.length>0){let F=this.createWordElement(...P);x.addElement(F),P=[]}return x.toStringLines()}commentLine(f){return[this.buildHtmlElement("div",f.comment,["line","comment-line"])]}tabLine(f){return[this.buildHtmlElement("div",f.value,["line","tab-line"])]}customLine(f){const y=["metadata","custom-metadata",f.name];return[this.buildHtmlElement("div",f.value?f.value:"",y)]}sectionStart(f){let y=[];if(f instanceof j||f instanceof O){let x="tab";if(f instanceof j)switch(f.type){case l.Chorus:x="chorus";break;case l.Verse:x="verse";break;case l.Bridge:x="bridge";break;case l.Custom:x="custom"}if(y.push(`<div class="section ${x}-section">`),f.value){const P=["section-title"];y.push(this.buildHtmlElement("div",f.value,P))}}return y}sectionEnd(f){return f instanceof j||f instanceof O?["</div>"]:[]}metadataStart(){return[`<div class=${["song-metadata"].join(" ")}>`]}metadataEnd(){return["</div>"]}contentStart(){return[`<div class=${["song-content"].join(" ")}>`]}contentEnd(){return["</div>"]}}class he{constructor(f){this._lines=[],this._builder=f}format(f){return this.settings.showMetadata&&this.formatMetadata(f),this._lines.push(...this._builder.contentStart()),f.sections.forEach(y=>{(this.settings.showTabs||y.sectionType!=s.Tabs)&&(this._lines.push(...this._builder.sectionStart(y)),y.lines.forEach(x=>{x instanceof v?this._lines.push(...this._builder.emptyLine()):x instanceof g?this._lines.push(...this._builder.lyricsLine(x)):x instanceof S?this._lines.push(...this._builder.tabLine(x)):x instanceof p&&this._lines.push(...this._builder.commentLine(x))}),this._lines.push(...this._builder.sectionEnd(y)))}),this._lines.push(...this._builder.contentEnd()),this._lines}formatMetadata(f){var y,x,P;this._lines.push(...this._builder.metadataStart()),!((y=f.title)===null||y===void 0)&&y.trim()&&this._lines.push(...this._builder.titleMetadata(f.title)),!((x=f.subtitle)===null||x===void 0)&&x.trim()&&this._lines.push(...this._builder.subtitleMetadata(f.subtitle)),f.artists.length>0&&this._lines.push(...this._builder.artistsMetadata(f.artists)),f.composers.length>0&&this._lines.push(...this._builder.composersMetadata(f.composers)),f.lyricists.length>0&&this._lines.push(...this._builder.lyricistsMetadata(f.lyricists)),f.arrangers.length>0&&this._lines.push(...this._builder.arrangersMetadata(f.arrangers)),!((P=f.copyright)===null||P===void 0)&&P.trim()&&this._lines.push(...this._builder.copyrightMetadata(f.copyright)),f.time&&this._lines.push(...this._builder.timeMetadata(`${f.time.topNumber}/${f.time.bottomNumber}`)),f.tempo&&f.tempo>0&&this._lines.push(...this._builder.tempoMetadata(f.tempo)),f.year&&this._lines.push(...this._builder.yearMetadata(f.year)),f.duration&&f.duration>0&&this._lines.push(...this._builder.durationMetadata(f.duration)),f.key&&this._lines.push(...this._builder.keyMetadata(f.key.toString())),f.capo&&f.capo>0&&this._lines.push(...this._builder.capoMetadata(f.capo)),f.customMetadatas.length>0&&this._lines.push(...this._builder.customMetadatas(f.customMetadatas)),this._lines.push(...this._builder.metadataEnd())}}class Yt extends Q{constructor(){super(...arguments),this.showMetadata=!0,this.showTabs=!0}}class $e extends he{constructor(f=new Yt){super(new Tt(f)),this.settings=f}}class He extends he{constructor(f=new Yt){super(new re(f)),this.settings=f}}class pe extends he{constructor(f=new Yt){super(new dt(f)),this.settings=f}}return u})()})})(ks);var xn=ks.exports,Bs={exports:{}};(function(e,t){(function(i,d){e.exports=d()})(typeof self<"u"?self:Jt,()=>(()=>{var r={8552:(s,l,n)=>{var o=n(852),u=n(5639),h=o(u,"DataView");s.exports=h},1989:(s,l,n)=>{var o=n(1789),u=n(401),h=n(7667),p=n(1327),v=n(1866);function g(S){var _=-1,E=S==null?0:S.length;for(this.clear();++_<E;){var w=S[_];this.set(w[0],w[1])}}g.prototype.clear=o,g.prototype.delete=u,g.prototype.get=h,g.prototype.has=p,g.prototype.set=v,s.exports=g},8407:(s,l,n)=>{var o=n(7040),u=n(4125),h=n(2117),p=n(7518),v=n(4705);function g(S){var _=-1,E=S==null?0:S.length;for(this.clear();++_<E;){var w=S[_];this.set(w[0],w[1])}}g.prototype.clear=o,g.prototype.delete=u,g.prototype.get=h,g.prototype.has=p,g.prototype.set=v,s.exports=g},7071:(s,l,n)=>{var o=n(852),u=n(5639),h=o(u,"Map");s.exports=h},3369:(s,l,n)=>{var o=n(4785),u=n(1285),h=n(6e3),p=n(9916),v=n(5265);function g(S){var _=-1,E=S==null?0:S.length;for(this.clear();++_<E;){var w=S[_];this.set(w[0],w[1])}}g.prototype.clear=o,g.prototype.delete=u,g.prototype.get=h,g.prototype.has=p,g.prototype.set=v,s.exports=g},3818:(s,l,n)=>{var o=n(852),u=n(5639),h=o(u,"Promise");s.exports=h},8525:(s,l,n)=>{var o=n(852),u=n(5639),h=o(u,"Set");s.exports=h},8668:(s,l,n)=>{var o=n(3369),u=n(619),h=n(2385);function p(v){var g=-1,S=v==null?0:v.length;for(this.__data__=new o;++g<S;)this.add(v[g])}p.prototype.add=p.prototype.push=u,p.prototype.has=h,s.exports=p},6384:(s,l,n)=>{var o=n(8407),u=n(7465),h=n(3779),p=n(7599),v=n(4758),g=n(4309);function S(_){var E=this.__data__=new o(_);this.size=E.size}S.prototype.clear=u,S.prototype.delete=h,S.prototype.get=p,S.prototype.has=v,S.prototype.set=g,s.exports=S},2705:(s,l,n)=>{var o=n(5639),u=o.Symbol;s.exports=u},1149:(s,l,n)=>{var o=n(5639),u=o.Uint8Array;s.exports=u},577:(s,l,n)=>{var o=n(852),u=n(5639),h=o(u,"WeakMap");s.exports=h},6874:s=>{function l(n,o,u){switch(u.length){case 0:return n.call(o);case 1:return n.call(o,u[0]);case 2:return n.call(o,u[0],u[1]);case 3:return n.call(o,u[0],u[1],u[2])}return n.apply(o,u)}s.exports=l},7412:s=>{function l(n,o){for(var u=-1,h=n==null?0:n.length;++u<h&&o(n[u],u,n)!==!1;);return n}s.exports=l},4963:s=>{function l(n,o){for(var u=-1,h=n==null?0:n.length,p=0,v=[];++u<h;){var g=n[u];o(g,u,n)&&(v[p++]=g)}return v}s.exports=l},7443:(s,l,n)=>{var o=n(2118);function u(h,p){var v=h==null?0:h.length;return!!v&&o(h,p,0)>-1}s.exports=u},1196:s=>{function l(n,o,u){for(var h=-1,p=n==null?0:n.length;++h<p;)if(u(o,n[h]))return!0;return!1}s.exports=l},4636:(s,l,n)=>{var o=n(2545),u=n(5694),h=n(1469),p=n(4144),v=n(5776),g=n(6719),S=Object.prototype,_=S.hasOwnProperty;function E(w,I){var M=h(w),D=!M&&u(w),j=!M&&!D&&p(w),G=!M&&!D&&!j&&g(w),O=M||D||j||G,B=O?o(w.length,String):[],U=B.length;for(var H in w)(I||_.call(w,H))&&!(O&&(H=="length"||j&&(H=="offset"||H=="parent")||G&&(H=="buffer"||H=="byteLength"||H=="byteOffset")||v(H,U)))&&B.push(H);return B}s.exports=E},9932:s=>{function l(n,o){for(var u=-1,h=n==null?0:n.length,p=Array(h);++u<h;)p[u]=o(n[u],u,n);return p}s.exports=l},2488:s=>{function l(n,o){for(var u=-1,h=o.length,p=n.length;++u<h;)n[p+u]=o[u];return n}s.exports=l},2908:s=>{function l(n,o){for(var u=-1,h=n==null?0:n.length;++u<h;)if(o(n[u],u,n))return!0;return!1}s.exports=l},4865:(s,l,n)=>{var o=n(9465),u=n(7813),h=Object.prototype,p=h.hasOwnProperty;function v(g,S,_){var E=g[S];(!(p.call(g,S)&&u(E,_))||_===void 0&&!(S in g))&&o(g,S,_)}s.exports=v},8470:(s,l,n)=>{var o=n(7813);function u(h,p){for(var v=h.length;v--;)if(o(h[v][0],p))return v;return-1}s.exports=u},4037:(s,l,n)=>{var o=n(8363),u=n(3674);function h(p,v){return p&&o(v,u(v),p)}s.exports=h},3886:(s,l,n)=>{var o=n(8363),u=n(1704);function h(p,v){return p&&o(v,u(v),p)}s.exports=h},9465:(s,l,n)=>{var o=n(8777);function u(h,p,v){p=="__proto__"&&o?o(h,p,{configurable:!0,enumerable:!0,value:v,writable:!0}):h[p]=v}s.exports=u},5990:(s,l,n)=>{var o=n(6384),u=n(7412),h=n(4865),p=n(4037),v=n(3886),g=n(4626),S=n(278),_=n(8805),E=n(1911),w=n(8234),I=n(6904),M=n(4160),D=n(3824),j=n(9148),G=n(8517),O=n(1469),B=n(4144),U=n(6688),H=n(3218),K=n(2928),W=n(3674),C=n(1704),V=1,J=2,it=4,at="[object Arguments]",ft="[object Array]",Q="[object Boolean]",dt="[object Date]",Tt="[object Error]",Mt="[object Function]",St="[object GeneratorFunction]",re="[object Map]",he="[object Number]",Yt="[object Object]",$e="[object RegExp]",He="[object Set]",pe="[object String]",L="[object Symbol]",f="[object WeakMap]",y="[object ArrayBuffer]",x="[object DataView]",P="[object Float32Array]",F="[object Float64Array]",tt="[object Int8Array]",q="[object Int16Array]",ot="[object Int32Array]",ut="[object Uint8Array]",Ot="[object Uint8ClampedArray]",Et="[object Uint16Array]",bt="[object Uint32Array]",Z={};Z[at]=Z[ft]=Z[y]=Z[x]=Z[Q]=Z[dt]=Z[P]=Z[F]=Z[tt]=Z[q]=Z[ot]=Z[re]=Z[he]=Z[Yt]=Z[$e]=Z[He]=Z[pe]=Z[L]=Z[ut]=Z[Ot]=Z[Et]=Z[bt]=!0,Z[Tt]=Z[Mt]=Z[f]=!1;function Nt(rt,It,Ht,ke,Se,zt){var wt,_e=It&V,xe=It&J,me=It&it;if(Ht&&(wt=Se?Ht(rt,ke,Se,zt):Ht(rt)),wt!==void 0)return wt;if(!H(rt))return rt;var nt=O(rt);if(nt){if(wt=D(rt),!_e)return S(rt,wt)}else{var Gt=M(rt),kt=Gt==Mt||Gt==St;if(B(rt))return g(rt,_e);if(Gt==Yt||Gt==at||kt&&!Se){if(wt=xe||kt?{}:G(rt),!_e)return xe?E(rt,v(wt,rt)):_(rt,p(wt,rt))}else{if(!Z[Gt])return Se?rt:{};wt=j(rt,Gt,_e)}}zt||(zt=new o);var Te=zt.get(rt);if(Te)return Te;zt.set(rt,wt),K(rt)?rt.forEach(function(Bt){wt.add(Nt(Bt,It,Ht,Bt,rt,zt))}):U(rt)&&rt.forEach(function(Bt,$){wt.set($,Nt(Bt,It,Ht,$,rt,zt))});var Wr=me?xe?I:w:xe?C:W,ir=nt?void 0:Wr(rt);return u(ir||rt,function(Bt,$){ir&&($=Bt,Bt=rt[$]),h(wt,$,Nt(Bt,It,Ht,$,rt,zt))}),wt}s.exports=Nt},3118:(s,l,n)=>{var o=n(3218),u=Object.create,h=function(){function p(){}return function(v){if(!o(v))return{};if(u)return u(v);p.prototype=v;var g=new p;return p.prototype=void 0,g}}();s.exports=h},731:(s,l,n)=>{var o=n(8668),u=n(7443),h=n(1196),p=n(9932),v=n(1717),g=n(4757),S=200;function _(E,w,I,M){var D=-1,j=u,G=!0,O=E.length,B=[],U=w.length;if(!O)return B;I&&(w=p(w,v(I))),M?(j=h,G=!1):w.length>=S&&(j=g,G=!1,w=new o(w));t:for(;++D<O;){var H=E[D],K=I==null?H:I(H);if(H=M||H!==0?H:0,G&&K===K){for(var W=U;W--;)if(w[W]===K)continue t;B.push(H)}else j(w,K,M)||B.push(H)}return B}s.exports=_},1848:s=>{function l(n,o,u,h){for(var p=n.length,v=u+(h?1:-1);h?v--:++v<p;)if(o(n[v],v,n))return v;return-1}s.exports=l},1078:(s,l,n)=>{var o=n(2488),u=n(7285);function h(p,v,g,S,_){var E=-1,w=p.length;for(g||(g=u),_||(_=[]);++E<w;){var I=p[E];v>0&&g(I)?v>1?h(I,v-1,g,S,_):o(_,I):S||(_[_.length]=I)}return _}s.exports=h},8483:(s,l,n)=>{var o=n(5063),u=o();s.exports=u},7816:(s,l,n)=>{var o=n(8483),u=n(3674);function h(p,v){return p&&o(p,v,u)}s.exports=h},7786:(s,l,n)=>{var o=n(1811),u=n(327);function h(p,v){v=o(v,p);for(var g=0,S=v.length;p!=null&&g<S;)p=p[u(v[g++])];return g&&g==S?p:void 0}s.exports=h},8866:(s,l,n)=>{var o=n(2488),u=n(1469);function h(p,v,g){var S=v(p);return u(p)?S:o(S,g(p))}s.exports=h},4239:(s,l,n)=>{var o=n(2705),u=n(9607),h=n(2333),p="[object Null]",v="[object Undefined]",g=o?o.toStringTag:void 0;function S(_){return _==null?_===void 0?v:p:g&&g in Object(_)?u(_):h(_)}s.exports=S},13:s=>{function l(n,o){return n!=null&&o in Object(n)}s.exports=l},2118:(s,l,n)=>{var o=n(1848),u=n(2722),h=n(2351);function p(v,g,S){return g===g?h(v,g,S):o(v,u,S)}s.exports=p},8975:(s,l,n)=>{var o=n(7816);function u(h,p,v,g){return o(h,function(S,_,E){p(g,v(S),_,E)}),g}s.exports=u},9454:(s,l,n)=>{var o=n(4239),u=n(7005),h="[object Arguments]";function p(v){return u(v)&&o(v)==h}s.exports=p},939:(s,l,n)=>{var o=n(2492),u=n(7005);function h(p,v,g,S,_){return p===v?!0:p==null||v==null||!u(p)&&!u(v)?p!==p&&v!==v:o(p,v,g,S,h,_)}s.exports=h},2492:(s,l,n)=>{var o=n(6384),u=n(7114),h=n(8351),p=n(6096),v=n(4160),g=n(1469),S=n(4144),_=n(6719),E=1,w="[object Arguments]",I="[object Array]",M="[object Object]",D=Object.prototype,j=D.hasOwnProperty;function G(O,B,U,H,K,W){var C=g(O),V=g(B),J=C?I:v(O),it=V?I:v(B);J=J==w?M:J,it=it==w?M:it;var at=J==M,ft=it==M,Q=J==it;if(Q&&S(O)){if(!S(B))return!1;C=!0,at=!1}if(Q&&!at)return W||(W=new o),C||_(O)?u(O,B,U,H,K,W):h(O,B,J,U,H,K,W);if(!(U&E)){var dt=at&&j.call(O,"__wrapped__"),Tt=ft&&j.call(B,"__wrapped__");if(dt||Tt){var Mt=dt?O.value():O,St=Tt?B.value():B;return W||(W=new o),K(Mt,St,U,H,W)}}return Q?(W||(W=new o),p(O,B,U,H,K,W)):!1}s.exports=G},5588:(s,l,n)=>{var o=n(4160),u=n(7005),h="[object Map]";function p(v){return u(v)&&o(v)==h}s.exports=p},2958:(s,l,n)=>{var o=n(6384),u=n(939),h=1,p=2;function v(g,S,_,E){var w=_.length,I=w,M=!E;if(g==null)return!I;for(g=Object(g);w--;){var D=_[w];if(M&&D[2]?D[1]!==g[D[0]]:!(D[0]in g))return!1}for(;++w<I;){D=_[w];var j=D[0],G=g[j],O=D[1];if(M&&D[2]){if(G===void 0&&!(j in g))return!1}else{var B=new o;if(E)var U=E(G,O,j,g,S,B);if(!(U===void 0?u(O,G,h|p,E,B):U))return!1}}return!0}s.exports=v},2722:s=>{function l(n){return n!==n}s.exports=l},8458:(s,l,n)=>{var o=n(3560),u=n(5346),h=n(3218),p=n(346),v=/[\\^$.*+?()[\]{}|]/g,g=/^\[object .+?Constructor\]$/,S=Function.prototype,_=Object.prototype,E=S.toString,w=_.hasOwnProperty,I=RegExp("^"+E.call(w).replace(v,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function M(D){if(!h(D)||u(D))return!1;var j=o(D)?I:g;return j.test(p(D))}s.exports=M},9221:(s,l,n)=>{var o=n(4160),u=n(7005),h="[object Set]";function p(v){return u(v)&&o(v)==h}s.exports=p},8749:(s,l,n)=>{var o=n(4239),u=n(1780),h=n(7005),p="[object Arguments]",v="[object Array]",g="[object Boolean]",S="[object Date]",_="[object Error]",E="[object Function]",w="[object Map]",I="[object Number]",M="[object Object]",D="[object RegExp]",j="[object Set]",G="[object String]",O="[object WeakMap]",B="[object ArrayBuffer]",U="[object DataView]",H="[object Float32Array]",K="[object Float64Array]",W="[object Int8Array]",C="[object Int16Array]",V="[object Int32Array]",J="[object Uint8Array]",it="[object Uint8ClampedArray]",at="[object Uint16Array]",ft="[object Uint32Array]",Q={};Q[H]=Q[K]=Q[W]=Q[C]=Q[V]=Q[J]=Q[it]=Q[at]=Q[ft]=!0,Q[p]=Q[v]=Q[B]=Q[g]=Q[U]=Q[S]=Q[_]=Q[E]=Q[w]=Q[I]=Q[M]=Q[D]=Q[j]=Q[G]=Q[O]=!1;function dt(Tt){return h(Tt)&&u(Tt.length)&&!!Q[o(Tt)]}s.exports=dt},7206:(s,l,n)=>{var o=n(1573),u=n(6432),h=n(6557),p=n(1469),v=n(9601);function g(S){return typeof S=="function"?S:S==null?h:typeof S=="object"?p(S)?u(S[0],S[1]):o(S):v(S)}s.exports=g},280:(s,l,n)=>{var o=n(5726),u=n(6916),h=Object.prototype,p=h.hasOwnProperty;function v(g){if(!o(g))return u(g);var S=[];for(var _ in Object(g))p.call(g,_)&&_!="constructor"&&S.push(_);return S}s.exports=v},313:(s,l,n)=>{var o=n(3218),u=n(5726),h=n(3498),p=Object.prototype,v=p.hasOwnProperty;function g(S){if(!o(S))return h(S);var _=u(S),E=[];for(var w in S)w=="constructor"&&(_||!v.call(S,w))||E.push(w);return E}s.exports=g},1573:(s,l,n)=>{var o=n(2958),u=n(1499),h=n(2634);function p(v){var g=u(v);return g.length==1&&g[0][2]?h(g[0][0],g[0][1]):function(S){return S===v||o(S,v,g)}}s.exports=p},6432:(s,l,n)=>{var o=n(939),u=n(7361),h=n(9095),p=n(5403),v=n(9162),g=n(2634),S=n(327),_=1,E=2;function w(I,M){return p(I)&&v(M)?g(S(I),M):function(D){var j=u(D,I);return j===void 0&&j===M?h(D,I):o(M,j,_|E)}}s.exports=w},371:s=>{function l(n){return function(o){return o==null?void 0:o[n]}}s.exports=l},9152:(s,l,n)=>{var o=n(7786);function u(h){return function(p){return o(p,h)}}s.exports=u},5976:(s,l,n)=>{var o=n(6557),u=n(5357),h=n(61);function p(v,g){return h(u(v,g,o),v+"")}s.exports=p},6560:(s,l,n)=>{var o=n(5703),u=n(8777),h=n(6557),p=u?function(v,g){return u(v,"toString",{configurable:!0,enumerable:!1,value:o(g),writable:!0})}:h;s.exports=p},4259:s=>{function l(n,o,u){var h=-1,p=n.length;o<0&&(o=-o>p?0:p+o),u=u>p?p:u,u<0&&(u+=p),p=o>u?0:u-o>>>0,o>>>=0;for(var v=Array(p);++h<p;)v[h]=n[h+o];return v}s.exports=l},2545:s=>{function l(n,o){for(var u=-1,h=Array(n);++u<n;)h[u]=o(u);return h}s.exports=l},531:(s,l,n)=>{var o=n(2705),u=n(9932),h=n(1469),p=n(3448),v=1/0,g=o?o.prototype:void 0,S=g?g.toString:void 0;function _(E){if(typeof E=="string")return E;if(h(E))return u(E,_)+"";if(p(E))return S?S.call(E):"";var w=E+"";return w=="0"&&1/E==-v?"-0":w}s.exports=_},7561:(s,l,n)=>{var o=n(7990),u=/^\s+/;function h(p){return p&&p.slice(0,o(p)+1).replace(u,"")}s.exports=h},1717:s=>{function l(n){return function(o){return n(o)}}s.exports=l},5652:(s,l,n)=>{var o=n(8668),u=n(7443),h=n(1196),p=n(4757),v=n(3593),g=n(1814),S=200;function _(E,w,I){var M=-1,D=u,j=E.length,G=!0,O=[],B=O;if(I)G=!1,D=h;else if(j>=S){var U=w?null:v(E);if(U)return g(U);G=!1,D=p,B=new o}else B=w?[]:O;t:for(;++M<j;){var H=E[M],K=w?w(H):H;if(H=I||H!==0?H:0,G&&K===K){for(var W=B.length;W--;)if(B[W]===K)continue t;w&&B.push(K),O.push(H)}else D(B,K,I)||(B!==O&&B.push(K),O.push(H))}return O}s.exports=_},7406:(s,l,n)=>{var o=n(1811),u=n(928),h=n(292),p=n(327);function v(g,S){return S=o(S,g),g=h(g,S),g==null||delete g[p(u(S))]}s.exports=v},4757:s=>{function l(n,o){return n.has(o)}s.exports=l},1811:(s,l,n)=>{var o=n(1469),u=n(5403),h=n(5514),p=n(9833);function v(g,S){return o(g)?g:u(g,S)?[g]:h(p(g))}s.exports=v},4318:(s,l,n)=>{var o=n(1149);function u(h){var p=new h.constructor(h.byteLength);return new o(p).set(new o(h)),p}s.exports=u},4626:(s,l,n)=>{s=n.nmd(s);var o=n(5639),u=l&&!l.nodeType&&l,h=u&&!0&&s&&!s.nodeType&&s,p=h&&h.exports===u,v=p?o.Buffer:void 0,g=v?v.allocUnsafe:void 0;function S(_,E){if(E)return _.slice();var w=_.length,I=g?g(w):new _.constructor(w);return _.copy(I),I}s.exports=S},7157:(s,l,n)=>{var o=n(4318);function u(h,p){var v=p?o(h.buffer):h.buffer;return new h.constructor(v,h.byteOffset,h.byteLength)}s.exports=u},3147:s=>{var l=/\w*$/;function n(o){var u=new o.constructor(o.source,l.exec(o));return u.lastIndex=o.lastIndex,u}s.exports=n},419:(s,l,n)=>{var o=n(2705),u=o?o.prototype:void 0,h=u?u.valueOf:void 0;function p(v){return h?Object(h.call(v)):{}}s.exports=p},7133:(s,l,n)=>{var o=n(4318);function u(h,p){var v=p?o(h.buffer):h.buffer;return new h.constructor(v,h.byteOffset,h.length)}s.exports=u},278:s=>{function l(n,o){var u=-1,h=n.length;for(o||(o=Array(h));++u<h;)o[u]=n[u];return o}s.exports=l},8363:(s,l,n)=>{var o=n(4865),u=n(9465);function h(p,v,g,S){var _=!g;g||(g={});for(var E=-1,w=v.length;++E<w;){var I=v[E],M=S?S(g[I],p[I],I,g,p):void 0;M===void 0&&(M=p[I]),_?u(g,I,M):o(g,I,M)}return g}s.exports=h},8805:(s,l,n)=>{var o=n(8363),u=n(9551);function h(p,v){return o(p,u(p),v)}s.exports=h},1911:(s,l,n)=>{var o=n(8363),u=n(1442);function h(p,v){return o(p,u(p),v)}s.exports=h},4429:(s,l,n)=>{var o=n(5639),u=o["__core-js_shared__"];s.exports=u},5063:s=>{function l(n){return function(o,u,h){for(var p=-1,v=Object(o),g=h(o),S=g.length;S--;){var _=g[n?S:++p];if(u(v[_],_,v)===!1)break}return o}}s.exports=l},7740:(s,l,n)=>{var o=n(7206),u=n(8612),h=n(3674);function p(v){return function(g,S,_){var E=Object(g);if(!u(g)){var w=o(S,3);g=h(g),S=function(M){return w(E[M],M,E)}}var I=v(g,S,_);return I>-1?E[w?g[I]:I]:void 0}}s.exports=p},7779:(s,l,n)=>{var o=n(8975);function u(h,p){return function(v,g){return o(v,h,p(g),{})}}s.exports=u},3593:(s,l,n)=>{var o=n(8525),u=n(308),h=n(1814),p=1/0,v=o&&1/h(new o([,-0]))[1]==p?function(g){return new o(g)}:u;s.exports=v},696:(s,l,n)=>{var o=n(8630);function u(h){return o(h)?void 0:h}s.exports=u},8777:(s,l,n)=>{var o=n(852),u=function(){try{var h=o(Object,"defineProperty");return h({},"",{}),h}catch{}}();s.exports=u},7114:(s,l,n)=>{var o=n(8668),u=n(2908),h=n(4757),p=1,v=2;function g(S,_,E,w,I,M){var D=E&p,j=S.length,G=_.length;if(j!=G&&!(D&&G>j))return!1;var O=M.get(S),B=M.get(_);if(O&&B)return O==_&&B==S;var U=-1,H=!0,K=E&v?new o:void 0;for(M.set(S,_),M.set(_,S);++U<j;){var W=S[U],C=_[U];if(w)var V=D?w(C,W,U,_,S,M):w(W,C,U,S,_,M);if(V!==void 0){if(V)continue;H=!1;break}if(K){if(!u(_,function(J,it){if(!h(K,it)&&(W===J||I(W,J,E,w,M)))return K.push(it)})){H=!1;break}}else if(!(W===C||I(W,C,E,w,M))){H=!1;break}}return M.delete(S),M.delete(_),H}s.exports=g},8351:(s,l,n)=>{var o=n(2705),u=n(1149),h=n(7813),p=n(7114),v=n(8776),g=n(1814),S=1,_=2,E="[object Boolean]",w="[object Date]",I="[object Error]",M="[object Map]",D="[object Number]",j="[object RegExp]",G="[object Set]",O="[object String]",B="[object Symbol]",U="[object ArrayBuffer]",H="[object DataView]",K=o?o.prototype:void 0,W=K?K.valueOf:void 0;function C(V,J,it,at,ft,Q,dt){switch(it){case H:if(V.byteLength!=J.byteLength||V.byteOffset!=J.byteOffset)return!1;V=V.buffer,J=J.buffer;case U:return!(V.byteLength!=J.byteLength||!Q(new u(V),new u(J)));case E:case w:case D:return h(+V,+J);case I:return V.name==J.name&&V.message==J.message;case j:case O:return V==J+"";case M:var Tt=v;case G:var Mt=at&S;if(Tt||(Tt=g),V.size!=J.size&&!Mt)return!1;var St=dt.get(V);if(St)return St==J;at|=_,dt.set(V,J);var re=p(Tt(V),Tt(J),at,ft,Q,dt);return dt.delete(V),re;case B:if(W)return W.call(V)==W.call(J)}return!1}s.exports=C},6096:(s,l,n)=>{var o=n(8234),u=1,h=Object.prototype,p=h.hasOwnProperty;function v(g,S,_,E,w,I){var M=_&u,D=o(g),j=D.length,G=o(S),O=G.length;if(j!=O&&!M)return!1;for(var B=j;B--;){var U=D[B];if(!(M?U in S:p.call(S,U)))return!1}var H=I.get(g),K=I.get(S);if(H&&K)return H==S&&K==g;var W=!0;I.set(g,S),I.set(S,g);for(var C=M;++B<j;){U=D[B];var V=g[U],J=S[U];if(E)var it=M?E(J,V,U,S,g,I):E(V,J,U,g,S,I);if(!(it===void 0?V===J||w(V,J,_,E,I):it)){W=!1;break}C||(C=U=="constructor")}if(W&&!C){var at=g.constructor,ft=S.constructor;at!=ft&&"constructor"in g&&"constructor"in S&&!(typeof at=="function"&&at instanceof at&&typeof ft=="function"&&ft instanceof ft)&&(W=!1)}return I.delete(g),I.delete(S),W}s.exports=v},9021:(s,l,n)=>{var o=n(5564),u=n(5357),h=n(61);function p(v){return h(u(v,void 0,o),v+"")}s.exports=p},1957:(s,l,n)=>{var o=typeof n.g=="object"&&n.g&&n.g.Object===Object&&n.g;s.exports=o},8234:(s,l,n)=>{var o=n(8866),u=n(9551),h=n(3674);function p(v){return o(v,h,u)}s.exports=p},6904:(s,l,n)=>{var o=n(8866),u=n(1442),h=n(1704);function p(v){return o(v,h,u)}s.exports=p},5050:(s,l,n)=>{var o=n(7019);function u(h,p){var v=h.__data__;return o(p)?v[typeof p=="string"?"string":"hash"]:v.map}s.exports=u},1499:(s,l,n)=>{var o=n(9162),u=n(3674);function h(p){for(var v=u(p),g=v.length;g--;){var S=v[g],_=p[S];v[g]=[S,_,o(_)]}return v}s.exports=h},852:(s,l,n)=>{var o=n(8458),u=n(7801);function h(p,v){var g=u(p,v);return o(g)?g:void 0}s.exports=h},5924:(s,l,n)=>{var o=n(5569),u=o(Object.getPrototypeOf,Object);s.exports=u},9607:(s,l,n)=>{var o=n(2705),u=Object.prototype,h=u.hasOwnProperty,p=u.toString,v=o?o.toStringTag:void 0;function g(S){var _=h.call(S,v),E=S[v];try{S[v]=void 0;var w=!0}catch{}var I=p.call(S);return w&&(_?S[v]=E:delete S[v]),I}s.exports=g},9551:(s,l,n)=>{var o=n(4963),u=n(479),h=Object.prototype,p=h.propertyIsEnumerable,v=Object.getOwnPropertySymbols,g=v?function(S){return S==null?[]:(S=Object(S),o(v(S),function(_){return p.call(S,_)}))}:u;s.exports=g},1442:(s,l,n)=>{var o=n(2488),u=n(5924),h=n(9551),p=n(479),v=Object.getOwnPropertySymbols,g=v?function(S){for(var _=[];S;)o(_,h(S)),S=u(S);return _}:p;s.exports=g},4160:(s,l,n)=>{var o=n(8552),u=n(7071),h=n(3818),p=n(8525),v=n(577),g=n(4239),S=n(346),_="[object Map]",E="[object Object]",w="[object Promise]",I="[object Set]",M="[object WeakMap]",D="[object DataView]",j=S(o),G=S(u),O=S(h),B=S(p),U=S(v),H=g;(o&&H(new o(new ArrayBuffer(1)))!=D||u&&H(new u)!=_||h&&H(h.resolve())!=w||p&&H(new p)!=I||v&&H(new v)!=M)&&(H=function(K){var W=g(K),C=W==E?K.constructor:void 0,V=C?S(C):"";if(V)switch(V){case j:return D;case G:return _;case O:return w;case B:return I;case U:return M}return W}),s.exports=H},7801:s=>{function l(n,o){return n==null?void 0:n[o]}s.exports=l},222:(s,l,n)=>{var o=n(1811),u=n(5694),h=n(1469),p=n(5776),v=n(1780),g=n(327);function S(_,E,w){E=o(E,_);for(var I=-1,M=E.length,D=!1;++I<M;){var j=g(E[I]);if(!(D=_!=null&&w(_,j)))break;_=_[j]}return D||++I!=M?D:(M=_==null?0:_.length,!!M&&v(M)&&p(j,M)&&(h(_)||u(_)))}s.exports=S},1789:(s,l,n)=>{var o=n(4536);function u(){this.__data__=o?o(null):{},this.size=0}s.exports=u},401:s=>{function l(n){var o=this.has(n)&&delete this.__data__[n];return this.size-=o?1:0,o}s.exports=l},7667:(s,l,n)=>{var o=n(4536),u="__lodash_hash_undefined__",h=Object.prototype,p=h.hasOwnProperty;function v(g){var S=this.__data__;if(o){var _=S[g];return _===u?void 0:_}return p.call(S,g)?S[g]:void 0}s.exports=v},1327:(s,l,n)=>{var o=n(4536),u=Object.prototype,h=u.hasOwnProperty;function p(v){var g=this.__data__;return o?g[v]!==void 0:h.call(g,v)}s.exports=p},1866:(s,l,n)=>{var o=n(4536),u="__lodash_hash_undefined__";function h(p,v){var g=this.__data__;return this.size+=this.has(p)?0:1,g[p]=o&&v===void 0?u:v,this}s.exports=h},3824:s=>{var l=Object.prototype,n=l.hasOwnProperty;function o(u){var h=u.length,p=new u.constructor(h);return h&&typeof u[0]=="string"&&n.call(u,"index")&&(p.index=u.index,p.input=u.input),p}s.exports=o},9148:(s,l,n)=>{var o=n(4318),u=n(7157),h=n(3147),p=n(419),v=n(7133),g="[object Boolean]",S="[object Date]",_="[object Map]",E="[object Number]",w="[object RegExp]",I="[object Set]",M="[object String]",D="[object Symbol]",j="[object ArrayBuffer]",G="[object DataView]",O="[object Float32Array]",B="[object Float64Array]",U="[object Int8Array]",H="[object Int16Array]",K="[object Int32Array]",W="[object Uint8Array]",C="[object Uint8ClampedArray]",V="[object Uint16Array]",J="[object Uint32Array]";function it(at,ft,Q){var dt=at.constructor;switch(ft){case j:return o(at);case g:case S:return new dt(+at);case G:return u(at,Q);case O:case B:case U:case H:case K:case W:case C:case V:case J:return v(at,Q);case _:return new dt;case E:case M:return new dt(at);case w:return h(at);case I:return new dt;case D:return p(at)}}s.exports=it},8517:(s,l,n)=>{var o=n(3118),u=n(5924),h=n(5726);function p(v){return typeof v.constructor=="function"&&!h(v)?o(u(v)):{}}s.exports=p},7285:(s,l,n)=>{var o=n(2705),u=n(5694),h=n(1469),p=o?o.isConcatSpreadable:void 0;function v(g){return h(g)||u(g)||!!(p&&g&&g[p])}s.exports=v},5776:s=>{var l=9007199254740991,n=/^(?:0|[1-9]\d*)$/;function o(u,h){var p=typeof u;return h=h??l,!!h&&(p=="number"||p!="symbol"&&n.test(u))&&u>-1&&u%1==0&&u<h}s.exports=o},5403:(s,l,n)=>{var o=n(1469),u=n(3448),h=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/;function v(g,S){if(o(g))return!1;var _=typeof g;return _=="number"||_=="symbol"||_=="boolean"||g==null||u(g)?!0:p.test(g)||!h.test(g)||S!=null&&g in Object(S)}s.exports=v},7019:s=>{function l(n){var o=typeof n;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?n!=="__proto__":n===null}s.exports=l},5346:(s,l,n)=>{var o=n(4429),u=function(){var p=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""}();function h(p){return!!u&&u in p}s.exports=h},5726:s=>{var l=Object.prototype;function n(o){var u=o&&o.constructor,h=typeof u=="function"&&u.prototype||l;return o===h}s.exports=n},9162:(s,l,n)=>{var o=n(3218);function u(h){return h===h&&!o(h)}s.exports=u},7040:s=>{function l(){this.__data__=[],this.size=0}s.exports=l},4125:(s,l,n)=>{var o=n(8470),u=Array.prototype,h=u.splice;function p(v){var g=this.__data__,S=o(g,v);if(S<0)return!1;var _=g.length-1;return S==_?g.pop():h.call(g,S,1),--this.size,!0}s.exports=p},2117:(s,l,n)=>{var o=n(8470);function u(h){var p=this.__data__,v=o(p,h);return v<0?void 0:p[v][1]}s.exports=u},7518:(s,l,n)=>{var o=n(8470);function u(h){return o(this.__data__,h)>-1}s.exports=u},4705:(s,l,n)=>{var o=n(8470);function u(h,p){var v=this.__data__,g=o(v,h);return g<0?(++this.size,v.push([h,p])):v[g][1]=p,this}s.exports=u},4785:(s,l,n)=>{var o=n(1989),u=n(8407),h=n(7071);function p(){this.size=0,this.__data__={hash:new o,map:new(h||u),string:new o}}s.exports=p},1285:(s,l,n)=>{var o=n(5050);function u(h){var p=o(this,h).delete(h);return this.size-=p?1:0,p}s.exports=u},6e3:(s,l,n)=>{var o=n(5050);function u(h){return o(this,h).get(h)}s.exports=u},9916:(s,l,n)=>{var o=n(5050);function u(h){return o(this,h).has(h)}s.exports=u},5265:(s,l,n)=>{var o=n(5050);function u(h,p){var v=o(this,h),g=v.size;return v.set(h,p),this.size+=v.size==g?0:1,this}s.exports=u},8776:s=>{function l(n){var o=-1,u=Array(n.size);return n.forEach(function(h,p){u[++o]=[p,h]}),u}s.exports=l},2634:s=>{function l(n,o){return function(u){return u==null?!1:u[n]===o&&(o!==void 0||n in Object(u))}}s.exports=l},4523:(s,l,n)=>{var o=n(8306),u=500;function h(p){var v=o(p,function(S){return g.size===u&&g.clear(),S}),g=v.cache;return v}s.exports=h},4536:(s,l,n)=>{var o=n(852),u=o(Object,"create");s.exports=u},6916:(s,l,n)=>{var o=n(5569),u=o(Object.keys,Object);s.exports=u},3498:s=>{function l(n){var o=[];if(n!=null)for(var u in Object(n))o.push(u);return o}s.exports=l},1167:(s,l,n)=>{s=n.nmd(s);var o=n(1957),u=l&&!l.nodeType&&l,h=u&&!0&&s&&!s.nodeType&&s,p=h&&h.exports===u,v=p&&o.process,g=function(){try{var S=h&&h.require&&h.require("util").types;return S||v&&v.binding&&v.binding("util")}catch{}}();s.exports=g},2333:s=>{var l=Object.prototype,n=l.toString;function o(u){return n.call(u)}s.exports=o},5569:s=>{function l(n,o){return function(u){return n(o(u))}}s.exports=l},5357:(s,l,n)=>{var o=n(6874),u=Math.max;function h(p,v,g){return v=u(v===void 0?p.length-1:v,0),function(){for(var S=arguments,_=-1,E=u(S.length-v,0),w=Array(E);++_<E;)w[_]=S[v+_];_=-1;for(var I=Array(v+1);++_<v;)I[_]=S[_];return I[v]=g(w),o(p,this,I)}}s.exports=h},292:(s,l,n)=>{var o=n(7786),u=n(4259);function h(p,v){return v.length<2?p:o(p,u(v,0,-1))}s.exports=h},5639:(s,l,n)=>{var o=n(1957),u=typeof self=="object"&&self&&self.Object===Object&&self,h=o||u||Function("return this")();s.exports=h},619:s=>{var l="__lodash_hash_undefined__";function n(o){return this.__data__.set(o,l),this}s.exports=n},2385:s=>{function l(n){return this.__data__.has(n)}s.exports=l},1814:s=>{function l(n){var o=-1,u=Array(n.size);return n.forEach(function(h){u[++o]=h}),u}s.exports=l},61:(s,l,n)=>{var o=n(6560),u=n(1275),h=u(o);s.exports=h},1275:s=>{var l=800,n=16,o=Date.now;function u(h){var p=0,v=0;return function(){var g=o(),S=n-(g-v);if(v=g,S>0){if(++p>=l)return arguments[0]}else p=0;return h.apply(void 0,arguments)}}s.exports=u},7465:(s,l,n)=>{var o=n(8407);function u(){this.__data__=new o,this.size=0}s.exports=u},3779:s=>{function l(n){var o=this.__data__,u=o.delete(n);return this.size=o.size,u}s.exports=l},7599:s=>{function l(n){return this.__data__.get(n)}s.exports=l},4758:s=>{function l(n){return this.__data__.has(n)}s.exports=l},4309:(s,l,n)=>{var o=n(8407),u=n(7071),h=n(3369),p=200;function v(g,S){var _=this.__data__;if(_ instanceof o){var E=_.__data__;if(!u||E.length<p-1)return E.push([g,S]),this.size=++_.size,this;_=this.__data__=new h(E)}return _.set(g,S),this.size=_.size,this}s.exports=v},2351:s=>{function l(n,o,u){for(var h=u-1,p=n.length;++h<p;)if(n[h]===o)return h;return-1}s.exports=l},5514:(s,l,n)=>{var o=n(4523),u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,p=o(function(v){var g=[];return v.charCodeAt(0)===46&&g.push(""),v.replace(u,function(S,_,E,w){g.push(E?w.replace(h,"$1"):_||S)}),g});s.exports=p},327:(s,l,n)=>{var o=n(3448),u=1/0;function h(p){if(typeof p=="string"||o(p))return p;var v=p+"";return v=="0"&&1/p==-u?"-0":v}s.exports=h},346:s=>{var l=Function.prototype,n=l.toString;function o(u){if(u!=null){try{return n.call(u)}catch{}try{return u+""}catch{}}return""}s.exports=o},7990:s=>{var l=/\s/;function n(o){for(var u=o.length;u--&&l.test(o.charAt(u)););return u}s.exports=n},6678:(s,l,n)=>{var o=n(5990),u=4;function h(p){return o(p,u)}s.exports=h},361:(s,l,n)=>{var o=n(5990),u=1,h=4;function p(v){return o(v,u|h)}s.exports=p},5703:s=>{function l(n){return function(){return n}}s.exports=l},1966:(s,l,n)=>{var o=n(731),u=n(1078),h=n(5976),p=n(9246),v=h(function(g,S){return p(g)?o(g,u(S,1,p,!0)):[]});s.exports=v},7813:s=>{function l(n,o){return n===o||n!==n&&o!==o}s.exports=l},3311:(s,l,n)=>{var o=n(7740),u=n(998),h=o(u);s.exports=h},998:(s,l,n)=>{var o=n(1848),u=n(7206),h=n(554),p=Math.max;function v(g,S,_){var E=g==null?0:g.length;if(!E)return-1;var w=_==null?0:h(_);return w<0&&(w=p(E+w,0)),o(g,u(S,3),w)}s.exports=v},5564:(s,l,n)=>{var o=n(1078);function u(h){var p=h==null?0:h.length;return p?o(h,1):[]}s.exports=u},7361:(s,l,n)=>{var o=n(7786);function u(h,p,v){var g=h==null?void 0:o(h,p);return g===void 0?v:g}s.exports=u},9095:(s,l,n)=>{var o=n(13),u=n(222);function h(p,v){return p!=null&&u(p,v,o)}s.exports=h},6557:s=>{function l(n){return n}s.exports=l},3137:(s,l,n)=>{var o=n(5703),u=n(7779),h=n(6557),p=Object.prototype,v=p.toString,g=u(function(S,_,E){_!=null&&typeof _.toString!="function"&&(_=v.call(_)),S[_]=E},o(h));s.exports=g},5694:(s,l,n)=>{var o=n(9454),u=n(7005),h=Object.prototype,p=h.hasOwnProperty,v=h.propertyIsEnumerable,g=o(function(){return arguments}())?o:function(S){return u(S)&&p.call(S,"callee")&&!v.call(S,"callee")};s.exports=g},1469:s=>{var l=Array.isArray;s.exports=l},8612:(s,l,n)=>{var o=n(3560),u=n(1780);function h(p){return p!=null&&u(p.length)&&!o(p)}s.exports=h},9246:(s,l,n)=>{var o=n(8612),u=n(7005);function h(p){return u(p)&&o(p)}s.exports=h},4144:(s,l,n)=>{s=n.nmd(s);var o=n(5639),u=n(5062),h=l&&!l.nodeType&&l,p=h&&!0&&s&&!s.nodeType&&s,v=p&&p.exports===h,g=v?o.Buffer:void 0,S=g?g.isBuffer:void 0,_=S||u;s.exports=_},8446:(s,l,n)=>{var o=n(939);function u(h,p){return o(h,p)}s.exports=u},3560:(s,l,n)=>{var o=n(4239),u=n(3218),h="[object AsyncFunction]",p="[object Function]",v="[object GeneratorFunction]",g="[object Proxy]";function S(_){if(!u(_))return!1;var E=o(_);return E==p||E==v||E==h||E==g}s.exports=S},1780:s=>{var l=9007199254740991;function n(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=l}s.exports=n},6688:(s,l,n)=>{var o=n(5588),u=n(1717),h=n(1167),p=h&&h.isMap,v=p?u(p):o;s.exports=v},3218:s=>{function l(n){var o=typeof n;return n!=null&&(o=="object"||o=="function")}s.exports=l},7005:s=>{function l(n){return n!=null&&typeof n=="object"}s.exports=l},8630:(s,l,n)=>{var o=n(4239),u=n(5924),h=n(7005),p="[object Object]",v=Function.prototype,g=Object.prototype,S=v.toString,_=g.hasOwnProperty,E=S.call(Object);function w(I){if(!h(I)||o(I)!=p)return!1;var M=u(I);if(M===null)return!0;var D=_.call(M,"constructor")&&M.constructor;return typeof D=="function"&&D instanceof D&&S.call(D)==E}s.exports=w},2928:(s,l,n)=>{var o=n(9221),u=n(1717),h=n(1167),p=h&&h.isSet,v=p?u(p):o;s.exports=v},7037:(s,l,n)=>{var o=n(4239),u=n(1469),h=n(7005),p="[object String]";function v(g){return typeof g=="string"||!u(g)&&h(g)&&o(g)==p}s.exports=v},3448:(s,l,n)=>{var o=n(4239),u=n(7005),h="[object Symbol]";function p(v){return typeof v=="symbol"||u(v)&&o(v)==h}s.exports=p},6719:(s,l,n)=>{var o=n(8749),u=n(1717),h=n(1167),p=h&&h.isTypedArray,v=p?u(p):o;s.exports=v},3674:(s,l,n)=>{var o=n(4636),u=n(280),h=n(8612);function p(v){return h(v)?o(v):u(v)}s.exports=p},1704:(s,l,n)=>{var o=n(4636),u=n(313),h=n(8612);function p(v){return h(v)?o(v,!0):u(v)}s.exports=p},928:s=>{function l(n){var o=n==null?0:n.length;return o?n[o-1]:void 0}s.exports=l},8306:(s,l,n)=>{var o=n(3369),u="Expected a function";function h(p,v){if(typeof p!="function"||v!=null&&typeof v!="function")throw new TypeError(u);var g=function(){var S=arguments,_=v?v.apply(this,S):S[0],E=g.cache;if(E.has(_))return E.get(_);var w=p.apply(this,S);return g.cache=E.set(_,w)||E,w};return g.cache=new(h.Cache||o),g}h.Cache=o,s.exports=h},308:s=>{function l(){}s.exports=l},7557:(s,l,n)=>{var o=n(9932),u=n(5990),h=n(7406),p=n(1811),v=n(8363),g=n(696),S=n(9021),_=n(6904),E=1,w=2,I=4,M=S(function(D,j){var G={};if(D==null)return G;var O=!1;j=o(j,function(U){return U=p(U,D),O||(O=U.length>1),U}),v(D,_(D),G),O&&(G=u(G,E|w|I,g));for(var B=j.length;B--;)h(G,j[B]);return G});s.exports=M},9601:(s,l,n)=>{var o=n(371),u=n(9152),h=n(5403),p=n(327);function v(g){return h(g)?o(p(g)):u(g)}s.exports=v},479:s=>{function l(){return[]}s.exports=l},5062:s=>{function l(){return!1}s.exports=l},8601:(s,l,n)=>{var o=n(4841),u=1/0,h=17976931348623157e292;function p(v){if(!v)return v===0?v:0;if(v=o(v),v===u||v===-u){var g=v<0?-1:1;return g*h}return v===v?v:0}s.exports=p},554:(s,l,n)=>{var o=n(8601);function u(h){var p=o(h),v=p%1;return p===p?v?p-v:p:0}s.exports=u},4841:(s,l,n)=>{var o=n(7561),u=n(3218),h=n(3448),p=NaN,v=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,S=/^0o[0-7]+$/i,_=parseInt;function E(w){if(typeof w=="number")return w;if(h(w))return p;if(u(w)){var I=typeof w.valueOf=="function"?w.valueOf():w;w=u(I)?I+"":I}if(typeof w!="string")return w===0?w:+w;w=o(w);var M=g.test(w);return M||S.test(w)?_(w.slice(2),M?2:8):v.test(w)?p:+w}s.exports=E},9833:(s,l,n)=>{var o=n(531);function u(h){return h==null?"":o(h)}s.exports=u},4908:(s,l,n)=>{var o=n(5652);function u(h){return h&&h.length?o(h):[]}s.exports=u},2569:(s,l,n)=>{var o=n(731),u=n(5976),h=n(9246),p=u(function(v,g){return h(v)?o(v,g):[]});s.exports=p}},i={};function d(s){var l=i[s];if(l!==void 0)return l.exports;var n=i[s]={id:s,loaded:!1,exports:{}};return r[s](n,n.exports,d),n.loaded=!0,n.exports}d.n=s=>{var l=s&&s.__esModule?()=>s.default:()=>s;return d.d(l,{a:l}),l},d.d=(s,l)=>{for(var n in l)d.o(l,n)&&!d.o(s,n)&&Object.defineProperty(s,n,{enumerable:!0,get:l[n]})},d.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),d.o=(s,l)=>Object.prototype.hasOwnProperty.call(s,l),d.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},d.nmd=s=>(s.paths=[],s.children||(s.children=[]),s);var b={};return(()=>{d.r(b),d.d(b,{chordParserFactory:()=>sa,chordRendererFactory:()=>Ku});function s(a,c){return a.reduce(function(m,T){return m?T(m):null},c)}var l=d(361),n=d.n(l),o=d(7037),u=d.n(o),h=function(c){if(!Array.isArray(c))throw new TypeError("customFilters should be given as an array");if(c.some(function(m){return typeof m!="function"}))throw new TypeError("The given filter is not a function");return!0};const p=h;var v=d(3137),g=d.n(v),S=d(7557),_=d.n(S),E;function w(a){"@babel/helpers - typeof";return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},w(a)}function I(a,c){var m=Object.keys(a);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(a);c&&(T=T.filter(function(N){return Object.getOwnPropertyDescriptor(a,N).enumerable})),m.push.apply(m,T)}return m}function M(a){for(var c=1;c<arguments.length;c++){var m=arguments[c]!=null?arguments[c]:{};c%2?I(Object(m),!0).forEach(function(T){D(a,T,m[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(m)):I(Object(m)).forEach(function(T){Object.defineProperty(a,T,Object.getOwnPropertyDescriptor(m,T))})}return a}function D(a,c,m){return c=j(c),c in a?Object.defineProperty(a,c,{value:m,enumerable:!0,configurable:!0,writable:!0}):a[c]=m,a}function j(a){var c=G(a,"string");return w(c)==="symbol"?c:String(c)}function G(a,c){if(w(a)!=="object"||a===null)return a;var m=a[Symbol.toPrimitive];if(m!==void 0){var T=m.call(a,c||"default");if(w(T)!=="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(a)}var O={AFlat:"Ab",A:"A",ASharp:"A#",BFlat:"Bb",B:"B",C:"C",CSharp:"C#",DFlat:"Db",D:"D",DSharp:"D#",EFlat:"Eb",E:"E",F:"F",FSharp:"F#",GFlat:"Gb",G:"G",GSharp:"G#"},B={Ab:O.AFlat,A:O.A,"A#":O.ASharp,Bb:O.BFlat,B:O.B,"B#":O.C,Cb:O.B,C:O.C,"C#":O.CSharp,Db:O.DFlat,D:O.D,"D#":O.DSharp,Eb:O.EFlat,E:O.E,"E#":O.F,Fb:O.E,F:O.F,"F#":O.FSharp,Gb:O.GFlat,G:O.G,"G#":O.GSharp},U={Lab:O.AFlat,La:O.A,"La#":O.ASharp,Sib:O.BFlat,Si:O.B,"Si#":O.C,Dob:O.B,Do:O.C,"Do#":O.CSharp,Reb:O.DFlat,Réb:O.DFlat,Re:O.D,Ré:O.D,"Re#":O.DSharp,"Ré#":O.DSharp,Mib:O.EFlat,Mi:O.E,"Mi#":O.F,Fab:O.E,Fa:O.F,"Fa#":O.FSharp,Solb:O.GFlat,Sol:O.G,"Sol#":O.GSharp},H=M(M({},_()(B,["Bb","B","B#"])),{},{As:O.AFlat,Ais:O.ASharp,Hb:O.BFlat,Hes:O.BFlat,H:O.B,His:O.C,"H#":O.C,Ces:O.B,Cis:O.CSharp,Des:O.DFlat,Dis:O.DSharp,Es:O.EFlat,Eis:O.F,Fes:O.E,Fis:O.FSharp,Ges:O.GFlat,Gis:O.GSharp});function K(a){var c;return Object.keys(a).reduce(function(m,T){return T.match(/.[b|#]$/)&&(c=T.replace("#","♯").replace("b","♭"),m[c]=a[T]),m},{})}var W=M(M({},B),K(B)),C=M(M({},U),K(U)),V=M(M({},H),K(H)),J=M(M(M({},W),C),V);Object.keys(J).sort(function(a,c){return c.length-a.length});var it=Object.keys(W).sort(function(a,c){return c.length-a.length}),at=Object.keys(C).sort(function(a,c){return c.length-a.length}),ft=Object.keys(V).sort(function(a,c){return c.length-a.length}),Q=[{name:"english",notes:it},{name:"german",notes:ft},{name:"latin",notes:at}],dt=[O.A,O.ASharp,O.B,O.C,O.CSharp,O.D,O.DSharp,O.E,O.F,O.FSharp,O.G,O.GSharp],Tt=[O.A,O.BFlat,O.B,O.C,O.DFlat,O.D,O.EFlat,O.E,O.F,O.GFlat,O.G,O.AFlat],Mt=(E={},D(E,O.CSharp,O.DFlat),D(E,O.DSharp,O.EFlat),D(E,O.FSharp,O.GFlat),D(E,O.GSharp,O.AFlat),D(E,O.ASharp,O.BFlat),E),St=g()(Mt);function re(a){return He(a)||$e(a)||Yt(a)||he()}function he(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yt(a,c){if(a){if(typeof a=="string")return pe(a,c);var m=Object.prototype.toString.call(a).slice(8,-1);if(m==="Object"&&a.constructor&&(m=a.constructor.name),m==="Map"||m==="Set")return Array.from(a);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return pe(a,c)}}function $e(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function He(a){if(Array.isArray(a))return pe(a)}function pe(a,c){(c==null||c>a.length)&&(c=a.length);for(var m=0,T=new Array(c);m<c;m++)T[m]=a[m];return T}var L=[].concat(re(Object.values(O)),re(Object.values(O).map(function(a){return a+"m"})));function f(a){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},f(a)}function y(a,c,m){return Object.defineProperty(a,"prototype",{writable:!1}),a}function x(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function P(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),c&&bt(a,c)}function F(a){var c=Ot();return function(){var T=Z(a),N;if(c){var k=Z(this).constructor;N=Reflect.construct(T,arguments,k)}else N=T.apply(this,arguments);return tt(this,N)}}function tt(a,c){if(c&&(f(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(a)}function q(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function ot(a){var c=typeof Map=="function"?new Map:void 0;return ot=function(T){if(T===null||!Et(T))return T;if(typeof T!="function")throw new TypeError("Super expression must either be null or a function");if(typeof c<"u"){if(c.has(T))return c.get(T);c.set(T,N)}function N(){return ut(T,arguments,Z(this).constructor)}return N.prototype=Object.create(T.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),bt(N,T)},ot(a)}function ut(a,c,m){return Ot()?ut=Reflect.construct.bind():ut=function(N,k,Y){var st=[null];st.push.apply(st,k);var _t=Function.bind.apply(N,st),Ut=new _t;return Y&&bt(Ut,Y.prototype),Ut},ut.apply(null,arguments)}function Ot(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Et(a){return Function.toString.call(a).indexOf("[native code]")!==-1}function bt(a,c){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T},bt(a,c)}function Z(a){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},Z(a)}var Nt=function(a){P(m,a);var c=F(m);function m(){var T;return x(this,m),T=c.call(this,"The given symbol is not a valid string"),T.name="InvalidInput",T}return y(m)}(ot(Error)),rt=function(a){P(m,a);var c=F(m);function m(){var T;x(this,m);var N="An unexpected error happened. Maybe a custom filter returned null instead of throwing an exception?";return T=c.call(this,N),T.name="UnexpectedError",T}return y(m)}(ot(Error)),It=function(a){P(m,a);var c=F(m);function m(T,N,k){var Y;return x(this,m),Y=c.call(this,T),Y.name=k,Y.chord=N,Y}return y(m)}(ot(Error)),Ht=function(a){P(m,a);var c=F(m);function m(T){x(this,m);var N='"'.concat(T.input.symbol,'" does not seems to be a chord');return c.call(this,N,T,"NoSymbolFound")}return y(m)}(It),ke=function(a){P(m,a);var c=F(m);function m(T,N){x(this,m);var k='The chord descriptor "'.concat(T.input.descriptor,'" contains unknown or duplicated modifiers: "').concat(N,'"');return c.call(this,k,T,"InvalidModifier")}return y(m)}(It),Se=function(a){P(m,a);var c=F(m);function m(T,N){x(this,m);var k='"'.concat(T.input.symbol,'" describes a chord with an invalid intervals combo: ')+N.join(" and ");return c.call(this,k,T,"InvalidIntervals")}return y(m)}(It),zt=d(1469),wt=d.n(zt),_e=d(8446),xe=d.n(_e);function me(a,c){var m=wt()(c)?c:[c];return xe()(a,m)}function nt(a,c){return Te(a,c,"oneOf")}function Gt(a,c){return Te(a,c,"all")}function kt(a,c){return Te(a,c,"none")}function Te(a,c,m){var T=wt()(c)?c:[c],N=m==="oneOf"?"some":"every";return T[N](function(k){return m==="none"?!a.includes(k):a.includes(k)})}var Wr=[["2","3"],["2","9"],["3","b3"],["4","11"],["5","b5"],["5","#5"],["b6","#5"],["b6","6"],["b6","13"],["6","13"],["b7","bb7"],["7","b7"],["9","b9"],["9","#9"],["11","#11"],["13","b13"]];function ir(a){var c=a.normalized.intervals,m=Wr.find(function(T){return Gt(c,T)});if(m)throw new Se(a,m);return a}function Bt(a){var c=a.formatted,m=c.rootNote,T=c.bassNote,N=c.descriptor,k=c.chordChanges,Y=m;return N&&(Y+=N),k&&k.length&&(Y+="("+k.join(",")+")"),T&&(Y+="/"+T),a.formatted.symbol=Y,a}var $={ma:"major",ma6:"major6",ma7:"major7",dom7:"dominant7",mi:"minor",mi6:"minor6",mi7:"minor7",miMa7:"minorMajor7",aug:"augmented",dim:"diminished",dim7:"diminished7",power:"power",bass:"bass"},Gn=[$.mi,$.mi6,$.mi7,$.miMa7,$.dim,$.dim7],At;function Be(a){"@babel/helpers - typeof";return Be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Be(a)}function Vr(a){return Pi(a)||Ii(a)||Ci(a)||Ai()}function Ai(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ci(a,c){if(a){if(typeof a=="string")return Yr(a,c);var m=Object.prototype.toString.call(a).slice(8,-1);if(m==="Object"&&a.constructor&&(m=a.constructor.name),m==="Map"||m==="Set")return Array.from(a);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Yr(a,c)}}function Ii(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function Pi(a){if(Array.isArray(a))return Yr(a)}function Yr(a,c){(c==null||c>a.length)&&(c=a.length);for(var m=0,T=new Array(c);m<c;m++)T[m]=a[m];return T}function jt(a,c,m){return c=Mi(c),c in a?Object.defineProperty(a,c,{value:m,enumerable:!0,configurable:!0,writable:!0}):a[c]=m,a}function Mi(a){var c=ji(a,"string");return Be(c)==="symbol"?c:String(c)}function ji(a,c){if(Be(a)!=="object"||a===null)return a;var m=a[Symbol.toPrimitive];if(m!==void 0){var T=m.call(a,c||"default");if(Be(T)!=="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(a)}var Di=(At={},jt(At,$.ma,function(){return""}),jt(At,$.ma6,function(a){return a.normalized.intervals.includes("9")?"69":"6"}),jt(At,$.ma7,function(a){return"ma"+ur(a)}),jt(At,$.dom7,function(a){return a.normalized.intents.alt?"7alt":ur(a)}),jt(At,$.mi,function(){return"mi"}),jt(At,$.mi6,function(a){return a.normalized.intervals.includes("9")?"mi69":"mi6"}),jt(At,$.mi7,function(a){return"mi"+ur(a)}),jt(At,$.miMa7,function(a){return"miMa"+ur(a)}),jt(At,$.aug,function(){return"+"}),jt(At,$.dim,function(){return"dim"}),jt(At,$.dim7,function(){return"dim7"}),jt(At,$.power,function(){return"5"}),jt(At,$.bass,function(){return" bass"}),At),or={add:"add",add7:"Ma7",omit:"omit",sus:"sus"};function Un(a){return a.formatted={rootNote:a.normalized.rootNote,bassNote:a.normalized.bassNote,descriptor:Li(a),chordChanges:Ni(a)},a}function Li(a){var c=Di[a.normalized.quality](a);return a.normalized.isSuspended&&(c+=or.sus),c}function ur(a){var c=a.normalized.extensions,m=c[c.length-1];return m==="11"&&a.normalized.intents.major&&(m=kt(a.normalized.alterations,["b9","#9"])?"9":"7"),m||"7"}function Ni(a){var c=$i(a.normalized.omits);if(Ri(a))return c;var m=Fi(a.normalized.quality,a.normalized.adds);return[].concat(Vr(a.normalized.alterations),Vr(m),Vr(c))}function Ri(a){return a.normalized.intents.alt&&a.normalized.quality===$.dom7}function Fi(a,c){return c.filter(function(m){return!([$.ma6,$.mi6].includes(a)&&m==="9")}).map(function(m,T){var N="";return T===0&&(N+=or.add,["b","#"].includes(m[0])&&(N+=" ")),N+=m==="7"?or.add7:m,N})}function $i(a){return a.map(function(c,m){var T="";return m===0&&(T+=or.omit),T+=c==="b3"?"3":c,T})}var Ee={flat:"♭",sharp:"♯"},Hi={major:{0:"I",2:"II",3:"".concat(Ee.flat,"III"),4:"III",5:"IV",7:"V",8:"".concat(Ee.flat,"VI"),9:"VI",10:"".concat(Ee.flat,"VII"),11:"VII"},minor:{0:"I",2:"II",3:"III",4:"".concat(Ee.sharp,"III"),5:"IV",7:"V",8:"VI",9:"".concat(Ee.sharp,"VI"),10:"VII",11:"".concat(Ee.sharp,"VII")}},Ct;function ze(a){"@babel/helpers - typeof";return ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},ze(a)}function Dt(a,c,m){return c=ki(c),c in a?Object.defineProperty(a,c,{value:m,enumerable:!0,configurable:!0,writable:!0}):a[c]=m,a}function ki(a){var c=Bi(a,"string");return ze(c)==="symbol"?c:String(c)}function Bi(a,c){if(ze(a)!=="object"||a===null)return a;var m=a[Symbol.toPrimitive];if(m!==void 0){var T=m.call(a,c||"default");if(ze(T)!=="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(a)}var et={sup2:"²",sup4:"⁴",sup5:"⁵",sup6:"⁶",sup7:"⁷",sub3:"₃",sub4:"₄",sub5:"₅",flat:"♭",sharp:"♯"},cr={major:["I","ii","iii","IV","V","vi","vii°"],dom7:["IΔ","ii".concat(et.sup7),"iii".concat(et.sup7),"IVΔ","V".concat(et.sup7),"vi".concat(et.sup7),"viiø"],minor:["i","ii°","III","iv","v","VI","VII"],minor7:["i".concat(et.sup7),"iiø","IIIΔ","iv".concat(et.sup7),"v".concat(et.sup7),"VIΔ","VIIΔ"]},lr={borrowedFromMinor:["i","ii°","".concat(et.flat,"III"),"iv","v","".concat(et.flat,"VI"),"".concat(et.flat,"VII")],borrowedFromMinor7:["i".concat(et.sup7),"iiø","".concat(et.flat,"IIIΔ"),"iv".concat(et.sup7),"v".concat(et.sup7),"".concat(et.flat,"VIΔ"),"".concat(et.flat,"VIIΔ")],borrowedFromMajor:["I","ii","".concat(et.sharp,"iii"),"IV","V","".concat(et.sharp,"vi"),"".concat(et.sharp,"vii°")],borrowedFromDom7:["IΔ","ii".concat(et.sup7),"".concat(et.sharp,"iii").concat(et.sup7),"IVΔ","V".concat(et.sup7),"".concat(et.sharp,"vi").concat(et.sup7),"".concat(et.sharp,"viiø")]};function zi(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",c=arguments.length>1?arguments[1]:void 0,m,T,N;a||(a=c.normalized.rootNote);var k=a.indexOf("m")>-1?"minor":"major",Y=Gn.includes(c.normalized.quality)?"minor":"major";m=Gi(a,k,c,Y);var st=Yi(c),_t=Ki[c.normalized.quality](c,st);return T="".concat(m).concat(_t),Wi(k,T)?N="diatonic":Vi(k,T)?N="borrowed":(N="unknown",m="?",T="".concat(m).concat(_t)),T+=st,c.numeral={symbol:T,degree:m,descriptor:_t,inversion:st,type:N,thirdQuality:Y},c}function Gi(a,c,m,T){var N=a.replace("m",""),k=Ui(N,m.normalized.rootNote),Y=Hi[c][k]||"?";return T==="minor"?Y.toLowerCase():Y}function Ui(a,c){var m=dt.indexOf(St[a]||a),T=dt.indexOf(St[c]||c);return(T-m+12)%12}var Ki=(Ct={},Dt(Ct,$.ma,function(){return""}),Dt(Ct,$.ma6,function(){return""}),Dt(Ct,$.ma7,function(){return"Δ"}),Dt(Ct,$.dom7,function(a,c){return c===""?"".concat(et.sup7):""}),Dt(Ct,$.mi,function(){return""}),Dt(Ct,$.mi6,function(){return""}),Dt(Ct,$.mi7,function(a,c){return a.normalized.intervals.includes("b5")?"ø":c===""?"".concat(et.sup7):""}),Dt(Ct,$.miMa7,function(){return"mΔ"}),Dt(Ct,$.aug,function(){return"+"}),Dt(Ct,$.dim,function(){return"°"}),Dt(Ct,$.dim7,function(a,c){return c===""?"°".concat(et.sup7):"°"}),Dt(Ct,$.power,function(){return""}),Dt(Ct,$.bass,function(){return""}),Ct);function Wi(a,c){return a==="major"?cr.major.includes(c)||cr.dom7.includes(c):cr.minor.includes(c)||cr.minor7.includes(c)}function Vi(a,c){return a==="major"?lr.borrowedFromMinor.includes(c)||lr.borrowedFromMinor7.includes(c):lr.borrowedFromMajor.includes(c)||lr.borrowedFromDom7.includes(c)}function Yi(a){var c="";return a.normalized.bassNote&&(Xi(a)?c=Kn(a)?"".concat(et.sup6).concat(et.sub5):"".concat(et.sup6):Qi(a)?c=Kn(a)?"".concat(et.sup4).concat(et.sub3):"".concat(et.sup6).concat(et.sub4):Zi(a)&&(c="²")),c}function Kn(a){return[$.ma7,$.mi7,$.miMa7,$.dom7,$.dim7].includes(a.normalized.quality)}function Xi(a){return ne(a,"b3")||ne(a,"3")}function Qi(a){return ne(a,"b5")||ne(a,"5")||ne(a,"#5")}function Zi(a){return ne(a,"bb7")||ne(a,"b7")||ne(a,"7")}function ne(a,c){var m=a.normalized.intervals.indexOf(c);if(m===-1)return!1;var T=St[a.normalized.bassNote]||a.normalized.bassNote,N=St[a.normalized.notes[m]]||a.normalized.notes[m];return T===N}function Ji(a){var c=[qi,to,eo,ro];return a.input.descriptor&&(a.input.parsableDescriptor=s(c,a.input.descriptor)),a}function qi(a){return a.replace(/[A-LN-Za-z]+/g,function(c){return c.toLowerCase()}).replace("oMit","omit").replace("diM","dim").replace("augMented","augmented")}function to(a){return a.replace(/ /g,"")}function eo(a){return a.replace(/(7?dim)(alt|add)/g,"$1 $2").replace(/([m|M])(alt|add)/g,"$1 $2").replace(/i(no[35])/g,"i $1").replace(/([b♭#♯]9)6/g,"$1 6").replace(/(9\/?6)/g," $1").replaceAll("+5","#5").replaceAll("-5","b5")}function ro(a){var c,m,T;return a.replace(/\((.*?)\)/g,function(N,k){return c=[],m="",k.split(",").forEach(function(Y){T=!0,Y.startsWith("add")?m="add":Y.startsWith("omit")?m="omit":Y.startsWith("no")?m="no":T=!1,T?c.push(Y):c.push(m+Y)})," "+c.join(" ")+" "})}function no(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;return{input:{symbol:c},normalized:{},formatted:{},parserConfiguration:n()(a)}}var ao={C:"flat",D:"sharp",E:"sharp",F:"flat",G:"sharp",A:"sharp",B:"sharp",Cm:"flat",Dm:"flat",Em:"sharp",Fm:"flat",Gm:"flat",Am:"flat",Bm:"sharp"};function so(a){return a.indexOf("#")>-1?"sharp":a.indexOf("b")>-1?"flat":ao[a]}function fr(a){return co(a)||uo(a)||oo(a)||io()}function io(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oo(a,c){if(a){if(typeof a=="string")return Xr(a,c);var m=Object.prototype.toString.call(a).slice(8,-1);if(m==="Object"&&a.constructor&&(m=a.constructor.name),m==="Map"||m==="Set")return Array.from(a);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Xr(a,c)}}function uo(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function co(a){if(Array.isArray(a))return Xr(a)}function Xr(a,c){(c==null||c>a.length)&&(c=a.length);for(var m=0,T=new Array(c);m<c;m++)T[m]=a[m];return T}function Qr(a){var c=a.normalized.rootNote,m=a.normalized.semitones,T=a.normalized.quality,N=c;Gn.includes(T)&&(N+="m");var k=so(N)==="sharp"?dt:Tt,Y=k.indexOf(c),st=[].concat(fr(k.slice(Y)),fr(k.slice(0,Y)),fr(k.slice(Y)),fr(k.slice(0,Y)));return a.normalized.notes=m.map(function(_t){return st[_t]}),a}function lo(a){return a.normalized.rootNote=J[a.input.rootNote],a.input.bassNote&&(a.normalized.bassNote=J[a.input.bassNote]),a}var fo=d(6678),Zr=d.n(fo),ho=d(3311),po=d.n(ho),mo=d(4908),Wn=d.n(mo),vo=d(2569),Vn=d.n(vo);function Ge(a){"@babel/helpers - typeof";return Ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Ge(a)}function Yn(a,c){var m=Object.keys(a);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(a);c&&(T=T.filter(function(N){return Object.getOwnPropertyDescriptor(a,N).enumerable})),m.push.apply(m,T)}return m}function we(a){for(var c=1;c<arguments.length;c++){var m=arguments[c]!=null?arguments[c]:{};c%2?Yn(Object(m),!0).forEach(function(T){Rt(a,T,m[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(m)):Yn(Object(m)).forEach(function(T){Object.defineProperty(a,T,Object.getOwnPropertyDescriptor(m,T))})}return a}function Rt(a,c,m){return c=go(c),c in a?Object.defineProperty(a,c,{value:m,enumerable:!0,configurable:!0,writable:!0}):a[c]=m,a}function go(a){var c=yo(a,"string");return Ge(c)==="symbol"?c:String(c)}function yo(a,c){if(Ge(a)!=="object"||a===null)return a;var m=a[Symbol.toPrimitive];if(m!==void 0){var T=m.call(a,c||"default");if(Ge(T)!=="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(a)}function Xn(a){return xo(a)||_o(a)||So(a)||bo()}function bo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function So(a,c){if(a){if(typeof a=="string")return Jr(a,c);var m=Object.prototype.toString.call(a).slice(8,-1);if(m==="Object"&&a.constructor&&(m=a.constructor.name),m==="Map"||m==="Set")return Array.from(a);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Jr(a,c)}}function _o(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function xo(a){if(Array.isArray(a))return Jr(a)}function Jr(a,c){(c==null||c>a.length)&&(c=a.length);for(var m=0,T=new Array(c);m<c;m++)T[m]=a[m];return T}function Qn(a){var c=Zr()(a.normalized.intervals),m={quality:"",isSuspended:!1,extensions:[],alterations:[],adds:[],omits:[]};if(To(c))m.quality=$.power;else if(Eo(c))m.quality=$.bass;else{var T=Oo(c,a.normalized.intents.major),N=wo(c,a.normalized.intents.major),k=Ao(c,a,N,T),Y=k.qualityIntervals,st=k.quality,_t=jo(c,st),Ut=["1"].concat(Xn(Y),Xn(_t)),se=$o(c,Ut,st),Ae=se.adds,ve=se.alterations;m=we(we({},m),{},{quality:st,isSuspended:N,extensions:_t,alterations:ve,adds:Ae,omits:T})}return we(we({},a),{},{normalized:we(we({},a.normalized),m)})}function To(a){return me(a,["1","5"])}function Eo(a){return me(a,["1"])}function wo(a,c){return a.includes("4")||a.includes("11")&&c&&!a.includes("3")}function Oo(a,c){var m=[];return(kt(a,["b3","3","4","11"])||!c&&kt(a,["b3","4"]))&&m.push(c?"3":"b3"),kt(a,["b5","5","#5","b13"])&&m.push("5"),m}function Ao(a,c,m,T){var N=Co(a,c,m,T),k=[{qualityIntervals:["b3"],quality:$.mi},{qualityIntervals:["b3","6"],quality:$.mi6},{qualityIntervals:["b3","7"],quality:$.miMa7},{qualityIntervals:["b3","b7"],quality:$.mi7},{qualityIntervals:["3"],quality:$.ma},{qualityIntervals:["3","6"],quality:$.ma6},{qualityIntervals:["3","7"],quality:$.ma7},{qualityIntervals:["3","b7"],quality:$.dom7},{qualityIntervals:["3","#5"],quality:$.aug},{qualityIntervals:["b3","b5"],quality:$.dim},{qualityIntervals:["b3","b5","bb7"],quality:$.dim7}].sort(function(Y,st){return st.qualityIntervals.length-Y.qualityIntervals.length});return po()(k,function(Y){return Gt(N,Y.qualityIntervals)})}function Co(a,c,m,T){var N=[Io.bind(null,T),Po.bind(null,m,c.normalized.intents.major),Mo.bind(null,c.normalized.intents.alt),Wn()];return s(N,Zr()(a))}function Io(a,c){var m=Zr()(c);return a.includes("3")?m.push("3"):a.includes("b3")&&m.push("b3"),m}function Po(a,c,m){if(a){var T=Vn()(m,"4");return T.push(c?"3":"b3"),T}return m}function Mo(a,c){if(a){var m=Vn()(c,"b5","#5");return m.push("5"),m}return c}function jo(a,c){var m=[];return Do(c)&&(Lo(a,c)?m.push("9","11","13"):No(a,c)?m.push("9","13"):Ro(a)?m.push("9","11"):Fo(a)&&m.push("9")),m}function Do(a){return[$.ma7,$.dom7,$.mi7,$.miMa7].includes(a)}function Zn(a){return[$.mi7,$.miMa7].includes(a)}function Lo(a,c){return Zn(c)&&nt(a,"13")&&nt(a,["11","#11"])&&nt(a,["b9","9","#9"])}function No(a,c){return!Zn(c)&&nt(a,"13")&&nt(a,["b9","9","#9"])}function Ro(a){return nt(a,"11")&&nt(a,["b9","9","#9"])}function Fo(a){return a.includes("9")}function $o(a,c,m){var T=[],N=[];return a.filter(function(k){return k!=="5"&&k!=="4"}).forEach(function(k){c.includes(k)||(Ho(m,k)?N.push(k):T.push(k))}),ko(a)&&T.push("3"),{adds:Jn(T),alterations:Jn(N)}}function Ho(a,c){var m,T=(m={},Rt(m,$.ma,["b5","#5","#11","b13"]),Rt(m,$.ma6,["b5","#5","#11","b13"]),Rt(m,$.ma7,["b5","#5","#11","b13"]),Rt(m,$.dom7,["b5","#5","b9","#9","#11","b13"]),Rt(m,$.mi,["b5","#5","#11","b13"]),Rt(m,$.mi6,["b5","#5","#11","b13"]),Rt(m,$.mi7,["b5","#5","#11","b13"]),Rt(m,$.miMa7,["b5","#5","#11","b13"]),Rt(m,$.aug,[]),Rt(m,$.dim,[]),Rt(m,$.dim7,[]),m);return T[a].includes(c)}function ko(a){return Gt(a,["3","4"])}function Jn(a){return a.sort(function(c,m){var T=Number.parseInt(c.replace(/[b#]/,"")),N=Number.parseInt(m.replace(/[b#]/,""));return T-N})}function Bo(a,c){var m=c.input.symbol,T=a.join("|"),N=new RegExp("^("+T+")(.*?)(/("+T+"))?$"),k=m.match(N);if(k&&k[1])return c.input.rootNote=k[1],k[2]&&(c.input.descriptor=k[2]),k[4]&&(c.input.bassNote=k[4]),c;throw new Ht(c)}function Ue(a){"@babel/helpers - typeof";return Ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Ue(a)}function qn(a,c){var m=Object.keys(a);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(a);c&&(T=T.filter(function(N){return Object.getOwnPropertyDescriptor(a,N).enumerable})),m.push.apply(m,T)}return m}function dr(a){for(var c=1;c<arguments.length;c++){var m=arguments[c]!=null?arguments[c]:{};c%2?qn(Object(m),!0).forEach(function(T){zo(a,T,m[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(m)):qn(Object(m)).forEach(function(T){Object.defineProperty(a,T,Object.getOwnPropertyDescriptor(m,T))})}return a}function zo(a,c,m){return c=Go(c),c in a?Object.defineProperty(a,c,{value:m,enumerable:!0,configurable:!0,writable:!0}):a[c]=m,a}function Go(a){var c=Uo(a,"string");return Ue(c)==="symbol"?c:String(c)}function Uo(a,c){if(Ue(a)!=="object"||a===null)return a;var m=a[Symbol.toPrimitive];if(m!==void 0){var T=m.call(a,c||"default");if(Ue(T)!=="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(a)}var R={ma:"ma",mi:"mi",dim:"dim",halfDim:"halfDim",aug:"aug",seventh:"seventh",sus:"sus",sus2:"sus2",ninth:"ninth",eleventh:"eleventh",thirteenth:"thirteenth",fifthFlat:"b5",fifthSharp:"#5",ninthFlat:"b9",ninthSharp:"#9",eleventhSharp:"#11",thirteenthFlat:"b13",add3:"add3",add4:"add4",addb6:"addb6",add6:"add6",add69:"add69",add7:"add7",add9:"add9",add11:"add11",add13:"add13",bass:"bass",omit3:"omit3",omit5:"omit5",power:"power",alt:"alt"},qr={"^":[R.ma,R.add7],Δ:[R.ma,R.add7],M:R.ma,Ma:R.ma,Maj:R.ma,Major:R.ma,ma:R.ma,maj:R.ma,major:R.ma},Ko=ea(qr,R.add7,function(a){return a+"7"}),Wo=ea(qr,R.add7,function(a){return"add"+a+"7"}),ta=dr(dr(dr(dr({},qr),Ko),{},{"-":R.mi,m:R.mi,Mi:R.mi,Min:R.mi,Minor:R.mi,mi:R.mi,min:R.mi,minor:R.mi,"°":R.dim,o:R.dim,0:R.dim,dim:R.dim,"dim.":R.dim,diminished:R.dim,Ø:R.halfDim,ø:R.halfDim,h:R.halfDim,"+":R.aug,aug:R.aug,augmented:R.aug,7:R.seventh,4:R.sus,sus:R.sus,sus4:R.sus,suspended:R.sus,suspended4:R.sus,sus2:R.sus2,suspended2:R.sus2,9:R.ninth,11:R.eleventh,13:R.thirteenth,b3:R.mi,b5:R.fifthFlat,"♭5":R.fifthFlat,"#5":R.fifthSharp,"♯5":R.fifthSharp,b9:R.ninthFlat,"♭9":R.ninthFlat,addb9:R.ninthFlat,"add♭9":R.ninthFlat,"#9":R.ninthSharp,"♯9":R.ninthSharp,"add#9":R.ninthSharp,"add♯9":R.ninthSharp,"#11":R.eleventhSharp,"♯11":R.eleventhSharp,"add#11":R.eleventhSharp,b13:R.thirteenthFlat,"♭13":R.thirteenthFlat,addb13:R.thirteenthFlat,"add♭13":R.thirteenthFlat},Wo),{},{2:R.add9,add2:R.add9,add3:R.add3,add4:R.add4,addb6:R.addb6,b6:R.addb6,6:R.add6,add6:R.add6,"6/9":R.add69,69:R.add69,96:R.add69,"9/6":R.add69,add9:R.add9,add11:R.add11,add13:R.add13,bass:R.bass,omit3:R.omit3,no3:R.omit3,omit5:R.omit5,no5:R.omit5,5:R.power,alt:R.alt,"alt.":R.alt,altered:R.alt});function ea(a,c,m){return Object.keys(a).map(m).reduce(function(T,N){return T[N]=c,T},{})}var Vo=Object.keys(ta).sort(function(a,c){return c.length-a.length});const z=R,hr={1:0,2:2,b3:3,3:4,4:5,b5:6,5:7,"#5":8,b6:8,6:9,bb7:9,b7:10,7:11,b9:13,9:14,"#9":15,11:17,"#11":18,b13:20,13:21};function ae(a){return Zo(a)||Qo(a)||Xo(a)||Yo()}function Yo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xo(a,c){if(a){if(typeof a=="string")return tn(a,c);var m=Object.prototype.toString.call(a).slice(8,-1);if(m==="Object"&&a.constructor&&(m=a.constructor.name),m==="Map"||m==="Set")return Array.from(a);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return tn(a,c)}}function Qo(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function Zo(a){if(Array.isArray(a))return tn(a)}function tn(a,c){(c==null||c>a.length)&&(c=a.length);for(var m=0,T=new Array(c);m<c;m++)T[m]=a[m];return T}function Jo(a,c){var m=[];return c.input.parsableDescriptor&&(m=qo(c)),c.input.modifiers=m,c.normalized.intervals=tu(m,a),c.normalized.semitones=lu(c.normalized.intervals),c.normalized.intents=fu(m),c}function qo(a){var c=a.input.parsableDescriptor,m=[],T=new RegExp(Vo.map(cu).join("|"),"g"),N=c.match(T),k=c,Y;if(N&&N.forEach(function(st){Y=ta[st],Array.isArray(Y)||(Y=[Y]),Y.forEach(function(_t){m.includes(_t)||(m.push(_t),k=k.replace(st,""))})}),m.length===0)throw new Ht(a);if(k.trim().length>0)throw new ke(a,k);return m}function tu(a,c){return a.includes(z.power)?["1","5"]:a.includes(z.bass)?["1"]:Wn()(["1"].concat(ae(eu(a)),ae(ru(a)),ae(nu(a,c)),ae(au(a)),ae(su(a)),ae(iu(a,c)),ae(ou(a,c)),ae(uu(a,c)))).sort(function(m,T){return hr[m]-hr[T]})}function eu(a){var c=[];return a.includes(z.omit3)?[]:(nt(a,[z.sus,z.sus2])||(en(a)?a.includes(z.eleventh)||c.push("3"):c.push("b3")),a.includes(z.add3)&&c.push("3"),c)}function ru(a){var c=[];return nt(a,[z.sus,z.add4])&&c.push("4"),c}function nu(a,c){var m=[];return a.includes(z.omit5)?[]:((nt(a,[z.dim,z.halfDim,z.fifthFlat])||Oe(a,c,"b5"))&&m.push("b5"),(nt(a,[z.aug,z.fifthSharp])||Oe(a,c,"#5"))&&m.push("#5"),!m.length&&!a.includes(z.thirteenthFlat)&&m.push("5"),m)}function au(a){var c=[];return nt(a,[z.addb6])&&c.push("b6"),nt(a,[z.add6,z.add69])&&!na(a)&&!nt(a,[z.halfDim])&&c.push("6"),c}function su(a){var c=[];return nt(a,[z.alt])&&c.push("b7"),nt(a,[z.seventh,z.halfDim])?a.includes(z.dim)?c.push("bb7"):a.includes(z.halfDim)?c.push("b7"):c.push(ra(a)):nt(a,[z.ninth,z.eleventh,z.thirteenth])&&c.push(ra(a)),a.includes(z.add7)&&c.push("7"),c}function ra(a){return a.includes(z.ma)?"7":"b7"}function iu(a,c){var m=[];return nt(a,[z.add69,z.ninth,z.eleventh,z.thirteenth])&&kt(a,[z.ninthFlat,z.ninthSharp])&&m.push("9"),nt(a,[z.sus2,z.add9])&&m.push("9"),(nt(a,[z.ninthFlat])||Oe(a,c,"b9"))&&m.push("b9"),(nt(a,[z.ninthSharp])||Oe(a,c,"#9"))&&m.push("#9"),m}function ou(a,c){var m=[];return(nt(a,[z.thirteenth])&&!en(a)||nt(a,[z.eleventh,z.add11]))&&m.push("11"),(nt(a,[z.eleventhSharp])||Oe(a,c,"#11"))&&m.push("#11"),m}function uu(a,c){var m=[];return(nt(a,[z.add13,z.thirteenth])||nt(a,[z.add6,z.add69])&&na(a)||nt(a,[z.add6,z.add69])&&nt(a,[z.halfDim]))&&m.push("13"),(nt(a,[z.thirteenthFlat])||Oe(a,c,"b13"))&&m.push("b13"),m}function Oe(a,c,m){return a.includes(z.alt)&&c.includes(m)}function en(a){return kt(a,[z.mi,z.dim,z.dim7,z.halfDim])}function na(a){return nt(a,[z.seventh,z.ninth,z.eleventh,z.thirteenth])}function cu(a){return a.replace(/[.\-*+?^${}()|[\]\\]/g,"\\$&")}function lu(a){return a.map(function(c){return hr[c]}).sort(function(c,m){return c-m})}function fu(a){return{major:en(a),eleventh:a.includes(z.eleventh),alt:a.includes(z.alt)}}function du(a){return vu(a)||mu(a)||pu(a)||hu()}function hu(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pu(a,c){if(a){if(typeof a=="string")return rn(a,c);var m=Object.prototype.toString.call(a).slice(8,-1);if(m==="Object"&&a.constructor&&(m=a.constructor.name),m==="Map"||m==="Set")return Array.from(a);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return rn(a,c)}}function mu(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function vu(a){if(Array.isArray(a))return rn(a)}function rn(a,c){(c==null||c>a.length)&&(c=a.length);for(var m=0,T=new Array(c);m<c;m++)T[m]=a[m];return T}function gu(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=["b5","#5","b9","#9","#11","b13"],m=["english","german","latin"],T=a.notationSystems,N=T===void 0?n()(m):T,k=a.altIntervals,Y=k===void 0?n()(c):k,st=a.customFilters,_t=st===void 0?[]:st,Ut=a.key,se=Ut===void 0?"":Ut;return yu(Y,c),bu(N,m),p(_t),Su(se),Ae;function Ae(ve){var ie=[];if(!_u(ve)){var un=new Nt;ie.push(nn(un))}var Qt=n()(Q).filter(function(cn){return N.includes(cn.name)}),oe,We,ue;if(!ie.length)for(;Qt.length&&!oe;){ue=Qt.shift(),We=[no.bind(null,a),Bo.bind(null,ue.notes),Ji,Jo.bind(null,Y),ir,lo,Qn,Un,Bt,Qr,zi.bind(null,se)].concat(du(_t));try{oe=s(We,ve),oe?oe.input.notationSystem=ue.name:ie.push(xu(ue.name))}catch(cn){ie.push(nn(cn,ue.name))}}return oe||{error:ie}}}function yu(a,c){aa("altIntervals",a,c,!0)}function bu(a,c){aa("notationSystems",a,c)}function aa(a,c,m,T){if(!Array.isArray(c))throw new TypeError("'".concat(a,"' should be an array"));if(!T&&c.length===0)throw new TypeError("'".concat(a,"' cannot be empty"));c.forEach(function(N){if(!m.includes(N))throw new TypeError("'".concat(N,"' is not a valid value for ").concat(a))})}function Su(a){if(a!==""&&(!u()(a)||!L.includes(a)))throw new TypeError("'".concat(a,"' is not a valid value for key"))}function _u(a){return typeof a=="string"&&a.length>0}function xu(a){var c=new rt;return nn(c,a)}function nn(a,c){return{type:a.name,chord:a.chord,message:a.message,notationSystem:c}}const sa=gu;function Ke(a){"@babel/helpers - typeof";return Ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Ke(a)}function ia(a,c){var m=Object.keys(a);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(a);c&&(T=T.filter(function(N){return Object.getOwnPropertyDescriptor(a,N).enumerable})),m.push.apply(m,T)}return m}function pr(a){for(var c=1;c<arguments.length;c++){var m=arguments[c]!=null?arguments[c]:{};c%2?ia(Object(m),!0).forEach(function(T){Tu(a,T,m[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(m)):ia(Object(m)).forEach(function(T){Object.defineProperty(a,T,Object.getOwnPropertyDescriptor(m,T))})}return a}function Tu(a,c,m){return c=Eu(c),c in a?Object.defineProperty(a,c,{value:m,enumerable:!0,configurable:!0,writable:!0}):a[c]=m,a}function Eu(a){var c=wu(a,"string");return Ke(c)==="symbol"?c:String(c)}function wu(a,c){if(Ke(a)!=="object"||a===null)return a;var m=a[Symbol.toPrimitive];if(m!==void 0){var T=m.call(a,c||"default");if(Ke(T)!=="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(a)}var Xt={sus2:"sus2",add2:"2",omit:"no",ma:"M",mi:"m",dim:"°",aug7:"7+",eleventh:"11"};function Ou(a){var c,m=a.formatted.chordChanges;return Au(a)?(c=Xt.sus2,m=[]):Cu(a)?(c=Xt.add2,m=[]):Iu(a)?(c=Xt.aug7,m=[]):(c=a.formatted.descriptor.replace("mi",Xt.mi).replace(/[m|M]a/,Xt.ma).replace("dim",Xt.dim),Pu(a)&&(c=c.replace(/7sus|9sus/,Xt.eleventh))),m=m.map(function(T){return T.replace(/[m|M]a/,Xt.ma).replace("omit",Xt.omit)}),pr(pr({},a),{},{formatted:pr(pr({},a.formatted),{},{descriptor:c,chordChanges:m})})}function Au(a){return me(a.normalized.intervals,["1","5","9"])}function Cu(a){return me(a.normalized.intervals,["1","3","5","9"])}function Iu(a){return me(a.normalized.intervals,["1","3","#5","b7"])}function Pu(a){return a.normalized.intents.eleventh}var Mu=d(1966),ju=d.n(Mu);function Du(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"none",c=arguments.length>1?arguments[1]:void 0;if(a==="none")return c;var m={max:["4","b5","#5","6","bb7","b7","7","b9","9","#9","11","#11","b13","13"],core:["4","b9","9","#9","11","#11","b13","13"]},T=ju()(c.normalized.intervals,m[a]);kt(T,["b3","3"])&&T.push(c.normalized.intents.major?"3":"b3"),kt(T,["b5","5","#5"])&&T.push("5"),c.normalized.intervals=T,c.normalized.semitones=T.map(function(k){return hr[k]}),c.normalized.intents.eleventh=!1,c.normalized.intents.alt=!1,a==="max"&&delete c.normalized.bassNote;var N=[Qn,Un,Qr];return s(N,c)}function Lu(a,c,m){var T=m.normalized,N=T.rootNote,k=T.bassNote,Y=ua(N);if(m.normalized.rootNote=oa(Y,a,c),m.formatted.rootNote=m.normalized.rootNote,k){var st=ua(k);m.normalized.bassNote=oa(st,a,c),m.formatted.bassNote=m.normalized.bassNote}return Qr(m)}function oa(a,c,m){var T=dt.indexOf(a),N=T+c,k=Math.floor(N/12),Y=N-k*12,st=dt[Y];return m==="flat"&&Mt[st]||st}function ua(a){return St[a]||a}var an={german:{Ab:"As",A:"A","A#":"Ais",Bb:"Hes",B:"H",C:"C","C#":"Cis",Db:"Des",D:"D","D#":"Dis",Eb:"Es",E:"E",F:"F","F#":"Fis",Gb:"Ges",G:"G","G#":"Gis"},latin:{Ab:"Lab",A:"La","A#":"La#",Bb:"Sib",B:"Si",C:"Do","C#":"Do#",Db:"Reb",D:"Re","D#":"Re#",Eb:"Mib",E:"Mi",F:"Fa","F#":"Fa#",Gb:"Solb",G:"Sol","G#":"Sol#"}},Nu=Object.keys(an);function Ru(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"english",c=arguments.length>1?arguments[1]:void 0,m=a==="auto"?c.input.notationSystem:a;return m==="english"?c:Nu.includes(m)?(c.formatted.rootNote=an[m][c.formatted.rootNote],c.formatted.bassNote&&(c.formatted.bassNote=an[m][c.formatted.bassNote]),c):null}function ca(a){return a&&a.formatted&&a.formatted.symbol?a.formatted.symbol:null}function Fu(a){delete a.parserConfiguration.notationSystems;var c=n()(a),m=ca(a),T=sa(a.parserConfiguration),N=T(m);return c.input=N.input,c}function sn(a){"@babel/helpers - typeof";return sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},sn(a)}function $u(a){return zu(a)||Bu(a)||ku(a)||Hu()}function Hu(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ku(a,c){if(a){if(typeof a=="string")return on(a,c);var m=Object.prototype.toString.call(a).slice(8,-1);if(m==="Object"&&a.constructor&&(m=a.constructor.name),m==="Map"||m==="Set")return Array.from(a);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return on(a,c)}}function Bu(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function zu(a){if(Array.isArray(a))return on(a)}function on(a,c){(c==null||c>a.length)&&(c=a.length);for(var m=0,T=new Array(c);m<c;m++)T[m]=a[m];return T}function Gu(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=a.accidental,m=c===void 0?"original":c,T=a.customFilters,N=T===void 0?[]:T,k=a.notationSystem,Y=k===void 0?"english":k,st=a.printer,_t=st===void 0?"text":st,Ut=a.simplify,se=Ut===void 0?"none":Ut,Ae=a.transposeValue,ve=Ae===void 0?0:Ae,ie=a.useShortNamings,un=ie===void 0?!1:ie;p(N);var Qt=[];return["max","core"].includes(se)&&Qt.push(Du.bind(null,se)),(m!=="original"||ve!==0)&&Qt.push(Lu.bind(null,ve,m)),un&&Qt.push(Ou),Qt.push.apply(Qt,[Ru.bind(null,Y),Bt].concat($u(N))),oe;function oe(We){if(!Uu(We))return null;var ue=s(Qt,n()(We));return _t==="raw"?Fu(ue):ca(ue)}}var Uu=function(c){return c&&sn(c)==="object"&&!c.error&&c.input};const Ku=Gu})(),b})())})(Bs);var Oa=Bs.exports,Pl=Array.isArray,jr=Pl;const Ml=xs(jr);function jl(){this.__data__=[],this.size=0}var Dl=jl;function Ll(e,t){return e===t||e!==e&&t!==t}var zs=Ll,Nl=zs;function Rl(e,t){for(var r=e.length;r--;)if(Nl(e[r][0],t))return r;return-1}var Dr=Rl,Fl=Dr,$l=Array.prototype,Hl=$l.splice;function kl(e){var t=this.__data__,r=Fl(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():Hl.call(t,r,1),--this.size,!0}var Bl=kl,zl=Dr;function Gl(e){var t=this.__data__,r=zl(t,e);return r<0?void 0:t[r][1]}var Ul=Gl,Kl=Dr;function Wl(e){return Kl(this.__data__,e)>-1}var Vl=Wl,Yl=Dr;function Xl(e,t){var r=this.__data__,i=Yl(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}var Ql=Xl,Zl=Dl,Jl=Bl,ql=Ul,tf=Vl,ef=Ql;function Me(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Me.prototype.clear=Zl;Me.prototype.delete=Jl;Me.prototype.get=ql;Me.prototype.has=tf;Me.prototype.set=ef;var Lr=Me,rf=Lr;function nf(){this.__data__=new rf,this.size=0}var af=nf;function sf(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var of=sf;function uf(e){return this.__data__.get(e)}var cf=uf;function lf(e){return this.__data__.has(e)}var ff=lf,df=typeof Jt=="object"&&Jt&&Jt.Object===Object&&Jt,Gs=df,hf=Gs,pf=typeof self=="object"&&self&&self.Object===Object&&self,mf=hf||pf||Function("return this")(),te=mf,vf=te,gf=vf.Symbol,Dn=gf,Aa=Dn,Us=Object.prototype,yf=Us.hasOwnProperty,bf=Us.toString,Ve=Aa?Aa.toStringTag:void 0;function Sf(e){var t=yf.call(e,Ve),r=e[Ve];try{e[Ve]=void 0;var i=!0}catch{}var d=bf.call(e);return i&&(t?e[Ve]=r:delete e[Ve]),d}var _f=Sf,xf=Object.prototype,Tf=xf.toString;function Ef(e){return Tf.call(e)}var wf=Ef,Ca=Dn,Of=_f,Af=wf,Cf="[object Null]",If="[object Undefined]",Ia=Ca?Ca.toStringTag:void 0;function Pf(e){return e==null?e===void 0?If:Cf:Ia&&Ia in Object(e)?Of(e):Af(e)}var Nr=Pf;function Mf(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ks=Mf,jf=Nr,Df=Ks,Lf="[object AsyncFunction]",Nf="[object Function]",Rf="[object GeneratorFunction]",Ff="[object Proxy]";function $f(e){if(!Df(e))return!1;var t=jf(e);return t==Nf||t==Rf||t==Lf||t==Ff}var Ws=$f,Hf=te,kf=Hf["__core-js_shared__"],Bf=kf,fn=Bf,Pa=function(){var e=/[^.]+$/.exec(fn&&fn.keys&&fn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function zf(e){return!!Pa&&Pa in e}var Gf=zf,Uf=Function.prototype,Kf=Uf.toString;function Wf(e){if(e!=null){try{return Kf.call(e)}catch{}try{return e+""}catch{}}return""}var Vs=Wf,Vf=Ws,Yf=Gf,Xf=Ks,Qf=Vs,Zf=/[\\^$.*+?()[\]{}|]/g,Jf=/^\[object .+?Constructor\]$/,qf=Function.prototype,td=Object.prototype,ed=qf.toString,rd=td.hasOwnProperty,nd=RegExp("^"+ed.call(rd).replace(Zf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ad(e){if(!Xf(e)||Yf(e))return!1;var t=Vf(e)?nd:Jf;return t.test(Qf(e))}var sd=ad;function id(e,t){return e==null?void 0:e[t]}var od=id,ud=sd,cd=od;function ld(e,t){var r=cd(e,t);return ud(r)?r:void 0}var je=ld,fd=je,dd=te,hd=fd(dd,"Map"),Ln=hd,pd=je,md=pd(Object,"create"),Rr=md,Ma=Rr;function vd(){this.__data__=Ma?Ma(null):{},this.size=0}var gd=vd;function yd(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var bd=yd,Sd=Rr,_d="__lodash_hash_undefined__",xd=Object.prototype,Td=xd.hasOwnProperty;function Ed(e){var t=this.__data__;if(Sd){var r=t[e];return r===_d?void 0:r}return Td.call(t,e)?t[e]:void 0}var wd=Ed,Od=Rr,Ad=Object.prototype,Cd=Ad.hasOwnProperty;function Id(e){var t=this.__data__;return Od?t[e]!==void 0:Cd.call(t,e)}var Pd=Id,Md=Rr,jd="__lodash_hash_undefined__";function Dd(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Md&&t===void 0?jd:t,this}var Ld=Dd,Nd=gd,Rd=bd,Fd=wd,$d=Pd,Hd=Ld;function De(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}De.prototype.clear=Nd;De.prototype.delete=Rd;De.prototype.get=Fd;De.prototype.has=$d;De.prototype.set=Hd;var kd=De,ja=kd,Bd=Lr,zd=Ln;function Gd(){this.size=0,this.__data__={hash:new ja,map:new(zd||Bd),string:new ja}}var Ud=Gd;function Kd(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Wd=Kd,Vd=Wd;function Yd(e,t){var r=e.__data__;return Vd(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Fr=Yd,Xd=Fr;function Qd(e){var t=Xd(this,e).delete(e);return this.size-=t?1:0,t}var Zd=Qd,Jd=Fr;function qd(e){return Jd(this,e).get(e)}var th=qd,eh=Fr;function rh(e){return eh(this,e).has(e)}var nh=rh,ah=Fr;function sh(e,t){var r=ah(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}var ih=sh,oh=Ud,uh=Zd,ch=th,lh=nh,fh=ih;function Le(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Le.prototype.clear=oh;Le.prototype.delete=uh;Le.prototype.get=ch;Le.prototype.has=lh;Le.prototype.set=fh;var Ys=Le,dh=Lr,hh=Ln,ph=Ys,mh=200;function vh(e,t){var r=this.__data__;if(r instanceof dh){var i=r.__data__;if(!hh||i.length<mh-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new ph(i)}return r.set(e,t),this.size=r.size,this}var gh=vh,yh=Lr,bh=af,Sh=of,_h=cf,xh=ff,Th=gh;function Ne(e){var t=this.__data__=new yh(e);this.size=t.size}Ne.prototype.clear=bh;Ne.prototype.delete=Sh;Ne.prototype.get=_h;Ne.prototype.has=xh;Ne.prototype.set=Th;var Eh=Ne,wh="__lodash_hash_undefined__";function Oh(e){return this.__data__.set(e,wh),this}var Ah=Oh;function Ch(e){return this.__data__.has(e)}var Ih=Ch,Ph=Ys,Mh=Ah,jh=Ih;function Or(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Ph;++t<r;)this.add(e[t])}Or.prototype.add=Or.prototype.push=Mh;Or.prototype.has=jh;var Dh=Or;function Lh(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}var Nh=Lh;function Rh(e,t){return e.has(t)}var Fh=Rh,$h=Dh,Hh=Nh,kh=Fh,Bh=1,zh=2;function Gh(e,t,r,i,d,b){var s=r&Bh,l=e.length,n=t.length;if(l!=n&&!(s&&n>l))return!1;var o=b.get(e),u=b.get(t);if(o&&u)return o==t&&u==e;var h=-1,p=!0,v=r&zh?new $h:void 0;for(b.set(e,t),b.set(t,e);++h<l;){var g=e[h],S=t[h];if(i)var _=s?i(S,g,h,t,e,b):i(g,S,h,e,t,b);if(_!==void 0){if(_)continue;p=!1;break}if(v){if(!Hh(t,function(E,w){if(!kh(v,w)&&(g===E||d(g,E,r,i,b)))return v.push(w)})){p=!1;break}}else if(!(g===S||d(g,S,r,i,b))){p=!1;break}}return b.delete(e),b.delete(t),p}var Xs=Gh,Uh=te,Kh=Uh.Uint8Array,Wh=Kh;function Vh(e){var t=-1,r=Array(e.size);return e.forEach(function(i,d){r[++t]=[d,i]}),r}var Yh=Vh;function Xh(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}var Qh=Xh,Da=Dn,La=Wh,Zh=zs,Jh=Xs,qh=Yh,tp=Qh,ep=1,rp=2,np="[object Boolean]",ap="[object Date]",sp="[object Error]",ip="[object Map]",op="[object Number]",up="[object RegExp]",cp="[object Set]",lp="[object String]",fp="[object Symbol]",dp="[object ArrayBuffer]",hp="[object DataView]",Na=Da?Da.prototype:void 0,dn=Na?Na.valueOf:void 0;function pp(e,t,r,i,d,b,s){switch(r){case hp:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case dp:return!(e.byteLength!=t.byteLength||!b(new La(e),new La(t)));case np:case ap:case op:return Zh(+e,+t);case sp:return e.name==t.name&&e.message==t.message;case up:case lp:return e==t+"";case ip:var l=qh;case cp:var n=i&ep;if(l||(l=tp),e.size!=t.size&&!n)return!1;var o=s.get(e);if(o)return o==t;i|=rp,s.set(e,t);var u=Jh(l(e),l(t),i,d,b,s);return s.delete(e),u;case fp:if(dn)return dn.call(e)==dn.call(t)}return!1}var mp=pp;function vp(e,t){for(var r=-1,i=t.length,d=e.length;++r<i;)e[d+r]=t[r];return e}var gp=vp,yp=gp,bp=jr;function Sp(e,t,r){var i=t(e);return bp(e)?i:yp(i,r(e))}var _p=Sp;function xp(e,t){for(var r=-1,i=e==null?0:e.length,d=0,b=[];++r<i;){var s=e[r];t(s,r,e)&&(b[d++]=s)}return b}var Tp=xp;function Ep(){return[]}var wp=Ep,Op=Tp,Ap=wp,Cp=Object.prototype,Ip=Cp.propertyIsEnumerable,Ra=Object.getOwnPropertySymbols,Pp=Ra?function(e){return e==null?[]:(e=Object(e),Op(Ra(e),function(t){return Ip.call(e,t)}))}:Ap,Mp=Pp;function jp(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}var Dp=jp;function Lp(e){return e!=null&&typeof e=="object"}var $r=Lp,Np=Nr,Rp=$r,Fp="[object Arguments]";function $p(e){return Rp(e)&&Np(e)==Fp}var Hp=$p,Fa=Hp,kp=$r,Qs=Object.prototype,Bp=Qs.hasOwnProperty,zp=Qs.propertyIsEnumerable,Gp=Fa(function(){return arguments}())?Fa:function(e){return kp(e)&&Bp.call(e,"callee")&&!zp.call(e,"callee")},Up=Gp,Ar={exports:{}};function Kp(){return!1}var Wp=Kp;Ar.exports;(function(e,t){var r=te,i=Wp,d=t&&!t.nodeType&&t,b=d&&!0&&e&&!e.nodeType&&e,s=b&&b.exports===d,l=s?r.Buffer:void 0,n=l?l.isBuffer:void 0,o=n||i;e.exports=o})(Ar,Ar.exports);var Zs=Ar.exports,Vp=9007199254740991,Yp=/^(?:0|[1-9]\d*)$/;function Xp(e,t){var r=typeof e;return t=t??Vp,!!t&&(r=="number"||r!="symbol"&&Yp.test(e))&&e>-1&&e%1==0&&e<t}var Qp=Xp,Zp=9007199254740991;function Jp(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Zp}var Js=Jp,qp=Nr,tm=Js,em=$r,rm="[object Arguments]",nm="[object Array]",am="[object Boolean]",sm="[object Date]",im="[object Error]",om="[object Function]",um="[object Map]",cm="[object Number]",lm="[object Object]",fm="[object RegExp]",dm="[object Set]",hm="[object String]",pm="[object WeakMap]",mm="[object ArrayBuffer]",vm="[object DataView]",gm="[object Float32Array]",ym="[object Float64Array]",bm="[object Int8Array]",Sm="[object Int16Array]",_m="[object Int32Array]",xm="[object Uint8Array]",Tm="[object Uint8ClampedArray]",Em="[object Uint16Array]",wm="[object Uint32Array]",ct={};ct[gm]=ct[ym]=ct[bm]=ct[Sm]=ct[_m]=ct[xm]=ct[Tm]=ct[Em]=ct[wm]=!0;ct[rm]=ct[nm]=ct[mm]=ct[am]=ct[vm]=ct[sm]=ct[im]=ct[om]=ct[um]=ct[cm]=ct[lm]=ct[fm]=ct[dm]=ct[hm]=ct[pm]=!1;function Om(e){return em(e)&&tm(e.length)&&!!ct[qp(e)]}var Am=Om;function Cm(e){return function(t){return e(t)}}var Im=Cm,Cr={exports:{}};Cr.exports;(function(e,t){var r=Gs,i=t&&!t.nodeType&&t,d=i&&!0&&e&&!e.nodeType&&e,b=d&&d.exports===i,s=b&&r.process,l=function(){try{var n=d&&d.require&&d.require("util").types;return n||s&&s.binding&&s.binding("util")}catch{}}();e.exports=l})(Cr,Cr.exports);var Pm=Cr.exports,Mm=Am,jm=Im,$a=Pm,Ha=$a&&$a.isTypedArray,Dm=Ha?jm(Ha):Mm,qs=Dm,Lm=Dp,Nm=Up,Rm=jr,Fm=Zs,$m=Qp,Hm=qs,km=Object.prototype,Bm=km.hasOwnProperty;function zm(e,t){var r=Rm(e),i=!r&&Nm(e),d=!r&&!i&&Fm(e),b=!r&&!i&&!d&&Hm(e),s=r||i||d||b,l=s?Lm(e.length,String):[],n=l.length;for(var o in e)(t||Bm.call(e,o))&&!(s&&(o=="length"||d&&(o=="offset"||o=="parent")||b&&(o=="buffer"||o=="byteLength"||o=="byteOffset")||$m(o,n)))&&l.push(o);return l}var Gm=zm,Um=Object.prototype;function Km(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Um;return e===r}var Wm=Km;function Vm(e,t){return function(r){return e(t(r))}}var Ym=Vm,Xm=Ym,Qm=Xm(Object.keys,Object),Zm=Qm,Jm=Wm,qm=Zm,tv=Object.prototype,ev=tv.hasOwnProperty;function rv(e){if(!Jm(e))return qm(e);var t=[];for(var r in Object(e))ev.call(e,r)&&r!="constructor"&&t.push(r);return t}var nv=rv,av=Ws,sv=Js;function iv(e){return e!=null&&sv(e.length)&&!av(e)}var ov=iv,uv=Gm,cv=nv,lv=ov;function fv(e){return lv(e)?uv(e):cv(e)}var dv=fv,hv=_p,pv=Mp,mv=dv;function vv(e){return hv(e,mv,pv)}var gv=vv,ka=gv,yv=1,bv=Object.prototype,Sv=bv.hasOwnProperty;function _v(e,t,r,i,d,b){var s=r&yv,l=ka(e),n=l.length,o=ka(t),u=o.length;if(n!=u&&!s)return!1;for(var h=n;h--;){var p=l[h];if(!(s?p in t:Sv.call(t,p)))return!1}var v=b.get(e),g=b.get(t);if(v&&g)return v==t&&g==e;var S=!0;b.set(e,t),b.set(t,e);for(var _=s;++h<n;){p=l[h];var E=e[p],w=t[p];if(i)var I=s?i(w,E,p,t,e,b):i(E,w,p,e,t,b);if(!(I===void 0?E===w||d(E,w,r,i,b):I)){S=!1;break}_||(_=p=="constructor")}if(S&&!_){var M=e.constructor,D=t.constructor;M!=D&&"constructor"in e&&"constructor"in t&&!(typeof M=="function"&&M instanceof M&&typeof D=="function"&&D instanceof D)&&(S=!1)}return b.delete(e),b.delete(t),S}var xv=_v,Tv=je,Ev=te,wv=Tv(Ev,"DataView"),Ov=wv,Av=je,Cv=te,Iv=Av(Cv,"Promise"),Pv=Iv,Mv=je,jv=te,Dv=Mv(jv,"Set"),Lv=Dv,Nv=je,Rv=te,Fv=Nv(Rv,"WeakMap"),$v=Fv,Tn=Ov,En=Ln,wn=Pv,On=Lv,An=$v,ti=Nr,Re=Vs,Ba="[object Map]",Hv="[object Object]",za="[object Promise]",Ga="[object Set]",Ua="[object WeakMap]",Ka="[object DataView]",kv=Re(Tn),Bv=Re(En),zv=Re(wn),Gv=Re(On),Uv=Re(An),ye=ti;(Tn&&ye(new Tn(new ArrayBuffer(1)))!=Ka||En&&ye(new En)!=Ba||wn&&ye(wn.resolve())!=za||On&&ye(new On)!=Ga||An&&ye(new An)!=Ua)&&(ye=function(e){var t=ti(e),r=t==Hv?e.constructor:void 0,i=r?Re(r):"";if(i)switch(i){case kv:return Ka;case Bv:return Ba;case zv:return za;case Gv:return Ga;case Uv:return Ua}return t});var Kv=ye,hn=Eh,Wv=Xs,Vv=mp,Yv=xv,Wa=Kv,Va=jr,Ya=Zs,Xv=qs,Qv=1,Xa="[object Arguments]",Qa="[object Array]",mr="[object Object]",Zv=Object.prototype,Za=Zv.hasOwnProperty;function Jv(e,t,r,i,d,b){var s=Va(e),l=Va(t),n=s?Qa:Wa(e),o=l?Qa:Wa(t);n=n==Xa?mr:n,o=o==Xa?mr:o;var u=n==mr,h=o==mr,p=n==o;if(p&&Ya(e)){if(!Ya(t))return!1;s=!0,u=!1}if(p&&!u)return b||(b=new hn),s||Xv(e)?Wv(e,t,r,i,d,b):Vv(e,t,n,r,i,d,b);if(!(r&Qv)){var v=u&&Za.call(e,"__wrapped__"),g=h&&Za.call(t,"__wrapped__");if(v||g){var S=v?e.value():e,_=g?t.value():t;return b||(b=new hn),d(S,_,r,i,b)}}return p?(b||(b=new hn),Yv(e,t,r,i,d,b)):!1}var qv=Jv,tg=qv,Ja=$r;function ei(e,t,r,i,d){return e===t?!0:e==null||t==null||!Ja(e)&&!Ja(t)?e!==e&&t!==t:tg(e,t,r,i,ei,d)}var eg=ei,rg=eg;function ng(e,t){return rg(e,t)}var ag=ng;const sg=xs(ag);function ig(e,t){const r=Ml(t)?t:[t];return sg(e,r)}const og=["replace_last_line","replace_last_lines","append_content","replace_first_line","prepend_content"];function ug(e,t,r,i,d){if(!e)return console.log("No original lines found!"),[""];if(r.length>1&&(r=[r.join(`
`).trim()]),e.length<3)return console.log("Ignoring part variant ",t," on ",e," - originalLines content too short!"),e;if(t==="replace_last_line")return i?[...e.slice(0,-2),...r,...e.slice(-1)]:[e[0],d+" ..."+r,...e.slice(-1)];if(t==="replace_last_lines")throw new Error("Replace last lines not yet supported!");if(t==="append_content")return i?[...e.slice(0,-1),...r,...e.slice(-1)]:[e[0],d+" + "+r,...e.slice(-1)];if(t==="replace_first_line")return i?[...e.slice(0,1),d+" "+r[0],...e.slice(2,-1)]:[e[0],d+" "+r[0]+"...",...e.slice(-1)];if(t==="prepend_content"){console.log(r[0]+"...",e.slice(-1));const b=new RegExp("^"+d,"g");if(i){const s=[...e.slice(0,1),d+" "+r[0],...e.slice(1,-1).map(l=>l.replace(b,""))];return console.log(s),s}else{const s=[e[0],d+" "+r[0]+"...",e[1].replace(b,""),...e.slice(-1)];return console.log(s,b),s}}}function cg(e,t=["chorus"],r=["R"],i=!0){if(t.length!==r.length)throw new Error("Directives and shortHands must be the same length.");const d={},b=t.map((_,E)=>({directive:_,shortHand:r[E],startRegex:new RegExp(`^\\{start_of_${_}(?::\\s*([\\w\\-_+ ]+))?\\}`),endRegex:new RegExp(`^\\{end_of_${_}\\}`),callRegex:new RegExp(`^\\{${_}(?::\\s*([\\w\\-_+ ]+))?\\}`)}));let s=null,l=null,n=null,o=null,u=null,h=!1;const p=new RegExp("^\\{start_of_variant: ([\\w\\-_+]+)\\}"),v=new RegExp("^\\{end_of_variant\\}"),g="a4c0d35c95a63a805915367dcfe6b751";return e.split(`
`).map(_=>{const E=_.match(p);if(E){if(!og.includes(E[1])){console.log("Invalid variant type: ",o," --> Skipping...");return}o=E[1],u=[],h=!0;return}if(_.match(v)){h=!1;return}if(h){u.push(_);return}for(const{directive:I,shortHand:M,startRegex:D,endRegex:j,callRegex:G}of b){const O=_.match(D);if(O){s=I,n=O[1]||M||g,l=[_],d[I]=d[I]||{};return}if(_.match(j)&&l&&s===I){l.push(_),d[I][n]=l,n!==g&&(l[1]=n+": "+l[1]);const H=l;return s=null,l=null,n=null,H.join(`
`)}const U=_.match(G);if(U){const H=U[1]||M||g;let K=d[I][H];const W=`${H===g?"":`${H}:`}`;if(u?(K=ug(K,o,u,i,W),o=null,u=null):i||(K=[`{start_of_${I}}`,W,`{end_of_${I}}`]),K)return K.join(`
`)}}if(l!==null){l.push(_);return}return _}).map(_=>_?_.trim():null).filter(_=>_).join(`
`).trim()}function lg(e){return e=e.replace(/\{key: B([ieasm#b]){0,5}\}/g,"{key: Bb$1}"),e=e.replace(/\{key: H([ieasm#b]){0,5}\}/g,"{key: B$1}"),e=e.replace(/\[([A-Za-z\d#b,\s/]{0,10})\/B\]/g,"[$1/Bb]"),e=e.replace(/\[([A-Za-z\d#b,\s/]{0,10})\/H\]/g,"[$1/B]"),e=e.replace(/\[B([A-Za-z\d#b,\s/]{0,10})\]/g,"[Bb$1]"),e=e.replace(/\[H([A-Za-z\d#b,\s/]{0,10})\]/g,"[B$1]"),e}function fg(e,t,r){if(!(t&&r))return e;const d=t.transposed(r),b=Oa.chordParserFactory({key:t.note.toString()}),s=u=>{function h(p,v){const{rootNote:g,bassNote:S}=p.formatted;let _=g+v;return S&&(_+="/"+S),p.formatted.symbol=_,p}return ig(u.normalized.intervals,["1","5","9"])?u=h(u,"sus2"):u.formatted.descriptor=="ma7"?u=h(u,"maj7"):u.formatted.descriptor=="sus"&&(u=h(u,"sus4")),u},l=u=>(u.formatted.symbol.includes(",")||(u.formatted.symbol=u.formatted.symbol.replace("(","").replace(")","")),u),n=Oa.chordRendererFactory({notationSystem:"english",transposeValue:r,accidental:d.isFlat()?"flat":"sharp",customFilters:[s,l]}),o=(u,h)=>`[${n(b(h))}]`;return e=e.replace(/\[([A-Ha-h][A-Za-z\d#b,\s/]{0,10})\]/g,o),e}function dg(e,t=["verse","chorus","bridge"],r=!1){const i="a4c0d35c95a63a805915367dcfe6b751",b=new DOMParser().parseFromString(e,"text/html"),s={};return t.forEach(l=>{s[l]={defaultKey:!1}}),b.querySelectorAll(t.map(l=>`.${l}`).join(",")).forEach(l=>{const n=t.find(o=>l.classList.contains(o));if(n){const o=l.querySelector(".section-title"),u=o&&r?o.textContent.trim():i,h=Array.from(l.querySelectorAll(".chord")).map(_=>({element:_,chord:_.textContent.trim()})).filter(_=>_.chord),p=h.map(_=>_.chord);s[n][u]||(s[n][u]=[]);const v=(_,E)=>{const I=((D,j)=>Array.from(Array(Math.max(j.length,D.length)),(G,O)=>[D[O],j[O]]))(_,E).map(D=>D[0]===D[1]),M=I.reduce((D,j)=>D+(j?0:1),0);return{matches:I,distance:M}},g=s[n][u].map(_=>v(_,p)),S=g.reduce((_,E,w)=>E.distance<g[_].distance?w:_,0);s[n][u].length===0||g[S].distance>3?s[n][u].push(p):(g[S].distance>0&&s[n][u].push(p),l.classList.add("repeated-chords"),g[S].matches.forEach((_,E)=>{E>=h.length||_||h[E].element.classList.add("force-shown")}),g[S].matches.length<h.length&&h.slice(-(h.length-g[S].matches.length)).forEach(_=>_.element.classList.add("force-shown")))}}),b.body.innerHTML}function hg(e){const t=e.trim();return t.startsWith("Bb")?"B"+t.slice(2):t.startsWith("B")?"H"+t.slice(1):t.endsWith("Bb")?t.slice(0,-2)+"B":t.endsWith("B")?t.slice(0,-1)+"H":e}function pg(e){let r=new DOMParser().parseFromString(e,"text/html");return r=mg(r),r.querySelectorAll(".chord").forEach(d=>{d.textContent=hg(d.textContent),d.innerHTML=d.textContent.replace("b","♭").replace("#","♯").replace(/([♯♭67])/,"<sup>$1</sup>")}),r.body.innerHTML}function mg(e){return e.querySelectorAll("div.section").forEach(r=>{r.querySelectorAll("span.lyrics").forEach(d=>{var b,s;if((b=d.textContent)!=null&&b.includes("𝄆")||(s=d.textContent)!=null&&s.includes("𝄇")){const l=document.createElement("div");l.className="repetition",d.replaceWith(l),l.appendChild(d)}})}),e}function ri(e,t,r,i){const b=Ju(lg)(e),s=cg(b,["chorus","bridge","verse"],["R","B",""],t),l=fg(s,r,i);return new xn.ChordProParser().parse(l)}function vg(e){var r;const t=ri(e,!1,null,null);return Wu.parse(((r=t.getPossibleKey())==null?void 0:r.toString())||"")}function gg(e,t,r,i){const d=ri(e.content,r,e.key,t),b=new xn.FormatterSettings;b.showMetadata=!1;let l=new xn.HtmlFormatter(b).format(d).join(`
`);return i&&(l=pg(l)),dg(l,["verse-section","chorus-section","bridge-section"])}const qa=e=>{let t;const r=new Set,i=(o,u)=>{const h=typeof o=="function"?o(t):o;if(!Object.is(h,t)){const p=t;t=u??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(v=>v(t,p))}},d=()=>t,l={setState:i,getState:d,getInitialState:()=>n,subscribe:o=>(r.add(o),()=>r.delete(o))},n=t=e(i,d,l);return l},yg=e=>e?qa(e):qa,bg=e=>e;function Sg(e,t=bg){const r=qt.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return qt.useDebugValue(r),r}const _g=e=>{const t=yg(e),r=i=>Sg(t,i);return Object.assign(r,t),r},xg=e=>_g;function Tg(e,t){let r;try{r=e()}catch{return}return{getItem:d=>{var b;const s=n=>n===null?null:JSON.parse(n,void 0),l=(b=r.getItem(d))!=null?b:null;return l instanceof Promise?l.then(s):s(l)},setItem:(d,b)=>r.setItem(d,JSON.stringify(b,void 0)),removeItem:d=>r.removeItem(d)}}const Cn=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(i){return Cn(i)(r)},catch(i){return this}}}catch(r){return{then(i){return this},catch(i){return Cn(i)(r)}}}},Eg=(e,t)=>(r,i,d)=>{let b={storage:Tg(()=>localStorage),partialize:S=>S,version:0,merge:(S,_)=>({..._,...S}),...t},s=!1;const l=new Set,n=new Set;let o=b.storage;if(!o)return e((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${b.name}', the given storage is currently unavailable.`),r(...S)},i,d);const u=()=>{const S=b.partialize({...i()});return o.setItem(b.name,{state:S,version:b.version})},h=d.setState;d.setState=(S,_)=>{h(S,_),u()};const p=e((...S)=>{r(...S),u()},i,d);d.getInitialState=()=>p;let v;const g=()=>{var S,_;if(!o)return;s=!1,l.forEach(w=>{var I;return w((I=i())!=null?I:p)});const E=((_=b.onRehydrateStorage)==null?void 0:_.call(b,(S=i())!=null?S:p))||void 0;return Cn(o.getItem.bind(o))(b.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==b.version){if(b.migrate){const I=b.migrate(w.state,w.version);return I instanceof Promise?I.then(M=>[!0,M]):[!0,I]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var I;const[M,D]=w;if(v=b.merge(D,(I=i())!=null?I:p),r(v,!0),M)return u()}).then(()=>{E==null||E(v,void 0),v=i(),s=!0,n.forEach(w=>w(v))}).catch(w=>{E==null||E(void 0,w)})};return d.persist={setOptions:S=>{b={...b,...S},S.storage&&(o=S.storage)},clearStorage:()=>{o==null||o.removeItem(b.name)},getOptions:()=>b,rehydrate:()=>g(),hasHydrated:()=>s,onHydrate:S=>(l.add(S),()=>{l.delete(S)}),onFinishHydration:S=>(n.add(S),()=>{n.delete(S)})},b.skipHydration||g(),v||p},wg=Eg,ni=()=>window.matchMedia("(max-width: 768px)").matches,ts={compact:{fitScreenMode:"fitXY",repeatParts:!1,repeatPartsChords:!1,twoColumns:!1,compactInFullScreen:!0,fontSize:12},maximizeFontSize:{fitScreenMode:"fitX",repeatParts:!0,repeatPartsChords:!0,twoColumns:!1,compactInFullScreen:!1,fontSize:12}},Og=ni()?{fitScreenMode:"fitX",fontSize:12,repeatParts:!0,repeatPartsChords:!0,twoColumns:!1,compactInFullScreen:!0}:{fitScreenMode:"fitXY",fontSize:12,repeatParts:!1,repeatPartsChords:!1,twoColumns:!0,compactInFullScreen:!1},Ag=e=>Math.min(Math.max(4,e),160),ee=xg()(wg((e,t)=>({layout:Og,customLayoutPreset:{...ts.compact,fontSize:12},layoutPreset:ni()?"maximizeFontSize":"compact",chords:{showChords:!0,czechChordNames:!0,inlineChords:!0},transpose:{steps:0,originalKey:void 0},actions:{setLayoutSettings:r=>e(i=>({layout:{...i.layout,...r,fontSize:r.fontSize?Ag(r.fontSize):i.layout.fontSize}})),setCustomLayoutPreset:r=>e(i=>({customLayoutPreset:{...i.customLayoutPreset,...r}})),setLayoutPreset:r=>e(()=>({layoutPreset:r})),setChordSettings:r=>e(i=>({chords:{...i.chords,...r}})),setTransposeSteps:r=>e(i=>({transpose:{...i.transpose,steps:r}})),setOriginalKey:r=>e(i=>({transpose:{...i.transpose,originalKey:r||void 0}})),applyPreset:r=>{const{actions:i,customLayoutPreset:d}=t();r==="custom"?i.setLayoutSettings(d):i.setLayoutSettings({...ts[r],compactInFullScreen:d.compactInFullScreen}),i.setLayoutPreset(r)},resetTranspose:()=>e(r=>({transpose:{...r.transpose,steps:0}}))}}),{name:"songview-settings-store",partialize:e=>{var t;return{layout:e.layout,customLayoutPreset:e.customLayoutPreset,layoutPreset:e.layoutPreset,chords:e.chords,transpose:{originalKey:(t=e.transpose.originalKey)==null?void 0:t.toString(),steps:0}}}})),Cg=["showChords","czechChordNames","inlineChords"],Ir={showChords:{icon:A.jsx(uc,{}),label:"Show chords"},czechChordNames:{icon:A.jsx(fc,{}),label:"Czech notes (A-B-H-C)"},inlineChords:{icon:A.jsx(ic,{}),label:"Chords inline"}},Ig=()=>{const{chords:e,actions:t}=ee(),r=i=>{t.setChordSettings({[i]:!e[i]})};return A.jsxs(A.Fragment,{children:[A.jsx(Xe,{children:"Chord settings"}),A.jsx(Qe,{}),Cg.map(i=>A.jsxs(Ye,{checked:e[i],disabled:i!=="showChords"&&!e.showChords,onCheckedChange:()=>r(i),onSelect:d=>d.preventDefault(),children:[A.jsx(fe,{icon:Ir[i].icon}),Ir[i].label]},i))]})},Pg=()=>{const{chords:e,actions:t}=ee(),r=i=>{t.setChordSettings({[i]:!e[i]})};return A.jsxs(A.Fragment,{children:[A.jsx(Wt,{size:"icon",variant:"circular",isActive:e.showChords,className:"hidden sm:flex",onClick:()=>r("showChords"),children:Ir.showChords.icon}),A.jsx(Wt,{size:"icon",variant:"circular",className:"max-[620px]:hidden",isActive:e.inlineChords,disabled:!e.showChords,onClick:()=>r("inlineChords"),children:Ir.inlineChords.icon})]})},Mg=({})=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 531.12134 487.28763",fill:"none",stroke:"currentColor",children:A.jsxs("g",{transform:"matrix(0.1,0,0,-0.1,9.4062996,499.50655)",fill:"currentColor",stroke:"none",id:"g2",children:[A.jsx("path",{d:"M 2165,4890 C 1859,4864 1586,4788 1303,4649 688,4347 236,3787 70,3120 19,2918 6,2797 6,2560 6,2404 10,2314 23,2230 71,1922 175,1628 323,1381 564,979 896,671 1303,471 c 299,-147 559,-217 900,-242 128,-10 151,-9 171,4 29,19 37,48 22,79 -10,21 -20,24 -111,30 -388,28 -638,91 -925,234 -450,224 -799,574 -1016,1018 -296,609 -296,1323 0,1932 323,662 946,1115 1691,1229 151,24 470,24 620,1 814,-127 1465,-641 1764,-1393 70,-177 124,-401 137,-563 l 6,-85 -169,168 c -93,92 -177,167 -187,167 -22,0 -66,-44 -66,-67 0,-9 104,-122 232,-250 181,-182 238,-233 258,-233 20,0 76,51 258,233 223,224 245,251 224,283 -15,22 -50,34 -74,25 -13,-5 -95,-82 -183,-170 -107,-108 -162,-156 -167,-148 -4,7 -8,28 -8,47 0,61 -29,231 -60,357 -227,909 -998,1606 -1930,1743 -152,22 -390,31 -525,20 z",style:{display:"inline",stroke:"currentColor",strokeWidth:300.126,strokeOpacity:1},id:"path1"}),A.jsx("path",{d:"m 2411,3694 c -453,-156 -830,-289 -838,-295 -20,-17 -16,-50 32,-283 l 45,-217 v -518 -518 l -64,-7 c -223,-23 -387,-171 -388,-351 0,-90 24,-155 84,-220 91,-100 202,-146 348,-146 180,0 326,81 402,223 l 23,43 3,776 2,776 73,27 c 149,53 860,296 869,296 4,0 8,-231 8,-514 v -513 l -68,-6 c -126,-10 -245,-72 -314,-163 -175,-230 4,-531 327,-551 198,-13 370,79 443,235 l 27,57 3,815 3,815 -51,239 c -27,132 -50,243 -50,247 0,18 -34,39 -63,38 -18,0 -403,-129 -856,-285 z",id:"path21"}),A.jsx("path",{d:"m 2411,3694 c -453,-156 -830,-289 -838,-295 -20,-17 -16,-50 32,-283 l 45,-217 v -518 -518 l -64,-7 c -223,-23 -387,-171 -388,-351 0,-90 24,-155 84,-220 91,-100 202,-146 348,-146 180,0 326,81 402,223 l 23,43 3,776 2,776 73,27 c 149,53 860,296 869,296 4,0 8,-231 8,-514 v -513 l -68,-6 c -126,-10 -245,-72 -314,-163 -175,-230 4,-531 327,-551 198,-13 370,79 443,235 l 27,57 3,815 3,815 -51,239 c -27,132 -50,243 -50,247 0,18 -34,39 -63,38 -18,0 -403,-129 -856,-285 z m 819,139 c 0,-5 18,-93 40,-197 l 40,-189 v -649 c 0,-356 -3,-648 -6,-648 -3,0 -19,9 -34,20 -16,12 -54,32 -85,45 l -55,25 v 577 c 0,522 -2,578 -17,595 -9,10 -24,18 -34,18 -10,0 -262,-84 -561,-186 -362,-124 -549,-193 -560,-206 -17,-19 -18,-64 -18,-649 0,-346 -2,-629 -5,-629 -2,0 -25,13 -51,30 -26,16 -62,34 -81,41 l -33,11 v 535 536 l -42,199 c -22,109 -39,201 -35,204 3,3 254,91 559,196 304,104 641,220 748,258 192,67 230,77 230,63 z m -85,-1737 c 104,-47 154,-115 155,-209 1,-203 -305,-310 -512,-178 -144,92 -143,274 2,366 68,43 119,55 210,52 67,-2 98,-9 145,-31 z M 1777,1705 c 173,-79 215,-245 91,-361 -125,-119 -360,-117 -483,3 -136,132 -57,330 152,383 65,16 176,5 240,-25 z",id:"path2"})]})}),jg=["twoColumns","repeatParts","repeatPartsChords","compactInFullScreen"],es={twoColumns:{icon:A.jsx(As,{}),label:"View as two columns"},repeatParts:{icon:A.jsx(dc,{}),label:"Show repeated parts"},repeatPartsChords:{icon:A.jsx(Mg,{}),label:"Show chords in repeated parts"},compactInFullScreen:{icon:A.jsx(cc,{}),label:"Auto fullscreen in compact view"}},Dg=({fullScreenHandle:e})=>{const{layout:t,layoutPreset:r,actions:i}=ee(),d=[{icon:A.jsx(Is,{}),label:"Compact",value:"compact"},{icon:A.jsx(lc,{}),label:"Custom",value:"custom"},{icon:A.jsx(Ps,{}),label:"Scroll",value:"maximizeFontSize"}];return A.jsxs(A.Fragment,{children:[A.jsx(Wt,{size:"icon",variant:"circular",className:"max-sm:hidden",isActive:t.twoColumns,onClick:()=>i.setLayoutSettings({twoColumns:!t.twoColumns}),children:A.jsx(As,{})}),A.jsx(Wt,{size:"icon",variant:"circular",className:"max-[620px]:hidden",onClick:e.enter,children:A.jsx(Cs,{})}),A.jsx("div",{className:"flex flex-grow h-full align-center justify-center max-xsm:hidden  max-md:hide-fancy-switch-label ",id:"preset-selector-large",children:A.jsx(bn,{options:d,setSelectedOption:b=>{i.applyPreset(b),b==="compact"&&t.compactInFullScreen&&e.enter()},selectedOption:r,roundedClass:"rounded-full"})}),A.jsx("div",{className:"flex flex-grow h-full align-center justify-center hide-fancy-switch-label xsm:hidden",id:"preset-selector-small",children:A.jsx(bn,{options:d.filter(b=>b.value!=="custom"),setSelectedOption:b=>{i.applyPreset(b),b==="compact"&&t.compactInFullScreen&&e.enter()},selectedOption:r,hiddenHighlightOnOther:!0,roundedClass:"rounded-full"})})]})},Lg=({fullScreenHandle:e})=>{const{layout:t,actions:r}=ee();function i(b){r.setLayoutSettings({...b}),r.setCustomLayoutPreset({...b}),r.setLayoutPreset("custom")}const d=1.2;return A.jsxs(A.Fragment,{children:[A.jsx(Xe,{children:"Font size"}),A.jsx(Qe,{}),A.jsxs(Ye,{checked:t.fitScreenMode==="fitXY",onSelect:b=>b.preventDefault(),onCheckedChange:()=>i({fitScreenMode:"fitXY"}),children:[A.jsx(fe,{icon:A.jsx(Is,{})}),"Fit screen"]},"fitXY"),A.jsxs(Ye,{checked:t.fitScreenMode==="fitX",onSelect:b=>b.preventDefault(),onCheckedChange:()=>i({fitScreenMode:"fitX"}),children:[A.jsx(fe,{icon:A.jsx(Ps,{})}),"Fit screen width"]},"fitX"),A.jsxs(_r,{onClick:()=>i({fitScreenMode:"none",fontSize:t.fontSize*d}),onSelect:b=>b.preventDefault(),children:[A.jsx(fe,{icon:A.jsx(nc,{})}),"Increase font size"]}),A.jsxs(_r,{onClick:()=>i({fitScreenMode:"none",fontSize:t.fontSize/d}),onSelect:b=>b.preventDefault(),children:[A.jsx(fe,{icon:A.jsx(rc,{})}),"Decrease font size"]}),A.jsx(Xe,{children:"Contents"}),A.jsx(Qe,{}),A.jsxs(_r,{onClick:()=>{e.enter()},children:[A.jsx(fe,{icon:A.jsx(Cs,{})}),"Enter fullscreen"]}),jg.map(b=>A.jsxs(Ye,{checked:t[b],onCheckedChange:()=>i({[b]:!t[b]}),onSelect:s=>s.preventDefault(),children:[A.jsx(fe,{icon:es[b].icon}),es[b].label]},b))]})},ai=["C","C#","D","Es","E","F","F#","G","As","A","B","H"],Ng=()=>{var d,b;const{transpose:e,actions:t}=ee(),r=(d=e.originalKey)!=null&&d.note?new Vu("C").semitonesBetween((b=e.originalKey)==null?void 0:b.note):0,i=X.useMemo(()=>[...Array(12).keys()].map(s=>s-r),[r]);return A.jsxs("div",{className:"flex items-center h-full",children:[A.jsx("div",{className:"hidden xl:block h-full",children:A.jsx(In,{values:i,selected:e.steps,onChange:t.setTransposeSteps})}),A.jsx("div",{className:"xl:hidden h-full",children:A.jsx(Fg,{values:i,selected:e.steps,onChange:t.setTransposeSteps})})]})};function Rg(e){const[t,r]=X.useState(e),i=X.useRef(null),d=b=>{i.current&&!i.current.contains(b.target)&&r(!1)};return X.useEffect(()=>(document.addEventListener("click",d,!0),()=>{document.removeEventListener("click",d,!0)}),[]),{ref:i,isComponentVisible:t,setIsComponentVisible:r}}const In=({values:e,selected:t,onChange:r,vertical:i=!1})=>A.jsx(bn,{options:ai.map((d,b)=>({label:d,value:e[b]})),selectedOption:t,setSelectedOption:r,vertical:i,roundedClass:"rounded-full",full:!0}),Fg=({values:e,selected:t,onChange:r})=>{const{ref:i,isComponentVisible:d,setIsComponentVisible:b}=Rg(!1);return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"hidden xl:flex h-full",children:A.jsx(In,{values:e,selected:t,onChange:r})}),A.jsxs("div",{className:"xl:hidden max-sm:hidden",children:[A.jsx(Wt,{size:"icon",variant:"circular",onClick:()=>b(!d),children:A.jsx(la,{})}),A.jsx("div",{className:"absolute top-14 w-fit left-0",ref:i,children:d&&A.jsx(Ts,{showToolbar:d,className:"!px-0",children:A.jsx("div",{className:"w-full flex justify-center p-0 h-full",children:A.jsx(In,{values:e,selected:t,onChange:r})})})})]}),A.jsx("div",{className:"sm:hidden xl:hidden flex",children:A.jsxs(Es,{children:[A.jsx(ws,{asChild:!0,children:A.jsx(Wt,{size:"icon",variant:"circular",onClick:()=>b(!d),children:A.jsx(la,{})})}),A.jsx(Os,{className:"w-12",children:ai.map((s,l)=>A.jsx(Ye,{checked:t===e[l],onSelect:n=>n.preventDefault(),onCheckedChange:()=>r(e[l]),children:s},s))})]})})]})},si=e=>{const t=X.useRef(0),[r,i]=X.useState(!1),[d,b]=X.useState(!0),s=X.useCallback(()=>{const l=window.scrollY;if(l<0){b(!0);return}l>t.current?e!=="fitXY"&&b(!1):l<t.current-10&&(b(!0),i(!1)),t.current=l;const n=document.body.scrollHeight-window.scrollY-window.innerHeight;i(n<=0)},[e]);return X.useEffect(()=>(window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)),[s]),{atBottom:r,isToolbarVisible:d}},$g=({navigate:e,songDB:t,songData:r,fullScreenHandle:i})=>{const{layout:d}=ee(),{isToolbarVisible:b}=si(d.fitScreenMode);return A.jsx("div",{className:"absolute top-0 w-full",children:A.jsxs(Ts,{showToolbar:b,scrollOffset:window.scrollY,children:[A.jsx(Wt,{size:"icon",variant:"circular",onClick:()=>e("/"),children:A.jsx(pc,{})}),A.jsx(Pg,{}),A.jsx(Dg,{fullScreenHandle:i}),A.jsx(Ng,{}),A.jsxs(Es,{modal:!1,children:[A.jsx(ws,{asChild:!0,children:A.jsx(Wt,{size:"icon",variant:"circular",children:A.jsx(hc,{size:32})})}),A.jsxs(Os,{className:"w-56 max-h-[80vh] overflow-y-scroll",children:[qt.Children.toArray(A.jsx(Lg,{fullScreenHandle:i})),qt.Children.toArray(A.jsx(Ig,{})),A.jsx(Xe,{children:"Theme"}),A.jsx(Qe,{}),qt.Children.toArray(A.jsx(qu,{})),A.jsx(Xe,{children:"Misc"}),A.jsx(Qe,{}),A.jsxs(_r,{children:[A.jsx(fe,{icon:A.jsx(oc,{})}),A.jsx(Yu,{to:"https://github.com/tragram/domcikuv-zpevnik-v2/tree/main/songs/chordpro/"+r.chordproFile,children:"Edit on GitHub"})]})]})]}),A.jsx(tc,{songs:t.songs})]})})},Hg=({pdfFilenames:e})=>A.jsx("iframe",{src:e.slice(-1)[0],className:"w-screen h-screen"}),kg=X.forwardRef(({children:e},t)=>{const{layout:r}=ee();return A.jsx("div",{className:de("flex flex-col sm:pt-[80px] pt-[72px] relative",r.fitScreenMode==="fitXY"?"h-dvh":"min-h-dvh"),ref:t,style:{touchAction:"pan-y",userSelect:"none"},children:e})});function Bg({fitMode:e,minFontSizePx:t,maxFontSizePx:r,fontSizePrecisionPx:i=.1,fontSize:d,setFontSize:b,children:s,...l}){const n=X.useRef(),o=X.useRef(null);return X.useEffect(()=>{var u;return(u=n.current)==null?void 0:u.call(n)},[s]),X.useEffect(()=>{var u;(u=n.current)==null||u.disconnect(),n.current=void 0},[]),X.useEffect(function(){var S;async function h(_){await new Promise(w=>setTimeout(w,10));const E=getComputedStyle(_).fontSize;b(parseFloat(E))}const p=o.current,v=p==null?void 0:p.parentElement;if(!p||!v||e==="none")return;(S=n.current)==null||S.disconnect();const g=e==="fitXY"?"boxoneline":"oneline";return n.current=ec({innerEl:p,containerEl:v,mode:g,minFontSizePx:t,maxFontSizePx:r,fontSizePrecisionPx:i}),h(p),()=>{var _;return(_=n.current)==null?void 0:_.disconnect()}},[o,e,t,r,i,b]),X.useEffect(function(){var p;!o.current||e!=="none"||((p=n.current)==null||p.disconnect(),n.current=void 0)},[e]),X.useEffect(function(){async function h(v,g){await new Promise(S=>setTimeout(S,0)),g!=null&&v.style.setProperty("font-size",`${g.toFixed(1)}px`)}const p=o.current;!p||e!=="none"||h(p,d)},[d,e]),A.jsx("div",{ref:o,...l,children:s})}function zg(e){return e.split(/(\d|[#b])/).map((t,r)=>/\d/.test(t)?A.jsx("sub",{children:t},r):/[#b]/.test(t)?A.jsx("sup",{children:t},r):t)}const Gg=({songData:e,layoutSettings:t,transposeSteps:r})=>{const i=X.useRef(null),[d,b]=X.useState([]),s=()=>{if(!i.current)return;const n=Array.from(i.current.children),o=[];n.forEach((u,h)=>{const p=u.offsetTop;h>0&&p>n[0].offsetTop&&o.push(h)}),b(o)};X.useEffect(()=>{s();const n=()=>s();return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),X.useEffect(()=>{s()},[t]);const l=d.length>0;return A.jsxs("div",{className:de("flex w-full justify-between flex-wrap gap-4"),ref:i,children:[t.fitScreenMode==="fitXY"||t.twoColumns?A.jsxs("h1",{className:"self-center font-bold text-wrap mb-2",children:[e.artist,": ",e.title]}):A.jsxs("div",{className:de("flex flex-col flex-grow",l?"text-center":"justify-start mb-4"),children:[A.jsx("h2",{className:"font-semibold text-white/80 text-wrap uppercase",children:e.artist}),A.jsx("h2",{className:"font-bold text-wrap",children:e.title})]}),A.jsxs("div",{className:de("flex flex-col flex-grow",l?"text-center mb-4":"text-right"),children:[A.jsxs("h2",{className:"text-[0.75em] text-white/70 text-nowrap",children:["Capo: ",(e.capo-r+12)%12]}),A.jsx("h2",{className:"text-[0.75em] text-white/70 sub-sup-container",children:zg(e.range.toString(r))})]})]})},Ug=({songData:e,id:t,className:r})=>A.jsx("div",{className:de("absolute top-0 left-0 min-h-lvh h-full w-full bg-image -z-20 blur-lg overflow-hidden transition-all duration-1000 ease-in-out",r),id:t,style:{backgroundImage:`url(${e.thumbnailURL()})`},children:A.jsx("div",{className:"w-full h-full bg-glass/60 dark:bg-glass/50"})}),Kg=X.forwardRef(({songData:e},t)=>{const{layout:r,chords:i,transpose:d,actions:b}=ee(),s=gg(e,d.steps,r.repeatParts,i.czechChordNames),l=X.useCallback(o=>{b.setLayoutSettings({fontSize:o})},[b]),n=X.useMemo(()=>({fitMode:r.fitScreenMode,minFontSizePx:4,maxFontSizePx:160,fontSize:r.fontSize,setFontSize:l}),[r.fitScreenMode,r.fontSize,l]);return A.jsxs(A.Fragment,{children:[A.jsx(Ug,{songData:e,className:"hidden",id:"inner-background-image"}),A.jsx("div",{id:"auto-text-size-wrapper",className:de("w-full z-10 lg:px-16 p-4 sm:p-8",r.fitScreenMode=="fitXY"?"h-full ":"h-fit ",r.fitScreenMode!=="fitXY"?"mb-10":""),children:A.jsxs(Bg,{...n,children:[A.jsx(Gg,{songData:e,layoutSettings:r,transposeSteps:d.steps}),A.jsx("div",{ref:t,id:"song-content-wrapper",className:de("flex flex-col max-w-screen",i.inlineChords?"chords-inline":"",i.showChords?"":"chords-hidden",`fit-screen-${r.fitScreenMode}`,r.repeatPartsChords?"":"repeated-chords-hidden",r.twoColumns?"song-content-columns":""),dangerouslySetInnerHTML:{__html:s}})]})})]})});var gt={},Nn={},qe={},tr={},ii="Expected a function",rs=NaN,Wg="[object Symbol]",Vg=/^\s+|\s+$/g,Yg=/^[-+]0x[0-9a-f]+$/i,Xg=/^0b[01]+$/i,Qg=/^0o[0-7]+$/i,Zg=parseInt,Jg=typeof Jt=="object"&&Jt&&Jt.Object===Object&&Jt,qg=typeof self=="object"&&self&&self.Object===Object&&self,ty=Jg||qg||Function("return this")(),ey=Object.prototype,ry=ey.toString,ny=Math.max,ay=Math.min,pn=function(){return ty.Date.now()};function sy(e,t,r){var i,d,b,s,l,n,o=0,u=!1,h=!1,p=!0;if(typeof e!="function")throw new TypeError(ii);t=ns(t)||0,Pr(r)&&(u=!!r.leading,h="maxWait"in r,b=h?ny(ns(r.maxWait)||0,t):b,p="trailing"in r?!!r.trailing:p);function v(j){var G=i,O=d;return i=d=void 0,o=j,s=e.apply(O,G),s}function g(j){return o=j,l=setTimeout(E,t),u?v(j):s}function S(j){var G=j-n,O=j-o,B=t-G;return h?ay(B,b-O):B}function _(j){var G=j-n,O=j-o;return n===void 0||G>=t||G<0||h&&O>=b}function E(){var j=pn();if(_(j))return w(j);l=setTimeout(E,S(j))}function w(j){return l=void 0,p&&i?v(j):(i=d=void 0,s)}function I(){l!==void 0&&clearTimeout(l),o=0,i=n=d=l=void 0}function M(){return l===void 0?s:w(pn())}function D(){var j=pn(),G=_(j);if(i=arguments,d=this,n=j,G){if(l===void 0)return g(n);if(h)return l=setTimeout(E,t),v(n)}return l===void 0&&(l=setTimeout(E,t)),s}return D.cancel=I,D.flush=M,D}function iy(e,t,r){var i=!0,d=!0;if(typeof e!="function")throw new TypeError(ii);return Pr(r)&&(i="leading"in r?!!r.leading:i,d="trailing"in r?!!r.trailing:d),sy(e,t,{leading:i,maxWait:t,trailing:d})}function Pr(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function oy(e){return!!e&&typeof e=="object"}function uy(e){return typeof e=="symbol"||oy(e)&&ry.call(e)==Wg}function ns(e){if(typeof e=="number")return e;if(uy(e))return rs;if(Pr(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Pr(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Vg,"");var r=Xg.test(e);return r||Qg.test(e)?Zg(e.slice(2),r?2:8):Yg.test(e)?rs:+e}var cy=iy,er={};Object.defineProperty(er,"__esModule",{value:!0});er.addPassiveEventListener=function(t,r,i){var d=i.name;d||(d=r,console.warn("Listener must be a named function.")),Tr.has(r)||Tr.set(r,new Set);var b=Tr.get(r);if(!b.has(d)){var s=function(){var l=!1;try{var n=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("test",null,n)}catch{}return l}();t.addEventListener(r,i,s?{passive:!0}:!1),b.add(d)}};er.removePassiveEventListener=function(t,r,i){t.removeEventListener(r,i),Tr.get(r).delete(i.name||r)};var Tr=new Map;Object.defineProperty(tr,"__esModule",{value:!0});var ly=cy,fy=hy(ly),dy=er;function hy(e){return e&&e.__esModule?e:{default:e}}var py=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,fy.default)(t,r)},pt={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(t,r){if(t){var i=py(function(d){pt.scrollHandler(t)},r);pt.scrollSpyContainers.push(t),(0,dy.addPassiveEventListener)(t,"scroll",i)}},isMounted:function(t){return pt.scrollSpyContainers.indexOf(t)!==-1},currentPositionX:function(t){if(t===document){var r=window.pageYOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return r?window.pageXOffset:i?document.documentElement.scrollLeft:document.body.scrollLeft}else return t.scrollLeft},currentPositionY:function(t){if(t===document){var r=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return r?window.pageYOffset:i?document.documentElement.scrollTop:document.body.scrollTop}else return t.scrollTop},scrollHandler:function(t){var r=pt.scrollSpyContainers[pt.scrollSpyContainers.indexOf(t)].spyCallbacks||[];r.forEach(function(i){return i(pt.currentPositionX(t),pt.currentPositionY(t))})},addStateHandler:function(t){pt.spySetState.push(t)},addSpyHandler:function(t,r){var i=pt.scrollSpyContainers[pt.scrollSpyContainers.indexOf(r)];i.spyCallbacks||(i.spyCallbacks=[]),i.spyCallbacks.push(t),t(pt.currentPositionX(r),pt.currentPositionY(r))},updateStates:function(){pt.spySetState.forEach(function(t){return t()})},unmount:function(t,r){pt.scrollSpyContainers.forEach(function(i){return i.spyCallbacks&&i.spyCallbacks.length&&i.spyCallbacks.indexOf(r)>-1&&i.spyCallbacks.splice(i.spyCallbacks.indexOf(r),1)}),pt.spySetState&&pt.spySetState.length&&pt.spySetState.indexOf(t)>-1&&pt.spySetState.splice(pt.spySetState.indexOf(t),1),document.removeEventListener("scroll",pt.scrollHandler)},update:function(){return pt.scrollSpyContainers.forEach(function(t){return pt.scrollHandler(t)})}};tr.default=pt;var Fe={},rr={};Object.defineProperty(rr,"__esModule",{value:!0});var my=function(t,r){var i=t.indexOf("#")===0?t.substring(1):t,d=i?"#"+i:"",b=window&&window.location,s=d?b.pathname+b.search+d:b.pathname+b.search;r?history.pushState(history.state,"",s):history.replaceState(history.state,"",s)},vy=function(){return window.location.hash.replace(/^#/,"")},gy=function(t){return function(r){return t.contains?t!=r&&t.contains(r):!!(t.compareDocumentPosition(r)&16)}},yy=function(t){return getComputedStyle(t).position!=="static"},mn=function(t,r){for(var i=t.offsetTop,d=t.offsetParent;d&&!r(d);)i+=d.offsetTop,d=d.offsetParent;return{offsetTop:i,offsetParent:d}},by=function(t,r,i){if(i)return t===document?r.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(t).position!=="static"?r.offsetLeft:r.offsetLeft-t.offsetLeft;if(t===document)return r.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(yy(t)){if(r.offsetParent!==t){var d=function(u){return u===t||u===document},b=mn(r,d),s=b.offsetTop,l=b.offsetParent;if(l!==t)throw new Error("Seems containerElement is not an ancestor of the Element");return s}return r.offsetTop}if(r.offsetParent===t.offsetParent)return r.offsetTop-t.offsetTop;var n=function(u){return u===document};return mn(r,n).offsetTop-mn(t,n).offsetTop};rr.default={updateHash:my,getHash:vy,filterElementInContainer:gy,scrollOffset:by};var Hr={},Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.default={defaultEasing:function(t){return t<.5?Math.pow(t*2,2)/2:1-Math.pow((1-t)*2,2)/2},linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});var Sy=er,_y=["mousedown","mousewheel","touchmove","keydown"];Fn.default={subscribe:function(t){return typeof document<"u"&&_y.forEach(function(r){return(0,Sy.addPassiveEventListener)(document,r,t)})}};var nr={};Object.defineProperty(nr,"__esModule",{value:!0});var Pn={registered:{},scrollEvent:{register:function(t,r){Pn.registered[t]=r},remove:function(t){Pn.registered[t]=null}}};nr.default=Pn;Object.defineProperty(Hr,"__esModule",{value:!0});var xy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ty=rr;kr(Ty);var Ey=Rn,as=kr(Ey),wy=Fn,Oy=kr(wy),Ay=nr,Kt=kr(Ay);function kr(e){return e&&e.__esModule?e:{default:e}}var oi=function(t){return as.default[t.smooth]||as.default.defaultEasing},Cy=function(t){return typeof t=="function"?t:function(){return t}},Iy=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},Mn=function(){return Iy()||function(e,t,r){window.setTimeout(e,r||1e3/60,new Date().getTime())}}(),ui=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},ci=function(t){var r=t.data.containerElement;if(r&&r!==document&&r!==document.body)return r.scrollLeft;var i=window.pageXOffset!==void 0,d=(document.compatMode||"")==="CSS1Compat";return i?window.pageXOffset:d?document.documentElement.scrollLeft:document.body.scrollLeft},li=function(t){var r=t.data.containerElement;if(r&&r!==document&&r!==document.body)return r.scrollTop;var i=window.pageXOffset!==void 0,d=(document.compatMode||"")==="CSS1Compat";return i?window.pageYOffset:d?document.documentElement.scrollTop:document.body.scrollTop},Py=function(t){var r=t.data.containerElement;if(r&&r!==document&&r!==document.body)return r.scrollWidth-r.offsetWidth;var i=document.body,d=document.documentElement;return Math.max(i.scrollWidth,i.offsetWidth,d.clientWidth,d.scrollWidth,d.offsetWidth)},My=function(t){var r=t.data.containerElement;if(r&&r!==document&&r!==document.body)return r.scrollHeight-r.offsetHeight;var i=document.body,d=document.documentElement;return Math.max(i.scrollHeight,i.offsetHeight,d.clientHeight,d.scrollHeight,d.offsetHeight)},jy=function e(t,r,i){var d=r.data;if(!r.ignoreCancelEvents&&d.cancel){Kt.default.registered.end&&Kt.default.registered.end(d.to,d.target,d.currentPositionY);return}if(d.delta=Math.round(d.targetPosition-d.startPosition),d.start===null&&(d.start=i),d.progress=i-d.start,d.percent=d.progress>=d.duration?1:t(d.progress/d.duration),d.currentPosition=d.startPosition+Math.ceil(d.delta*d.percent),d.containerElement&&d.containerElement!==document&&d.containerElement!==document.body?r.horizontal?d.containerElement.scrollLeft=d.currentPosition:d.containerElement.scrollTop=d.currentPosition:r.horizontal?window.scrollTo(d.currentPosition,0):window.scrollTo(0,d.currentPosition),d.percent<1){var b=e.bind(null,t,r);Mn.call(window,b);return}Kt.default.registered.end&&Kt.default.registered.end(d.to,d.target,d.currentPosition)},$n=function(t){t.data.containerElement=t?t.containerId?document.getElementById(t.containerId):t.container&&t.container.nodeType?t.container:document:null},ar=function(t,r,i,d){r.data=r.data||ui(),window.clearTimeout(r.data.delayTimeout);var b=function(){r.data.cancel=!0};if(Oy.default.subscribe(b),$n(r),r.data.start=null,r.data.cancel=!1,r.data.startPosition=r.horizontal?ci(r):li(r),r.data.targetPosition=r.absolute?t:t+r.data.startPosition,r.data.startPosition===r.data.targetPosition){Kt.default.registered.end&&Kt.default.registered.end(r.data.to,r.data.target,r.data.currentPosition);return}r.data.delta=Math.round(r.data.targetPosition-r.data.startPosition),r.data.duration=Cy(r.duration)(r.data.delta),r.data.duration=isNaN(parseFloat(r.data.duration))?1e3:parseFloat(r.data.duration),r.data.to=i,r.data.target=d;var s=oi(r),l=jy.bind(null,s,r);if(r&&r.delay>0){r.data.delayTimeout=window.setTimeout(function(){Kt.default.registered.begin&&Kt.default.registered.begin(r.data.to,r.data.target),Mn.call(window,l)},r.delay);return}Kt.default.registered.begin&&Kt.default.registered.begin(r.data.to,r.data.target),Mn.call(window,l)},Br=function(t){return t=xy({},t),t.data=t.data||ui(),t.absolute=!0,t},Dy=function(t){ar(0,Br(t))},Ly=function(t,r){ar(t,Br(r))},Ny=function(t){t=Br(t),$n(t),ar(t.horizontal?Py(t):My(t),t)},Ry=function(t,r){r=Br(r),$n(r);var i=r.horizontal?ci(r):li(r);ar(t+i,r)};Hr.default={animateTopScroll:ar,getAnimationType:oi,scrollToTop:Dy,scrollToBottom:Ny,scrollTo:Ly,scrollMore:Ry};Object.defineProperty(Fe,"__esModule",{value:!0});var Fy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},$y=rr,Hy=Hn($y),ky=Hr,By=Hn(ky),zy=nr,vr=Hn(zy);function Hn(e){return e&&e.__esModule?e:{default:e}}var gr={},ss=void 0;Fe.default={unmount:function(){gr={}},register:function(t,r){gr[t]=r},unregister:function(t){delete gr[t]},get:function(t){return gr[t]||document.getElementById(t)||document.getElementsByName(t)[0]||document.getElementsByClassName(t)[0]},setActiveLink:function(t){return ss=t},getActiveLink:function(){return ss},scrollTo:function(t,r){var i=this.get(t);if(!i){console.warn("target Element not found");return}r=Fy({},r,{absolute:!1});var d=r.containerId,b=r.container,s=void 0;d?s=document.getElementById(d):b&&b.nodeType?s=b:s=document,r.absolute=!0;var l=r.horizontal,n=Hy.default.scrollOffset(s,i,l)+(r.offset||0);if(!r.smooth){vr.default.registered.begin&&vr.default.registered.begin(t,i),s===document?r.horizontal?window.scrollTo(n,0):window.scrollTo(0,n):s.scrollTop=n,vr.default.registered.end&&vr.default.registered.end(t,i);return}By.default.animateTopScroll(n,r,t,i)}};var fi={exports:{}},Gy="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Uy=Gy,Ky=Uy;function di(){}function hi(){}hi.resetWarningCache=di;var Wy=function(){function e(i,d,b,s,l,n){if(n!==Ky){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:hi,resetWarningCache:di};return r.PropTypes=r,r};fi.exports=Wy();var zr=fi.exports,Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});var Vy=rr,vn=Yy(Vy);function Yy(e){return e&&e.__esModule?e:{default:e}}var Xy={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(t){this.scroller=t,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(t,r){this.containers[t]=r},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var t=this,r=this.getHash();r?window.setTimeout(function(){t.scrollTo(r,!0),t.initialized=!0},10):this.initialized=!0},scrollTo:function(t,r){var i=this.scroller,d=i.get(t);if(d&&(r||t!==i.getActiveLink())){var b=this.containers[t]||document;i.scrollTo(t,{container:b})}},getHash:function(){return vn.default.getHash()},changeHash:function(t,r){this.isInitialized()&&vn.default.getHash()!==t&&vn.default.updateHash(t,r)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};Gr.default=Xy;Object.defineProperty(qe,"__esModule",{value:!0});var yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Qy=function(){function e(t,r){for(var i=0;i<r.length;i++){var d=r[i];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(t,d.key,d)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),Zy=X,is=sr(Zy),Jy=tr,br=sr(Jy),qy=Fe,tb=sr(qy),eb=zr,ht=sr(eb),rb=Gr,ce=sr(rb);function sr(e){return e&&e.__esModule?e:{default:e}}function nb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ab(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function sb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var os={to:ht.default.string.isRequired,containerId:ht.default.string,container:ht.default.object,activeClass:ht.default.string,activeStyle:ht.default.object,spy:ht.default.bool,horizontal:ht.default.bool,smooth:ht.default.oneOfType([ht.default.bool,ht.default.string]),offset:ht.default.number,delay:ht.default.number,isDynamic:ht.default.bool,onClick:ht.default.func,duration:ht.default.oneOfType([ht.default.number,ht.default.func]),absolute:ht.default.bool,onSetActive:ht.default.func,onSetInactive:ht.default.func,ignoreCancelEvents:ht.default.bool,hashSpy:ht.default.bool,saveHashHistory:ht.default.bool,spyThrottle:ht.default.number};qe.default=function(e,t){var r=t||tb.default,i=function(b){sb(s,b);function s(l){nb(this,s);var n=ab(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,l));return d.call(n),n.state={active:!1},n}return Qy(s,[{key:"getScrollSpyContainer",value:function(){var n=this.props.containerId,o=this.props.container;return n&&!o?document.getElementById(n):o&&o.nodeType?o:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var n=this.getScrollSpyContainer();br.default.isMounted(n)||br.default.mount(n,this.props.spyThrottle),this.props.hashSpy&&(ce.default.isMounted()||ce.default.mount(r),ce.default.mapContainer(this.props.to,n)),br.default.addSpyHandler(this.spyHandler,n),this.setState({container:n})}}},{key:"componentWillUnmount",value:function(){br.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var n="";this.state&&this.state.active?n=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():n=this.props.className;var o={};this.state&&this.state.active?o=yr({},this.props.style,this.props.activeStyle):o=yr({},this.props.style);var u=yr({},this.props);for(var h in os)u.hasOwnProperty(h)&&delete u[h];return u.className=n,u.style=o,u.onClick=this.handleClick,is.default.createElement(e,u)}}]),s}(is.default.PureComponent),d=function(){var s=this;this.scrollTo=function(l,n){r.scrollTo(l,yr({},s.state,n))},this.handleClick=function(l){s.props.onClick&&s.props.onClick(l),l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault(),s.scrollTo(s.props.to,s.props)},this.spyHandler=function(l,n){var o=s.getScrollSpyContainer();if(!(ce.default.isMounted()&&!ce.default.isInitialized())){var u=s.props.horizontal,h=s.props.to,p=null,v=void 0,g=void 0;if(u){var S=0,_=0,E=0;if(o.getBoundingClientRect){var w=o.getBoundingClientRect();E=w.left}if(!p||s.props.isDynamic){if(p=r.get(h),!p)return;var I=p.getBoundingClientRect();S=I.left-E+l,_=S+I.width}var M=l-s.props.offset;v=M>=Math.floor(S)&&M<Math.floor(_),g=M<Math.floor(S)||M>=Math.floor(_)}else{var D=0,j=0,G=0;if(o.getBoundingClientRect){var O=o.getBoundingClientRect();G=O.top}if(!p||s.props.isDynamic){if(p=r.get(h),!p)return;var B=p.getBoundingClientRect();D=B.top-G+n,j=D+B.height}var U=n-s.props.offset;v=U>=Math.floor(D)&&U<Math.floor(j),g=U<Math.floor(D)||U>=Math.floor(j)}var H=r.getActiveLink();if(g){if(h===H&&r.setActiveLink(void 0),s.props.hashSpy&&ce.default.getHash()===h){var K=s.props.saveHashHistory,W=K===void 0?!1:K;ce.default.changeHash("",W)}s.props.spy&&s.state.active&&(s.setState({active:!1}),s.props.onSetInactive&&s.props.onSetInactive(h,p))}if(v&&(H!==h||s.state.active===!1)){r.setActiveLink(h);var C=s.props.saveHashHistory,V=C===void 0?!1:C;s.props.hashSpy&&ce.default.changeHash(h,V),s.props.spy&&(s.setState({active:!0}),s.props.onSetActive&&s.props.onSetActive(h,p))}}}};return i.propTypes=os,i.defaultProps={offset:0},i};Object.defineProperty(Nn,"__esModule",{value:!0});var ib=X,us=pi(ib),ob=qe,ub=pi(ob);function pi(e){return e&&e.__esModule?e:{default:e}}function cb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cs(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function lb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var fb=function(e){lb(t,e);function t(){var r,i,d,b;cb(this,t);for(var s=arguments.length,l=Array(s),n=0;n<s;n++)l[n]=arguments[n];return b=(i=(d=cs(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(l))),d),d.render=function(){return us.default.createElement("a",d.props,d.props.children)},i),cs(d,b)}return t}(us.default.Component);Nn.default=(0,ub.default)(fb);var kn={};Object.defineProperty(kn,"__esModule",{value:!0});var db=function(){function e(t,r){for(var i=0;i<r.length;i++){var d=r[i];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(t,d.key,d)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),hb=X,ls=mi(hb),pb=qe,mb=mi(pb);function mi(e){return e&&e.__esModule?e:{default:e}}function vb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gb(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function yb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var bb=function(e){yb(t,e);function t(){return vb(this,t),gb(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return db(t,[{key:"render",value:function(){return ls.default.createElement("button",this.props,this.props.children)}}]),t}(ls.default.Component);kn.default=(0,mb.default)(bb);var Bn={},Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});var Sb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},_b=function(){function e(t,r){for(var i=0;i<r.length;i++){var d=r[i];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(t,d.key,d)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),xb=X,fs=Kr(xb),Tb=Xu;Kr(Tb);var Eb=Fe,ds=Kr(Eb),wb=zr,hs=Kr(wb);function Kr(e){return e&&e.__esModule?e:{default:e}}function Ob(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ab(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Cb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Ur.default=function(e){var t=function(r){Cb(i,r);function i(d){Ob(this,i);var b=Ab(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,d));return b.childBindings={domNode:null},b}return _b(i,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(b){this.props.name!==b.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;ds.default.unregister(this.props.name)}},{key:"registerElems",value:function(b){ds.default.register(b,this.childBindings.domNode)}},{key:"render",value:function(){return fs.default.createElement(e,Sb({},this.props,{parentBindings:this.childBindings}))}}]),i}(fs.default.Component);return t.propTypes={name:hs.default.string,id:hs.default.string},t};Object.defineProperty(Bn,"__esModule",{value:!0});var ps=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ib=function(){function e(t,r){for(var i=0;i<r.length;i++){var d=r[i];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(t,d.key,d)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),Pb=X,ms=zn(Pb),Mb=Ur,jb=zn(Mb),Db=zr,vs=zn(Db);function zn(e){return e&&e.__esModule?e:{default:e}}function Lb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nb(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Rb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var vi=function(e){Rb(t,e);function t(){return Lb(this,t),Nb(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ib(t,[{key:"render",value:function(){var i=this,d=ps({},this.props);return delete d.name,d.parentBindings&&delete d.parentBindings,ms.default.createElement("div",ps({},d,{ref:function(s){i.props.parentBindings.domNode=s}}),this.props.children)}}]),t}(ms.default.Component);vi.propTypes={name:vs.default.string,id:vs.default.string};Bn.default=(0,jb.default)(vi);var gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},gs=function(){function e(t,r){for(var i=0;i<r.length;i++){var d=r[i];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(t,d.key,d)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();function ys(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bs(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Ss(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Sr=X,ge=tr,yn=Fe,mt=zr,le=Gr,_s={to:mt.string.isRequired,containerId:mt.string,container:mt.object,activeClass:mt.string,spy:mt.bool,smooth:mt.oneOfType([mt.bool,mt.string]),offset:mt.number,delay:mt.number,isDynamic:mt.bool,onClick:mt.func,duration:mt.oneOfType([mt.number,mt.func]),absolute:mt.bool,onSetActive:mt.func,onSetInactive:mt.func,ignoreCancelEvents:mt.bool,hashSpy:mt.bool,spyThrottle:mt.number},Fb={Scroll:function(t,r){console.warn("Helpers.Scroll is deprecated since v1.7.0");var i=r||yn,d=function(s){Ss(l,s);function l(n){ys(this,l);var o=bs(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,n));return b.call(o),o.state={active:!1},o}return gs(l,[{key:"getScrollSpyContainer",value:function(){var o=this.props.containerId,u=this.props.container;return o?document.getElementById(o):u&&u.nodeType?u:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var o=this.getScrollSpyContainer();ge.isMounted(o)||ge.mount(o,this.props.spyThrottle),this.props.hashSpy&&(le.isMounted()||le.mount(i),le.mapContainer(this.props.to,o)),this.props.spy&&ge.addStateHandler(this.stateHandler),ge.addSpyHandler(this.spyHandler,o),this.setState({container:o})}}},{key:"componentWillUnmount",value:function(){ge.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var o="";this.state&&this.state.active?o=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():o=this.props.className;var u=gn({},this.props);for(var h in _s)u.hasOwnProperty(h)&&delete u[h];return u.className=o,u.onClick=this.handleClick,Sr.createElement(t,u)}}]),l}(Sr.Component),b=function(){var l=this;this.scrollTo=function(n,o){i.scrollTo(n,gn({},l.state,o))},this.handleClick=function(n){l.props.onClick&&l.props.onClick(n),n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault(),l.scrollTo(l.props.to,l.props)},this.stateHandler=function(){i.getActiveLink()!==l.props.to&&(l.state!==null&&l.state.active&&l.props.onSetInactive&&l.props.onSetInactive(),l.setState({active:!1}))},this.spyHandler=function(n){var o=l.getScrollSpyContainer();if(!(le.isMounted()&&!le.isInitialized())){var u=l.props.to,h=null,p=0,v=0,g=0;if(o.getBoundingClientRect){var S=o.getBoundingClientRect();g=S.top}if(!h||l.props.isDynamic){if(h=i.get(u),!h)return;var _=h.getBoundingClientRect();p=_.top-g+n,v=p+_.height}var E=n-l.props.offset,w=E>=Math.floor(p)&&E<Math.floor(v),I=E<Math.floor(p)||E>=Math.floor(v),M=i.getActiveLink();if(I)return u===M&&i.setActiveLink(void 0),l.props.hashSpy&&le.getHash()===u&&le.changeHash(),l.props.spy&&l.state.active&&(l.setState({active:!1}),l.props.onSetInactive&&l.props.onSetInactive()),ge.updateStates();if(w&&M!==u)return i.setActiveLink(u),l.props.hashSpy&&le.changeHash(u),l.props.spy&&(l.setState({active:!0}),l.props.onSetActive&&l.props.onSetActive(u)),ge.updateStates()}}};return d.propTypes=_s,d.defaultProps={offset:0},d},Element:function(t){console.warn("Helpers.Element is deprecated since v1.7.0");var r=function(i){Ss(d,i);function d(b){ys(this,d);var s=bs(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,b));return s.childBindings={domNode:null},s}return gs(d,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(s){this.props.name!==s.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;yn.unregister(this.props.name)}},{key:"registerElems",value:function(s){yn.register(s,this.childBindings.domNode)}},{key:"render",value:function(){return Sr.createElement(t,gn({},this.props,{parentBindings:this.childBindings}))}}]),d}(Sr.Component);return r.propTypes={name:mt.string,id:mt.string},r}},$b=Fb;Object.defineProperty(gt,"__esModule",{value:!0});gt.Helpers=gt.ScrollElement=gt.ScrollLink=Er=gt.animateScroll=gt.scrollSpy=gt.Events=gt.scroller=gt.Element=gt.Button=gt.Link=void 0;var Hb=Nn,gi=Vt(Hb),kb=kn,yi=Vt(kb),Bb=Bn,bi=Vt(Bb),zb=Fe,Si=Vt(zb),Gb=nr,_i=Vt(Gb),Ub=tr,xi=Vt(Ub),Kb=Hr,Ti=Vt(Kb),Wb=qe,Ei=Vt(Wb),Vb=Ur,wi=Vt(Vb),Yb=$b,Oi=Vt(Yb);function Vt(e){return e&&e.__esModule?e:{default:e}}gt.Link=gi.default;gt.Button=yi.default;gt.Element=bi.default;gt.scroller=Si.default;gt.Events=_i.default;gt.scrollSpy=xi.default;var Er=gt.animateScroll=Ti.default;gt.ScrollLink=Ei.default;gt.ScrollElement=wi.default;gt.Helpers=Oi.default;gt.default={Link:gi.default,Button:yi.default,Element:bi.default,scroller:Si.default,Events:_i.default,scrollSpy:xi.default,animateScroll:Ti.default,ScrollLink:Ei.default,ScrollElement:wi.default,Helpers:Oi.default};const Xb=X.memo(({fitScreenMode:e})=>{const[t,r]=X.useState(!1),{atBottom:i}=si(e);X.useEffect(()=>{const s=new ResizeObserver(()=>{r(document.body.scrollHeight>screen.height&&e!="fitXY")});return s.observe(document.body),()=>s.disconnect()},[e]);const d=()=>{const s=document.body.scrollHeight-window.scrollY-screen.height,l=screen.height/2e3;if(s<0)return;if(s<.8*screen.height){Er.scrollToBottom({duration:s/l,onComplete:()=>{window.scrollBy(0,-1)}});return}const n=document.querySelectorAll(".section");for(const o of n){const u=o.getBoundingClientRect();if(u.bottom>=screen.height){const h=Math.max(100,.2*screen.height),p=u.top-h;Er.scrollTo(u.top+window.scrollY-h,{duration:p/l});break}}},b=()=>{Er.scrollTo(0,{duration:200})};return t?A.jsxs("div",{className:"fixed bottom-10 right-10 z-50 h-24 flex",children:[!i&&A.jsx(Wt,{size:"icon",variant:"circular",onClick:d,className:"absolute bottom-0 right-0",children:A.jsx(ac,{})}),i&&A.jsx(Wt,{size:"icon",variant:"circular",onClick:b,className:"absolute top-0 right-0",children:A.jsx(sc,{})})]}):null}),Qb=()=>{const[e,t]=X.useState(!0),r=X.useCallback(i=>{t(i)},[]);return{isVisible:e,updateVisibility:r}},t1=()=>{const{songDB:e,songData:t}=Qu(),r=Zu(),i=mc(),d=X.useRef(null),{layout:b,actions:s}=ee(),{updateVisibility:l}=Qb();return X.useEffect(()=>{t.key||(t.key=vg(t.content||"")),s.setOriginalKey(t.key||null)},[t,s]),X.useEffect(()=>{s.resetTranspose()},[t.id,s]),Il({onPinch:({movement:[n],memo:o})=>{o||(o=b.fontSize);const u=Math.max(8,Math.min(o*n,50));return s.setLayoutSettings({fitScreenMode:"none",fontSize:u}),screen.height>50+document.body.scrollHeight?l(!0):screen.height<document.body.scrollHeight&&window.scrollY>0&&l(!1),o}},{target:d}),X.useEffect(()=>{const n=o=>o.preventDefault();return document.addEventListener("gesturestart",n),document.addEventListener("gesturechange",n),()=>{document.removeEventListener("gesturestart",n),document.removeEventListener("gesturechange",n)}},[]),t.lyricsLength()<50?A.jsx(Hg,{pdfFilenames:t.pdfFilenames}):A.jsxs(kg,{ref:d,children:[A.jsx($g,{navigate:r,songDB:e,songData:t,fullScreenHandle:i}),A.jsxs(vc,{handle:i,className:de("w-full overflow-x-clip",b.fitScreenMode=="fitXY"?" h-full ":" h-fit overflow-y-scroll"),children:[A.jsx(Xb,{fitScreenMode:b.fitScreenMode}),A.jsx(Kg,{songData:t})]})]})};export{t1 as SongView,t1 as default};
