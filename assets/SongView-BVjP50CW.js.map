{"version":3,"file":"SongView-BVjP50CW.js","sources":["../../node_modules/lucide-react/dist/esm/icons/a-arrow-down.js","../../node_modules/lucide-react/dist/esm/icons/a-arrow-up.js","../../node_modules/lucide-react/dist/esm/icons/arrow-big-down.js","../../node_modules/lucide-react/dist/esm/icons/arrow-big-up-dash.js","../../node_modules/lucide-react/dist/esm/icons/chevrons-left-right-ellipsis.js","../../node_modules/lucide-react/dist/esm/icons/columns-2.js","../../node_modules/lucide-react/dist/esm/icons/fullscreen.js","../../node_modules/lucide-react/dist/esm/icons/github.js","../../node_modules/lucide-react/dist/esm/icons/guitar.js","../../node_modules/lucide-react/dist/esm/icons/maximize.js","../../node_modules/lucide-react/dist/esm/icons/move-diagonal.js","../../node_modules/lucide-react/dist/esm/icons/move-horizontal.js","../../node_modules/lucide-react/dist/esm/icons/pencil-ruler.js","../../node_modules/lucide-react/dist/esm/icons/piano.js","../../node_modules/lucide-react/dist/esm/icons/repeat.js","../../node_modules/lucide-react/dist/esm/icons/save.js","../../node_modules/lucide-react/dist/esm/icons/settings-2.js","../../node_modules/lucide-react/dist/esm/icons/undo-2.js","../../node_modules/fscreen/dist/fscreen.esm.js","../../node_modules/react-full-screen/dist/index.modern.js","../../node_modules/@use-gesture/core/dist/maths-0ab39ae9.esm.js","../../node_modules/@use-gesture/core/dist/actions-fe213e88.esm.js","../../node_modules/@use-gesture/core/dist/use-gesture-core.esm.js","../../node_modules/@use-gesture/react/dist/use-gesture-react.esm.js","../../src/routes/SongView/hooks/viewSettingsStore.tsx","../../src/routes/SongView/settings/ChordSettingsMenu.tsx","../../src/components/ui/loop-note-icon.tsx","../../src/routes/SongView/settings/LayoutSettings.tsx","../../src/routes/SongView/settings/transpose_icon.tsx","../../src/routes/SongView/settings/TransposeSettings.tsx","../../src/routes/SongView/hooks/useScrollHandler.ts","../../node_modules/pwa-install-handler/dist/index.es.js","../../node_modules/react-use-pwa-install/dist/index.es.js","../../src/routes/SongView/settings/Toolbar.tsx","../../src/routes/SongView/components/pdfView.tsx","../../src/routes/SongView/components/SongViewLayout.tsx","../../src/routes/SongView/components/CustomAutoTextSize.tsx","../../src/routes/SongView/components/SongHeading.tsx","../../src/routes/SongView/components/BackgroundImage.tsx","../../src/routes/SongView/components/SongContent.tsx","../../node_modules/lodash.throttle/index.js","../../node_modules/react-scroll/modules/mixins/passive-event-listeners.js","../../node_modules/react-scroll/modules/mixins/scroll-spy.js","../../node_modules/react-scroll/modules/mixins/utils.js","../../node_modules/react-scroll/modules/mixins/smooth.js","../../node_modules/react-scroll/modules/mixins/cancel-events.js","../../node_modules/react-scroll/modules/mixins/scroll-events.js","../../node_modules/react-scroll/modules/mixins/animate-scroll.js","../../node_modules/react-scroll/modules/mixins/scroller.js","../../node_modules/prop-types/lib/ReactPropTypesSecret.js","../../node_modules/prop-types/factoryWithThrowingShims.js","../../node_modules/prop-types/index.js","../../node_modules/react-scroll/modules/mixins/scroll-hash.js","../../node_modules/react-scroll/modules/mixins/scroll-link.js","../../node_modules/react-scroll/modules/components/Link.js","../../node_modules/react-scroll/modules/components/Button.js","../../node_modules/react-scroll/modules/mixins/scroll-element.js","../../node_modules/react-scroll/modules/components/Element.js","../../node_modules/react-scroll/modules/mixins/Helpers.js","../../node_modules/react-scroll/modules/index.js","../../src/routes/SongView/components/ScrollButtons.tsx","../../src/routes/SongView/hooks/useToolbarVisibility.ts","../../src/routes/SongView/SongView.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst AArrowDown = createLucideIcon(\"AArrowDown\", [\n  [\"path\", { d: \"M3.5 13h6\", key: \"p1my2r\" }],\n  [\"path\", { d: \"m2 16 4.5-9 4.5 9\", key: \"ndf0b3\" }],\n  [\"path\", { d: \"M18 7v9\", key: \"pknjwm\" }],\n  [\"path\", { d: \"m14 12 4 4 4-4\", key: \"buelq4\" }]\n]);\n\nexport { AArrowDown as default };\n//# sourceMappingURL=a-arrow-down.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst AArrowUp = createLucideIcon(\"AArrowUp\", [\n  [\"path\", { d: \"M3.5 13h6\", key: \"p1my2r\" }],\n  [\"path\", { d: \"m2 16 4.5-9 4.5 9\", key: \"ndf0b3\" }],\n  [\"path\", { d: \"M18 16V7\", key: \"ty0viw\" }],\n  [\"path\", { d: \"m14 11 4-4 4 4\", key: \"1pu57t\" }]\n]);\n\nexport { AArrowUp as default };\n//# sourceMappingURL=a-arrow-up.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowBigDown = createLucideIcon(\"ArrowBigDown\", [\n  [\"path\", { d: \"M15 6v6h4l-7 7-7-7h4V6h6z\", key: \"1thax2\" }]\n]);\n\nexport { ArrowBigDown as default };\n//# sourceMappingURL=arrow-big-down.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowBigUpDash = createLucideIcon(\"ArrowBigUpDash\", [\n  [\"path\", { d: \"M9 19h6\", key: \"456am0\" }],\n  [\"path\", { d: \"M9 15v-3H5l7-7 7 7h-4v3H9z\", key: \"1r2uve\" }]\n]);\n\nexport { ArrowBigUpDash as default };\n//# sourceMappingURL=arrow-big-up-dash.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronsLeftRightEllipsis = createLucideIcon(\"ChevronsLeftRightEllipsis\", [\n  [\"path\", { d: \"m18 8 4 4-4 4\", key: \"1ak13k\" }],\n  [\"path\", { d: \"m6 8-4 4 4 4\", key: \"15zrgr\" }],\n  [\"path\", { d: \"M8 12h.01\", key: \"czm47f\" }],\n  [\"path\", { d: \"M12 12h.01\", key: \"1mp3jc\" }],\n  [\"path\", { d: \"M16 12h.01\", key: \"1l6xoz\" }]\n]);\n\nexport { ChevronsLeftRightEllipsis as default };\n//# sourceMappingURL=chevrons-left-right-ellipsis.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Columns2 = createLucideIcon(\"Columns2\", [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }],\n  [\"path\", { d: \"M12 3v18\", key: \"108xh3\" }]\n]);\n\nexport { Columns2 as default };\n//# sourceMappingURL=columns-2.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Fullscreen = createLucideIcon(\"Fullscreen\", [\n  [\"path\", { d: \"M3 7V5a2 2 0 0 1 2-2h2\", key: \"aa7l1z\" }],\n  [\"path\", { d: \"M17 3h2a2 2 0 0 1 2 2v2\", key: \"4qcy5o\" }],\n  [\"path\", { d: \"M21 17v2a2 2 0 0 1-2 2h-2\", key: \"6vwrx8\" }],\n  [\"path\", { d: \"M7 21H5a2 2 0 0 1-2-2v-2\", key: \"ioqczr\" }],\n  [\"rect\", { width: \"10\", height: \"8\", x: \"7\", y: \"8\", rx: \"1\", key: \"vys8me\" }]\n]);\n\nexport { Fullscreen as default };\n//# sourceMappingURL=fullscreen.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Github = createLucideIcon(\"Github\", [\n  [\n    \"path\",\n    {\n      d: \"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4\",\n      key: \"tonef\"\n    }\n  ],\n  [\"path\", { d: \"M9 18c-4.51 2-5-2-7-2\", key: \"9comsn\" }]\n]);\n\nexport { Github as default };\n//# sourceMappingURL=github.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Guitar = createLucideIcon(\"Guitar\", [\n  [\"path\", { d: \"m11.9 12.1 4.514-4.514\", key: \"109xqo\" }],\n  [\n    \"path\",\n    {\n      d: \"M20.1 2.3a1 1 0 0 0-1.4 0l-1.114 1.114A2 2 0 0 0 17 4.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 17.828 7h1.344a2 2 0 0 0 1.414-.586L21.7 5.3a1 1 0 0 0 0-1.4z\",\n      key: \"txyc8t\"\n    }\n  ],\n  [\"path\", { d: \"m6 16 2 2\", key: \"16qmzd\" }],\n  [\n    \"path\",\n    {\n      d: \"M8.2 9.9C8.7 8.8 9.8 8 11 8c2.8 0 5 2.2 5 5 0 1.2-.8 2.3-1.9 2.8l-.9.4A2 2 0 0 0 12 18a4 4 0 0 1-4 4c-3.3 0-6-2.7-6-6a4 4 0 0 1 4-4 2 2 0 0 0 1.8-1.2z\",\n      key: \"1u8q3z\"\n    }\n  ],\n  [\"circle\", { cx: \"11.5\", cy: \"12.5\", r: \".5\", fill: \"currentColor\", key: \"16onso\" }]\n]);\n\nexport { Guitar as default };\n//# sourceMappingURL=guitar.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Maximize = createLucideIcon(\"Maximize\", [\n  [\"path\", { d: \"M8 3H5a2 2 0 0 0-2 2v3\", key: \"1dcmit\" }],\n  [\"path\", { d: \"M21 8V5a2 2 0 0 0-2-2h-3\", key: \"1e4gt3\" }],\n  [\"path\", { d: \"M3 16v3a2 2 0 0 0 2 2h3\", key: \"wsl5sc\" }],\n  [\"path\", { d: \"M16 21h3a2 2 0 0 0 2-2v-3\", key: \"18trek\" }]\n]);\n\nexport { Maximize as default };\n//# sourceMappingURL=maximize.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst MoveDiagonal = createLucideIcon(\"MoveDiagonal\", [\n  [\"path\", { d: \"M11 19H5v-6\", key: \"8awifj\" }],\n  [\"path\", { d: \"M13 5h6v6\", key: \"7voy1q\" }],\n  [\"path\", { d: \"M19 5 5 19\", key: \"wwaj1z\" }]\n]);\n\nexport { MoveDiagonal as default };\n//# sourceMappingURL=move-diagonal.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst MoveHorizontal = createLucideIcon(\"MoveHorizontal\", [\n  [\"path\", { d: \"m18 8 4 4-4 4\", key: \"1ak13k\" }],\n  [\"path\", { d: \"M2 12h20\", key: \"9i4pu4\" }],\n  [\"path\", { d: \"m6 8-4 4 4 4\", key: \"15zrgr\" }]\n]);\n\nexport { MoveHorizontal as default };\n//# sourceMappingURL=move-horizontal.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst PencilRuler = createLucideIcon(\"PencilRuler\", [\n  [\n    \"path\",\n    { d: \"M13 7 8.7 2.7a2.41 2.41 0 0 0-3.4 0L2.7 5.3a2.41 2.41 0 0 0 0 3.4L7 13\", key: \"orapub\" }\n  ],\n  [\"path\", { d: \"m8 6 2-2\", key: \"115y1s\" }],\n  [\"path\", { d: \"m18 16 2-2\", key: \"ee94s4\" }],\n  [\n    \"path\",\n    {\n      d: \"m17 11 4.3 4.3c.94.94.94 2.46 0 3.4l-2.6 2.6c-.94.94-2.46.94-3.4 0L11 17\",\n      key: \"cfq27r\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z\",\n      key: \"1a8usu\"\n    }\n  ],\n  [\"path\", { d: \"m15 5 4 4\", key: \"1mk7zo\" }]\n]);\n\nexport { PencilRuler as default };\n//# sourceMappingURL=pencil-ruler.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Piano = createLucideIcon(\"Piano\", [\n  [\n    \"path\",\n    {\n      d: \"M18.5 8c-1.4 0-2.6-.8-3.2-2A6.87 6.87 0 0 0 2 9v11a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-8.5C22 9.6 20.4 8 18.5 8\",\n      key: \"lag0yf\"\n    }\n  ],\n  [\"path\", { d: \"M2 14h20\", key: \"myj16y\" }],\n  [\"path\", { d: \"M6 14v4\", key: \"9ng0ue\" }],\n  [\"path\", { d: \"M10 14v4\", key: \"1v8uk5\" }],\n  [\"path\", { d: \"M14 14v4\", key: \"1tqops\" }],\n  [\"path\", { d: \"M18 14v4\", key: \"18uqwm\" }]\n]);\n\nexport { Piano as default };\n//# sourceMappingURL=piano.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Repeat = createLucideIcon(\"Repeat\", [\n  [\"path\", { d: \"m17 2 4 4-4 4\", key: \"nntrym\" }],\n  [\"path\", { d: \"M3 11v-1a4 4 0 0 1 4-4h14\", key: \"84bu3i\" }],\n  [\"path\", { d: \"m7 22-4-4 4-4\", key: \"1wqhfi\" }],\n  [\"path\", { d: \"M21 13v1a4 4 0 0 1-4 4H3\", key: \"1rx37r\" }]\n]);\n\nexport { Repeat as default };\n//# sourceMappingURL=repeat.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Save = createLucideIcon(\"Save\", [\n  [\n    \"path\",\n    {\n      d: \"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z\",\n      key: \"1c8476\"\n    }\n  ],\n  [\"path\", { d: \"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7\", key: \"1ydtos\" }],\n  [\"path\", { d: \"M7 3v4a1 1 0 0 0 1 1h7\", key: \"t51u73\" }]\n]);\n\nexport { Save as default };\n//# sourceMappingURL=save.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Settings2 = createLucideIcon(\"Settings2\", [\n  [\"path\", { d: \"M20 7h-9\", key: \"3s1dr2\" }],\n  [\"path\", { d: \"M14 17H5\", key: \"gfn3mx\" }],\n  [\"circle\", { cx: \"17\", cy: \"17\", r: \"3\", key: \"18b49y\" }],\n  [\"circle\", { cx: \"7\", cy: \"7\", r: \"3\", key: \"dfmy0x\" }]\n]);\n\nexport { Settings2 as default };\n//# sourceMappingURL=settings-2.js.map\n","/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Undo2 = createLucideIcon(\"Undo2\", [\n  [\"path\", { d: \"M9 14 4 9l5-5\", key: \"102s5s\" }],\n  [\"path\", { d: \"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11\", key: \"f3b9sd\" }]\n]);\n\nexport { Undo2 as default };\n//# sourceMappingURL=undo-2.js.map\n","var key = {\r\n    fullscreenEnabled: 0,\r\n    fullscreenElement: 1,\r\n    requestFullscreen: 2,\r\n    exitFullscreen: 3,\r\n    fullscreenchange: 4,\r\n    fullscreenerror: 5,\r\n    fullscreen: 6\r\n};\r\nvar webkit = [\r\n    'webkitFullscreenEnabled',\r\n    'webkitFullscreenElement',\r\n    'webkitRequestFullscreen',\r\n    'webkitExitFullscreen',\r\n    'webkitfullscreenchange',\r\n    'webkitfullscreenerror',\r\n    '-webkit-full-screen',\r\n];\r\nvar moz = [\r\n    'mozFullScreenEnabled',\r\n    'mozFullScreenElement',\r\n    'mozRequestFullScreen',\r\n    'mozCancelFullScreen',\r\n    'mozfullscreenchange',\r\n    'mozfullscreenerror',\r\n    '-moz-full-screen',\r\n];\r\nvar ms = [\r\n    'msFullscreenEnabled',\r\n    'msFullscreenElement',\r\n    'msRequestFullscreen',\r\n    'msExitFullscreen',\r\n    'MSFullscreenChange',\r\n    'MSFullscreenError',\r\n    '-ms-fullscreen',\r\n];\r\n// so it doesn't throw if no window or document\r\nvar document = typeof window !== 'undefined' && typeof window.document !== 'undefined' ? window.document : {};\r\nvar vendor = (('fullscreenEnabled' in document && Object.keys(key)) ||\r\n    (webkit[0] in document && webkit) ||\r\n    (moz[0] in document && moz) ||\r\n    (ms[0] in document && ms) ||\r\n    []);\r\nvar fscreen = {\r\n    requestFullscreen: function (element) { return element[vendor[key.requestFullscreen]](); },\r\n    requestFullscreenFunction: function (element) { return element[vendor[key.requestFullscreen]]; },\r\n    get exitFullscreen() { return document[vendor[key.exitFullscreen]].bind(document); },\r\n    get fullscreenPseudoClass() { return \":\" + vendor[key.fullscreen]; },\r\n    addEventListener: function (type, handler, options) { return document.addEventListener(vendor[key[type]], handler, options); },\r\n    removeEventListener: function (type, handler, options) { return document.removeEventListener(vendor[key[type]], handler, options); },\r\n    get fullscreenEnabled() { return Boolean(document[vendor[key.fullscreenEnabled]]); },\r\n    set fullscreenEnabled(val) { },\r\n    get fullscreenElement() { return document[vendor[key.fullscreenElement]]; },\r\n    set fullscreenElement(val) { },\r\n    get onfullscreenchange() { return document[(\"on\" + vendor[key.fullscreenchange]).toLowerCase()]; },\r\n    set onfullscreenchange(handler) { return document[(\"on\" + vendor[key.fullscreenchange]).toLowerCase()] = handler; },\r\n    get onfullscreenerror() { return document[(\"on\" + vendor[key.fullscreenerror]).toLowerCase()]; },\r\n    set onfullscreenerror(handler) { return document[(\"on\" + vendor[key.fullscreenerror]).toLowerCase()] = handler; },\r\n};\n\nexport default fscreen;\n//# sourceMappingURL=fscreen.esm.js.map\n","import React, { useState, useRef, useEffect, useCallback, useMemo } from 'react';\nimport fscreen from 'fscreen';\n\nfunction useFullScreenHandle() {\n  var _useState = useState(false),\n      active = _useState[0],\n      setActive = _useState[1];\n\n  var node = useRef(null);\n  useEffect(function () {\n    var handleChange = function handleChange() {\n      setActive(fscreen.fullscreenElement === node.current);\n    };\n\n    fscreen.addEventListener('fullscreenchange', handleChange);\n    return function () {\n      return fscreen.removeEventListener('fullscreenchange', handleChange);\n    };\n  }, []);\n  var enter = useCallback(function () {\n    if (fscreen.fullscreenElement) {\n      return fscreen.exitFullscreen().then(function () {\n        return fscreen.requestFullscreen(node.current);\n      });\n    } else if (node.current) {\n      return fscreen.requestFullscreen(node.current);\n    }\n  }, []);\n  var exit = useCallback(function () {\n    if (fscreen.fullscreenElement === node.current) {\n      return fscreen.exitFullscreen();\n    }\n\n    return Promise.resolve();\n  }, []);\n  return useMemo(function () {\n    return {\n      active: active,\n      enter: enter,\n      exit: exit,\n      node: node\n    };\n  }, [active, enter, exit]);\n}\nvar FullScreen = function FullScreen(_ref) {\n  var handle = _ref.handle,\n      onChange = _ref.onChange,\n      children = _ref.children,\n      className = _ref.className;\n  var classNames = [];\n\n  if (className) {\n    classNames.push(className);\n  }\n\n  classNames.push('fullscreen');\n\n  if (handle.active) {\n    classNames.push('fullscreen-enabled');\n  }\n\n  useEffect(function () {\n    if (onChange) {\n      onChange(handle.active, handle);\n    }\n  }, [handle.active]);\n  return React.createElement(\"div\", {\n    className: classNames.join(' '),\n    ref: handle.node,\n    style: handle.active ? {\n      height: '100%',\n      width: '100%'\n    } : undefined\n  }, children);\n};\n\nexport { FullScreen, useFullScreenHandle };\n//# sourceMappingURL=index.modern.js.map\n","function clamp(v, min, max) {\n  return Math.max(min, Math.min(v, max));\n}\nconst V = {\n  toVector(v, fallback) {\n    if (v === undefined) v = fallback;\n    return Array.isArray(v) ? v : [v, v];\n  },\n  add(v1, v2) {\n    return [v1[0] + v2[0], v1[1] + v2[1]];\n  },\n  sub(v1, v2) {\n    return [v1[0] - v2[0], v1[1] - v2[1]];\n  },\n  addTo(v1, v2) {\n    v1[0] += v2[0];\n    v1[1] += v2[1];\n  },\n  subTo(v1, v2) {\n    v1[0] -= v2[0];\n    v1[1] -= v2[1];\n  }\n};\nfunction rubberband(distance, dimension, constant) {\n  if (dimension === 0 || Math.abs(dimension) === Infinity) return Math.pow(distance, constant * 5);\n  return distance * dimension * constant / (dimension + constant * distance);\n}\nfunction rubberbandIfOutOfBounds(position, min, max, constant = 0.15) {\n  if (constant === 0) return clamp(position, min, max);\n  if (position < min) return -rubberband(min - position, max - min, constant) + min;\n  if (position > max) return +rubberband(position - max, max - min, constant) + max;\n  return position;\n}\nfunction computeRubberband(bounds, [Vx, Vy], [Rx, Ry]) {\n  const [[X0, X1], [Y0, Y1]] = bounds;\n  return [rubberbandIfOutOfBounds(Vx, X0, X1, Rx), rubberbandIfOutOfBounds(Vy, Y0, Y1, Ry)];\n}\n\nexport { V, computeRubberband as c, rubberbandIfOutOfBounds as r };\n","import { V, c as computeRubberband } from './maths-0ab39ae9.esm.js';\n\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\n\nconst EVENT_TYPE_MAP = {\n  pointer: {\n    start: 'down',\n    change: 'move',\n    end: 'up'\n  },\n  mouse: {\n    start: 'down',\n    change: 'move',\n    end: 'up'\n  },\n  touch: {\n    start: 'start',\n    change: 'move',\n    end: 'end'\n  },\n  gesture: {\n    start: 'start',\n    change: 'change',\n    end: 'end'\n  }\n};\nfunction capitalize(string) {\n  if (!string) return '';\n  return string[0].toUpperCase() + string.slice(1);\n}\nconst actionsWithoutCaptureSupported = ['enter', 'leave'];\nfunction hasCapture(capture = false, actionKey) {\n  return capture && !actionsWithoutCaptureSupported.includes(actionKey);\n}\nfunction toHandlerProp(device, action = '', capture = false) {\n  const deviceProps = EVENT_TYPE_MAP[device];\n  const actionKey = deviceProps ? deviceProps[action] || action : action;\n  return 'on' + capitalize(device) + capitalize(actionKey) + (hasCapture(capture, actionKey) ? 'Capture' : '');\n}\nconst pointerCaptureEvents = ['gotpointercapture', 'lostpointercapture'];\nfunction parseProp(prop) {\n  let eventKey = prop.substring(2).toLowerCase();\n  const passive = !!~eventKey.indexOf('passive');\n  if (passive) eventKey = eventKey.replace('passive', '');\n  const captureKey = pointerCaptureEvents.includes(eventKey) ? 'capturecapture' : 'capture';\n  const capture = !!~eventKey.indexOf(captureKey);\n  if (capture) eventKey = eventKey.replace('capture', '');\n  return {\n    device: eventKey,\n    capture,\n    passive\n  };\n}\nfunction toDomEventType(device, action = '') {\n  const deviceProps = EVENT_TYPE_MAP[device];\n  const actionKey = deviceProps ? deviceProps[action] || action : action;\n  return device + actionKey;\n}\nfunction isTouch(event) {\n  return 'touches' in event;\n}\nfunction getPointerType(event) {\n  if (isTouch(event)) return 'touch';\n  if ('pointerType' in event) return event.pointerType;\n  return 'mouse';\n}\nfunction getCurrentTargetTouchList(event) {\n  return Array.from(event.touches).filter(e => {\n    var _event$currentTarget, _event$currentTarget$;\n    return e.target === event.currentTarget || ((_event$currentTarget = event.currentTarget) === null || _event$currentTarget === void 0 || (_event$currentTarget$ = _event$currentTarget.contains) === null || _event$currentTarget$ === void 0 ? void 0 : _event$currentTarget$.call(_event$currentTarget, e.target));\n  });\n}\nfunction getTouchList(event) {\n  return event.type === 'touchend' || event.type === 'touchcancel' ? event.changedTouches : event.targetTouches;\n}\nfunction getValueEvent(event) {\n  return isTouch(event) ? getTouchList(event)[0] : event;\n}\nfunction distanceAngle(P1, P2) {\n  try {\n    const dx = P2.clientX - P1.clientX;\n    const dy = P2.clientY - P1.clientY;\n    const cx = (P2.clientX + P1.clientX) / 2;\n    const cy = (P2.clientY + P1.clientY) / 2;\n    const distance = Math.hypot(dx, dy);\n    const angle = -(Math.atan2(dx, dy) * 180) / Math.PI;\n    const origin = [cx, cy];\n    return {\n      angle,\n      distance,\n      origin\n    };\n  } catch (_unused) {}\n  return null;\n}\nfunction touchIds(event) {\n  return getCurrentTargetTouchList(event).map(touch => touch.identifier);\n}\nfunction touchDistanceAngle(event, ids) {\n  const [P1, P2] = Array.from(event.touches).filter(touch => ids.includes(touch.identifier));\n  return distanceAngle(P1, P2);\n}\nfunction pointerId(event) {\n  const valueEvent = getValueEvent(event);\n  return isTouch(event) ? valueEvent.identifier : valueEvent.pointerId;\n}\nfunction pointerValues(event) {\n  const valueEvent = getValueEvent(event);\n  return [valueEvent.clientX, valueEvent.clientY];\n}\nconst LINE_HEIGHT = 40;\nconst PAGE_HEIGHT = 800;\nfunction wheelValues(event) {\n  let {\n    deltaX,\n    deltaY,\n    deltaMode\n  } = event;\n  if (deltaMode === 1) {\n    deltaX *= LINE_HEIGHT;\n    deltaY *= LINE_HEIGHT;\n  } else if (deltaMode === 2) {\n    deltaX *= PAGE_HEIGHT;\n    deltaY *= PAGE_HEIGHT;\n  }\n  return [deltaX, deltaY];\n}\nfunction scrollValues(event) {\n  var _ref, _ref2;\n  const {\n    scrollX,\n    scrollY,\n    scrollLeft,\n    scrollTop\n  } = event.currentTarget;\n  return [(_ref = scrollX !== null && scrollX !== void 0 ? scrollX : scrollLeft) !== null && _ref !== void 0 ? _ref : 0, (_ref2 = scrollY !== null && scrollY !== void 0 ? scrollY : scrollTop) !== null && _ref2 !== void 0 ? _ref2 : 0];\n}\nfunction getEventDetails(event) {\n  const payload = {};\n  if ('buttons' in event) payload.buttons = event.buttons;\n  if ('shiftKey' in event) {\n    const {\n      shiftKey,\n      altKey,\n      metaKey,\n      ctrlKey\n    } = event;\n    Object.assign(payload, {\n      shiftKey,\n      altKey,\n      metaKey,\n      ctrlKey\n    });\n  }\n  return payload;\n}\n\nfunction call(v, ...args) {\n  if (typeof v === 'function') {\n    return v(...args);\n  } else {\n    return v;\n  }\n}\nfunction noop() {}\nfunction chain(...fns) {\n  if (fns.length === 0) return noop;\n  if (fns.length === 1) return fns[0];\n  return function () {\n    let result;\n    for (const fn of fns) {\n      result = fn.apply(this, arguments) || result;\n    }\n    return result;\n  };\n}\nfunction assignDefault(value, fallback) {\n  return Object.assign({}, fallback, value || {});\n}\n\nconst BEFORE_LAST_KINEMATICS_DELAY = 32;\nclass Engine {\n  constructor(ctrl, args, key) {\n    this.ctrl = ctrl;\n    this.args = args;\n    this.key = key;\n    if (!this.state) {\n      this.state = {};\n      this.computeValues([0, 0]);\n      this.computeInitial();\n      if (this.init) this.init();\n      this.reset();\n    }\n  }\n  get state() {\n    return this.ctrl.state[this.key];\n  }\n  set state(state) {\n    this.ctrl.state[this.key] = state;\n  }\n  get shared() {\n    return this.ctrl.state.shared;\n  }\n  get eventStore() {\n    return this.ctrl.gestureEventStores[this.key];\n  }\n  get timeoutStore() {\n    return this.ctrl.gestureTimeoutStores[this.key];\n  }\n  get config() {\n    return this.ctrl.config[this.key];\n  }\n  get sharedConfig() {\n    return this.ctrl.config.shared;\n  }\n  get handler() {\n    return this.ctrl.handlers[this.key];\n  }\n  reset() {\n    const {\n      state,\n      shared,\n      ingKey,\n      args\n    } = this;\n    shared[ingKey] = state._active = state.active = state._blocked = state._force = false;\n    state._step = [false, false];\n    state.intentional = false;\n    state._movement = [0, 0];\n    state._distance = [0, 0];\n    state._direction = [0, 0];\n    state._delta = [0, 0];\n    state._bounds = [[-Infinity, Infinity], [-Infinity, Infinity]];\n    state.args = args;\n    state.axis = undefined;\n    state.memo = undefined;\n    state.elapsedTime = state.timeDelta = 0;\n    state.direction = [0, 0];\n    state.distance = [0, 0];\n    state.overflow = [0, 0];\n    state._movementBound = [false, false];\n    state.velocity = [0, 0];\n    state.movement = [0, 0];\n    state.delta = [0, 0];\n    state.timeStamp = 0;\n  }\n  start(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state._active) {\n      this.reset();\n      this.computeInitial();\n      state._active = true;\n      state.target = event.target;\n      state.currentTarget = event.currentTarget;\n      state.lastOffset = config.from ? call(config.from, state) : state.offset;\n      state.offset = state.lastOffset;\n      state.startTime = state.timeStamp = event.timeStamp;\n    }\n  }\n  computeValues(values) {\n    const state = this.state;\n    state._values = values;\n    state.values = this.config.transform(values);\n  }\n  computeInitial() {\n    const state = this.state;\n    state._initial = state._values;\n    state.initial = state.values;\n  }\n  compute(event) {\n    const {\n      state,\n      config,\n      shared\n    } = this;\n    state.args = this.args;\n    let dt = 0;\n    if (event) {\n      state.event = event;\n      if (config.preventDefault && event.cancelable) state.event.preventDefault();\n      state.type = event.type;\n      shared.touches = this.ctrl.pointerIds.size || this.ctrl.touchIds.size;\n      shared.locked = !!document.pointerLockElement;\n      Object.assign(shared, getEventDetails(event));\n      shared.down = shared.pressed = shared.buttons % 2 === 1 || shared.touches > 0;\n      dt = event.timeStamp - state.timeStamp;\n      state.timeStamp = event.timeStamp;\n      state.elapsedTime = state.timeStamp - state.startTime;\n    }\n    if (state._active) {\n      const _absoluteDelta = state._delta.map(Math.abs);\n      V.addTo(state._distance, _absoluteDelta);\n    }\n    if (this.axisIntent) this.axisIntent(event);\n    const [_m0, _m1] = state._movement;\n    const [t0, t1] = config.threshold;\n    const {\n      _step,\n      values\n    } = state;\n    if (config.hasCustomTransform) {\n      if (_step[0] === false) _step[0] = Math.abs(_m0) >= t0 && values[0];\n      if (_step[1] === false) _step[1] = Math.abs(_m1) >= t1 && values[1];\n    } else {\n      if (_step[0] === false) _step[0] = Math.abs(_m0) >= t0 && Math.sign(_m0) * t0;\n      if (_step[1] === false) _step[1] = Math.abs(_m1) >= t1 && Math.sign(_m1) * t1;\n    }\n    state.intentional = _step[0] !== false || _step[1] !== false;\n    if (!state.intentional) return;\n    const movement = [0, 0];\n    if (config.hasCustomTransform) {\n      const [v0, v1] = values;\n      movement[0] = _step[0] !== false ? v0 - _step[0] : 0;\n      movement[1] = _step[1] !== false ? v1 - _step[1] : 0;\n    } else {\n      movement[0] = _step[0] !== false ? _m0 - _step[0] : 0;\n      movement[1] = _step[1] !== false ? _m1 - _step[1] : 0;\n    }\n    if (this.restrictToAxis && !state._blocked) this.restrictToAxis(movement);\n    const previousOffset = state.offset;\n    const gestureIsActive = state._active && !state._blocked || state.active;\n    if (gestureIsActive) {\n      state.first = state._active && !state.active;\n      state.last = !state._active && state.active;\n      state.active = shared[this.ingKey] = state._active;\n      if (event) {\n        if (state.first) {\n          if ('bounds' in config) state._bounds = call(config.bounds, state);\n          if (this.setup) this.setup();\n        }\n        state.movement = movement;\n        this.computeOffset();\n      }\n    }\n    const [ox, oy] = state.offset;\n    const [[x0, x1], [y0, y1]] = state._bounds;\n    state.overflow = [ox < x0 ? -1 : ox > x1 ? 1 : 0, oy < y0 ? -1 : oy > y1 ? 1 : 0];\n    state._movementBound[0] = state.overflow[0] ? state._movementBound[0] === false ? state._movement[0] : state._movementBound[0] : false;\n    state._movementBound[1] = state.overflow[1] ? state._movementBound[1] === false ? state._movement[1] : state._movementBound[1] : false;\n    const rubberband = state._active ? config.rubberband || [0, 0] : [0, 0];\n    state.offset = computeRubberband(state._bounds, state.offset, rubberband);\n    state.delta = V.sub(state.offset, previousOffset);\n    this.computeMovement();\n    if (gestureIsActive && (!state.last || dt > BEFORE_LAST_KINEMATICS_DELAY)) {\n      state.delta = V.sub(state.offset, previousOffset);\n      const absoluteDelta = state.delta.map(Math.abs);\n      V.addTo(state.distance, absoluteDelta);\n      state.direction = state.delta.map(Math.sign);\n      state._direction = state._delta.map(Math.sign);\n      if (!state.first && dt > 0) {\n        state.velocity = [absoluteDelta[0] / dt, absoluteDelta[1] / dt];\n        state.timeDelta = dt;\n      }\n    }\n  }\n  emit() {\n    const state = this.state;\n    const shared = this.shared;\n    const config = this.config;\n    if (!state._active) this.clean();\n    if ((state._blocked || !state.intentional) && !state._force && !config.triggerAllEvents) return;\n    const memo = this.handler(_objectSpread2(_objectSpread2(_objectSpread2({}, shared), state), {}, {\n      [this.aliasKey]: state.values\n    }));\n    if (memo !== undefined) state.memo = memo;\n  }\n  clean() {\n    this.eventStore.clean();\n    this.timeoutStore.clean();\n  }\n}\n\nfunction selectAxis([dx, dy], threshold) {\n  const absDx = Math.abs(dx);\n  const absDy = Math.abs(dy);\n  if (absDx > absDy && absDx > threshold) {\n    return 'x';\n  }\n  if (absDy > absDx && absDy > threshold) {\n    return 'y';\n  }\n  return undefined;\n}\nclass CoordinatesEngine extends Engine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"aliasKey\", 'xy');\n  }\n  reset() {\n    super.reset();\n    this.state.axis = undefined;\n  }\n  init() {\n    this.state.offset = [0, 0];\n    this.state.lastOffset = [0, 0];\n  }\n  computeOffset() {\n    this.state.offset = V.add(this.state.lastOffset, this.state.movement);\n  }\n  computeMovement() {\n    this.state.movement = V.sub(this.state.offset, this.state.lastOffset);\n  }\n  axisIntent(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state.axis && event) {\n      const threshold = typeof config.axisThreshold === 'object' ? config.axisThreshold[getPointerType(event)] : config.axisThreshold;\n      state.axis = selectAxis(state._movement, threshold);\n    }\n    state._blocked = (config.lockDirection || !!config.axis) && !state.axis || !!config.axis && config.axis !== state.axis;\n  }\n  restrictToAxis(v) {\n    if (this.config.axis || this.config.lockDirection) {\n      switch (this.state.axis) {\n        case 'x':\n          v[1] = 0;\n          break;\n        case 'y':\n          v[0] = 0;\n          break;\n      }\n    }\n  }\n}\n\nconst identity = v => v;\nconst DEFAULT_RUBBERBAND = 0.15;\nconst commonConfigResolver = {\n  enabled(value = true) {\n    return value;\n  },\n  eventOptions(value, _k, config) {\n    return _objectSpread2(_objectSpread2({}, config.shared.eventOptions), value);\n  },\n  preventDefault(value = false) {\n    return value;\n  },\n  triggerAllEvents(value = false) {\n    return value;\n  },\n  rubberband(value = 0) {\n    switch (value) {\n      case true:\n        return [DEFAULT_RUBBERBAND, DEFAULT_RUBBERBAND];\n      case false:\n        return [0, 0];\n      default:\n        return V.toVector(value);\n    }\n  },\n  from(value) {\n    if (typeof value === 'function') return value;\n    if (value != null) return V.toVector(value);\n  },\n  transform(value, _k, config) {\n    const transform = value || config.shared.transform;\n    this.hasCustomTransform = !!transform;\n    if (process.env.NODE_ENV === 'development') {\n      const originalTransform = transform || identity;\n      return v => {\n        const r = originalTransform(v);\n        if (!isFinite(r[0]) || !isFinite(r[1])) {\n          console.warn(`[@use-gesture]: config.transform() must produce a valid result, but it was: [${r[0]},${[1]}]`);\n        }\n        return r;\n      };\n    }\n    return transform || identity;\n  },\n  threshold(value) {\n    return V.toVector(value, 0);\n  }\n};\nif (process.env.NODE_ENV === 'development') {\n  Object.assign(commonConfigResolver, {\n    domTarget(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`domTarget\\` option has been renamed to \\`target\\`.`);\n      }\n      return NaN;\n    },\n    lockDirection(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`lockDirection\\` option has been merged with \\`axis\\`. Use it as in \\`{ axis: 'lock' }\\``);\n      }\n      return NaN;\n    },\n    initial(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`initial\\` option has been renamed to \\`from\\`.`);\n      }\n      return NaN;\n    }\n  });\n}\n\nconst DEFAULT_AXIS_THRESHOLD = 0;\nconst coordinatesConfigResolver = _objectSpread2(_objectSpread2({}, commonConfigResolver), {}, {\n  axis(_v, _k, {\n    axis\n  }) {\n    this.lockDirection = axis === 'lock';\n    if (!this.lockDirection) return axis;\n  },\n  axisThreshold(value = DEFAULT_AXIS_THRESHOLD) {\n    return value;\n  },\n  bounds(value = {}) {\n    if (typeof value === 'function') {\n      return state => coordinatesConfigResolver.bounds(value(state));\n    }\n    if ('current' in value) {\n      return () => value.current;\n    }\n    if (typeof HTMLElement === 'function' && value instanceof HTMLElement) {\n      return value;\n    }\n    const {\n      left = -Infinity,\n      right = Infinity,\n      top = -Infinity,\n      bottom = Infinity\n    } = value;\n    return [[left, right], [top, bottom]];\n  }\n});\n\nconst KEYS_DELTA_MAP = {\n  ArrowRight: (displacement, factor = 1) => [displacement * factor, 0],\n  ArrowLeft: (displacement, factor = 1) => [-1 * displacement * factor, 0],\n  ArrowUp: (displacement, factor = 1) => [0, -1 * displacement * factor],\n  ArrowDown: (displacement, factor = 1) => [0, displacement * factor]\n};\nclass DragEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'dragging');\n  }\n  reset() {\n    super.reset();\n    const state = this.state;\n    state._pointerId = undefined;\n    state._pointerActive = false;\n    state._keyboardActive = false;\n    state._preventScroll = false;\n    state._delayed = false;\n    state.swipe = [0, 0];\n    state.tap = false;\n    state.canceled = false;\n    state.cancel = this.cancel.bind(this);\n  }\n  setup() {\n    const state = this.state;\n    if (state._bounds instanceof HTMLElement) {\n      const boundRect = state._bounds.getBoundingClientRect();\n      const targetRect = state.currentTarget.getBoundingClientRect();\n      const _bounds = {\n        left: boundRect.left - targetRect.left + state.offset[0],\n        right: boundRect.right - targetRect.right + state.offset[0],\n        top: boundRect.top - targetRect.top + state.offset[1],\n        bottom: boundRect.bottom - targetRect.bottom + state.offset[1]\n      };\n      state._bounds = coordinatesConfigResolver.bounds(_bounds);\n    }\n  }\n  cancel() {\n    const state = this.state;\n    if (state.canceled) return;\n    state.canceled = true;\n    state._active = false;\n    setTimeout(() => {\n      this.compute();\n      this.emit();\n    }, 0);\n  }\n  setActive() {\n    this.state._active = this.state._pointerActive || this.state._keyboardActive;\n  }\n  clean() {\n    this.pointerClean();\n    this.state._pointerActive = false;\n    this.state._keyboardActive = false;\n    super.clean();\n  }\n  pointerDown(event) {\n    const config = this.config;\n    const state = this.state;\n    if (event.buttons != null && (Array.isArray(config.pointerButtons) ? !config.pointerButtons.includes(event.buttons) : config.pointerButtons !== -1 && config.pointerButtons !== event.buttons)) return;\n    const ctrlIds = this.ctrl.setEventIds(event);\n    if (config.pointerCapture) {\n      event.target.setPointerCapture(event.pointerId);\n    }\n    if (ctrlIds && ctrlIds.size > 1 && state._pointerActive) return;\n    this.start(event);\n    this.setupPointer(event);\n    state._pointerId = pointerId(event);\n    state._pointerActive = true;\n    this.computeValues(pointerValues(event));\n    this.computeInitial();\n    if (config.preventScrollAxis && getPointerType(event) !== 'mouse') {\n      state._active = false;\n      this.setupScrollPrevention(event);\n    } else if (config.delay > 0) {\n      this.setupDelayTrigger(event);\n      if (config.triggerAllEvents) {\n        this.compute(event);\n        this.emit();\n      }\n    } else {\n      this.startPointerDrag(event);\n    }\n  }\n  startPointerDrag(event) {\n    const state = this.state;\n    state._active = true;\n    state._preventScroll = true;\n    state._delayed = false;\n    this.compute(event);\n    this.emit();\n  }\n  pointerMove(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state._pointerActive) return;\n    const id = pointerId(event);\n    if (state._pointerId !== undefined && id !== state._pointerId) return;\n    const _values = pointerValues(event);\n    if (document.pointerLockElement === event.target) {\n      state._delta = [event.movementX, event.movementY];\n    } else {\n      state._delta = V.sub(_values, state._values);\n      this.computeValues(_values);\n    }\n    V.addTo(state._movement, state._delta);\n    this.compute(event);\n    if (state._delayed && state.intentional) {\n      this.timeoutStore.remove('dragDelay');\n      state.active = false;\n      this.startPointerDrag(event);\n      return;\n    }\n    if (config.preventScrollAxis && !state._preventScroll) {\n      if (state.axis) {\n        if (state.axis === config.preventScrollAxis || config.preventScrollAxis === 'xy') {\n          state._active = false;\n          this.clean();\n          return;\n        } else {\n          this.timeoutStore.remove('startPointerDrag');\n          this.startPointerDrag(event);\n          return;\n        }\n      } else {\n        return;\n      }\n    }\n    this.emit();\n  }\n  pointerUp(event) {\n    this.ctrl.setEventIds(event);\n    try {\n      if (this.config.pointerCapture && event.target.hasPointerCapture(event.pointerId)) {\n        ;\n        event.target.releasePointerCapture(event.pointerId);\n      }\n    } catch (_unused) {\n      if (process.env.NODE_ENV === 'development') {\n        console.warn(`[@use-gesture]: If you see this message, it's likely that you're using an outdated version of \\`@react-three/fiber\\`. \\n\\nPlease upgrade to the latest version.`);\n      }\n    }\n    const state = this.state;\n    const config = this.config;\n    if (!state._active || !state._pointerActive) return;\n    const id = pointerId(event);\n    if (state._pointerId !== undefined && id !== state._pointerId) return;\n    this.state._pointerActive = false;\n    this.setActive();\n    this.compute(event);\n    const [dx, dy] = state._distance;\n    state.tap = dx <= config.tapsThreshold && dy <= config.tapsThreshold;\n    if (state.tap && config.filterTaps) {\n      state._force = true;\n    } else {\n      const [_dx, _dy] = state._delta;\n      const [_mx, _my] = state._movement;\n      const [svx, svy] = config.swipe.velocity;\n      const [sx, sy] = config.swipe.distance;\n      const sdt = config.swipe.duration;\n      if (state.elapsedTime < sdt) {\n        const _vx = Math.abs(_dx / state.timeDelta);\n        const _vy = Math.abs(_dy / state.timeDelta);\n        if (_vx > svx && Math.abs(_mx) > sx) state.swipe[0] = Math.sign(_dx);\n        if (_vy > svy && Math.abs(_my) > sy) state.swipe[1] = Math.sign(_dy);\n      }\n    }\n    this.emit();\n  }\n  pointerClick(event) {\n    if (!this.state.tap && event.detail > 0) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n  setupPointer(event) {\n    const config = this.config;\n    const device = config.device;\n    if (process.env.NODE_ENV === 'development') {\n      try {\n        if (device === 'pointer' && config.preventScrollDelay === undefined) {\n          const currentTarget = 'uv' in event ? event.sourceEvent.currentTarget : event.currentTarget;\n          const style = window.getComputedStyle(currentTarget);\n          if (style.touchAction === 'auto') {\n            console.warn(`[@use-gesture]: The drag target has its \\`touch-action\\` style property set to \\`auto\\`. It is recommended to add \\`touch-action: 'none'\\` so that the drag gesture behaves correctly on touch-enabled devices. For more information read this: https://use-gesture.netlify.app/docs/extras/#touch-action.\\n\\nThis message will only show in development mode. It won't appear in production. If this is intended, you can ignore it.`, currentTarget);\n          }\n        }\n      } catch (_unused2) {}\n    }\n    if (config.pointerLock) {\n      event.currentTarget.requestPointerLock();\n    }\n    if (!config.pointerCapture) {\n      this.eventStore.add(this.sharedConfig.window, device, 'change', this.pointerMove.bind(this));\n      this.eventStore.add(this.sharedConfig.window, device, 'end', this.pointerUp.bind(this));\n      this.eventStore.add(this.sharedConfig.window, device, 'cancel', this.pointerUp.bind(this));\n    }\n  }\n  pointerClean() {\n    if (this.config.pointerLock && document.pointerLockElement === this.state.currentTarget) {\n      document.exitPointerLock();\n    }\n  }\n  preventScroll(event) {\n    if (this.state._preventScroll && event.cancelable) {\n      event.preventDefault();\n    }\n  }\n  setupScrollPrevention(event) {\n    this.state._preventScroll = false;\n    persistEvent(event);\n    const remove = this.eventStore.add(this.sharedConfig.window, 'touch', 'change', this.preventScroll.bind(this), {\n      passive: false\n    });\n    this.eventStore.add(this.sharedConfig.window, 'touch', 'end', remove);\n    this.eventStore.add(this.sharedConfig.window, 'touch', 'cancel', remove);\n    this.timeoutStore.add('startPointerDrag', this.startPointerDrag.bind(this), this.config.preventScrollDelay, event);\n  }\n  setupDelayTrigger(event) {\n    this.state._delayed = true;\n    this.timeoutStore.add('dragDelay', () => {\n      this.state._step = [0, 0];\n      this.startPointerDrag(event);\n    }, this.config.delay);\n  }\n  keyDown(event) {\n    const deltaFn = KEYS_DELTA_MAP[event.key];\n    if (deltaFn) {\n      const state = this.state;\n      const factor = event.shiftKey ? 10 : event.altKey ? 0.1 : 1;\n      this.start(event);\n      state._delta = deltaFn(this.config.keyboardDisplacement, factor);\n      state._keyboardActive = true;\n      V.addTo(state._movement, state._delta);\n      this.compute(event);\n      this.emit();\n    }\n  }\n  keyUp(event) {\n    if (!(event.key in KEYS_DELTA_MAP)) return;\n    this.state._keyboardActive = false;\n    this.setActive();\n    this.compute(event);\n    this.emit();\n  }\n  bind(bindFunction) {\n    const device = this.config.device;\n    bindFunction(device, 'start', this.pointerDown.bind(this));\n    if (this.config.pointerCapture) {\n      bindFunction(device, 'change', this.pointerMove.bind(this));\n      bindFunction(device, 'end', this.pointerUp.bind(this));\n      bindFunction(device, 'cancel', this.pointerUp.bind(this));\n      bindFunction('lostPointerCapture', '', this.pointerUp.bind(this));\n    }\n    if (this.config.keys) {\n      bindFunction('key', 'down', this.keyDown.bind(this));\n      bindFunction('key', 'up', this.keyUp.bind(this));\n    }\n    if (this.config.filterTaps) {\n      bindFunction('click', '', this.pointerClick.bind(this), {\n        capture: true,\n        passive: false\n      });\n    }\n  }\n}\nfunction persistEvent(event) {\n  'persist' in event && typeof event.persist === 'function' && event.persist();\n}\n\nconst isBrowser = typeof window !== 'undefined' && window.document && window.document.createElement;\nfunction supportsTouchEvents() {\n  return isBrowser && 'ontouchstart' in window;\n}\nfunction isTouchScreen() {\n  return supportsTouchEvents() || isBrowser && window.navigator.maxTouchPoints > 1;\n}\nfunction supportsPointerEvents() {\n  return isBrowser && 'onpointerdown' in window;\n}\nfunction supportsPointerLock() {\n  return isBrowser && 'exitPointerLock' in window.document;\n}\nfunction supportsGestureEvents() {\n  try {\n    return 'constructor' in GestureEvent;\n  } catch (e) {\n    return false;\n  }\n}\nconst SUPPORT = {\n  isBrowser,\n  gesture: supportsGestureEvents(),\n  touch: supportsTouchEvents(),\n  touchscreen: isTouchScreen(),\n  pointer: supportsPointerEvents(),\n  pointerLock: supportsPointerLock()\n};\n\nconst DEFAULT_PREVENT_SCROLL_DELAY = 250;\nconst DEFAULT_DRAG_DELAY = 180;\nconst DEFAULT_SWIPE_VELOCITY = 0.5;\nconst DEFAULT_SWIPE_DISTANCE = 50;\nconst DEFAULT_SWIPE_DURATION = 250;\nconst DEFAULT_KEYBOARD_DISPLACEMENT = 10;\nconst DEFAULT_DRAG_AXIS_THRESHOLD = {\n  mouse: 0,\n  touch: 0,\n  pen: 8\n};\nconst dragConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  device(_v, _k, {\n    pointer: {\n      touch = false,\n      lock = false,\n      mouse = false\n    } = {}\n  }) {\n    this.pointerLock = lock && SUPPORT.pointerLock;\n    if (SUPPORT.touch && touch) return 'touch';\n    if (this.pointerLock) return 'mouse';\n    if (SUPPORT.pointer && !mouse) return 'pointer';\n    if (SUPPORT.touch) return 'touch';\n    return 'mouse';\n  },\n  preventScrollAxis(value, _k, {\n    preventScroll\n  }) {\n    this.preventScrollDelay = typeof preventScroll === 'number' ? preventScroll : preventScroll || preventScroll === undefined && value ? DEFAULT_PREVENT_SCROLL_DELAY : undefined;\n    if (!SUPPORT.touchscreen || preventScroll === false) return undefined;\n    return value ? value : preventScroll !== undefined ? 'y' : undefined;\n  },\n  pointerCapture(_v, _k, {\n    pointer: {\n      capture = true,\n      buttons = 1,\n      keys = true\n    } = {}\n  }) {\n    this.pointerButtons = buttons;\n    this.keys = keys;\n    return !this.pointerLock && this.device === 'pointer' && capture;\n  },\n  threshold(value, _k, {\n    filterTaps = false,\n    tapsThreshold = 3,\n    axis = undefined\n  }) {\n    const threshold = V.toVector(value, filterTaps ? tapsThreshold : axis ? 1 : 0);\n    this.filterTaps = filterTaps;\n    this.tapsThreshold = tapsThreshold;\n    return threshold;\n  },\n  swipe({\n    velocity = DEFAULT_SWIPE_VELOCITY,\n    distance = DEFAULT_SWIPE_DISTANCE,\n    duration = DEFAULT_SWIPE_DURATION\n  } = {}) {\n    return {\n      velocity: this.transform(V.toVector(velocity)),\n      distance: this.transform(V.toVector(distance)),\n      duration\n    };\n  },\n  delay(value = 0) {\n    switch (value) {\n      case true:\n        return DEFAULT_DRAG_DELAY;\n      case false:\n        return 0;\n      default:\n        return value;\n    }\n  },\n  axisThreshold(value) {\n    if (!value) return DEFAULT_DRAG_AXIS_THRESHOLD;\n    return _objectSpread2(_objectSpread2({}, DEFAULT_DRAG_AXIS_THRESHOLD), value);\n  },\n  keyboardDisplacement(value = DEFAULT_KEYBOARD_DISPLACEMENT) {\n    return value;\n  }\n});\nif (process.env.NODE_ENV === 'development') {\n  Object.assign(dragConfigResolver, {\n    useTouch(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`useTouch\\` option has been renamed to \\`pointer.touch\\`. Use it as in \\`{ pointer: { touch: true } }\\`.`);\n      }\n      return NaN;\n    },\n    experimental_preventWindowScrollY(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`experimental_preventWindowScrollY\\` option has been renamed to \\`preventScroll\\`.`);\n      }\n      return NaN;\n    },\n    swipeVelocity(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`swipeVelocity\\` option has been renamed to \\`swipe.velocity\\`. Use it as in \\`{ swipe: { velocity: 0.5 } }\\`.`);\n      }\n      return NaN;\n    },\n    swipeDistance(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`swipeDistance\\` option has been renamed to \\`swipe.distance\\`. Use it as in \\`{ swipe: { distance: 50 } }\\`.`);\n      }\n      return NaN;\n    },\n    swipeDuration(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`swipeDuration\\` option has been renamed to \\`swipe.duration\\`. Use it as in \\`{ swipe: { duration: 250 } }\\`.`);\n      }\n      return NaN;\n    }\n  });\n}\n\nfunction clampStateInternalMovementToBounds(state) {\n  const [ox, oy] = state.overflow;\n  const [dx, dy] = state._delta;\n  const [dirx, diry] = state._direction;\n  if (ox < 0 && dx > 0 && dirx < 0 || ox > 0 && dx < 0 && dirx > 0) {\n    state._movement[0] = state._movementBound[0];\n  }\n  if (oy < 0 && dy > 0 && diry < 0 || oy > 0 && dy < 0 && diry > 0) {\n    state._movement[1] = state._movementBound[1];\n  }\n}\n\nconst SCALE_ANGLE_RATIO_INTENT_DEG = 30;\nconst PINCH_WHEEL_RATIO = 100;\nclass PinchEngine extends Engine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'pinching');\n    _defineProperty(this, \"aliasKey\", 'da');\n  }\n  init() {\n    this.state.offset = [1, 0];\n    this.state.lastOffset = [1, 0];\n    this.state._pointerEvents = new Map();\n  }\n  reset() {\n    super.reset();\n    const state = this.state;\n    state._touchIds = [];\n    state.canceled = false;\n    state.cancel = this.cancel.bind(this);\n    state.turns = 0;\n  }\n  computeOffset() {\n    const {\n      type,\n      movement,\n      lastOffset\n    } = this.state;\n    if (type === 'wheel') {\n      this.state.offset = V.add(movement, lastOffset);\n    } else {\n      this.state.offset = [(1 + movement[0]) * lastOffset[0], movement[1] + lastOffset[1]];\n    }\n  }\n  computeMovement() {\n    const {\n      offset,\n      lastOffset\n    } = this.state;\n    this.state.movement = [offset[0] / lastOffset[0], offset[1] - lastOffset[1]];\n  }\n  axisIntent() {\n    const state = this.state;\n    const [_m0, _m1] = state._movement;\n    if (!state.axis) {\n      const axisMovementDifference = Math.abs(_m0) * SCALE_ANGLE_RATIO_INTENT_DEG - Math.abs(_m1);\n      if (axisMovementDifference < 0) state.axis = 'angle';else if (axisMovementDifference > 0) state.axis = 'scale';\n    }\n  }\n  restrictToAxis(v) {\n    if (this.config.lockDirection) {\n      if (this.state.axis === 'scale') v[1] = 0;else if (this.state.axis === 'angle') v[0] = 0;\n    }\n  }\n  cancel() {\n    const state = this.state;\n    if (state.canceled) return;\n    setTimeout(() => {\n      state.canceled = true;\n      state._active = false;\n      this.compute();\n      this.emit();\n    }, 0);\n  }\n  touchStart(event) {\n    this.ctrl.setEventIds(event);\n    const state = this.state;\n    const ctrlTouchIds = this.ctrl.touchIds;\n    if (state._active) {\n      if (state._touchIds.every(id => ctrlTouchIds.has(id))) return;\n    }\n    if (ctrlTouchIds.size < 2) return;\n    this.start(event);\n    state._touchIds = Array.from(ctrlTouchIds).slice(0, 2);\n    const payload = touchDistanceAngle(event, state._touchIds);\n    if (!payload) return;\n    this.pinchStart(event, payload);\n  }\n  pointerStart(event) {\n    if (event.buttons != null && event.buttons % 2 !== 1) return;\n    this.ctrl.setEventIds(event);\n    event.target.setPointerCapture(event.pointerId);\n    const state = this.state;\n    const _pointerEvents = state._pointerEvents;\n    const ctrlPointerIds = this.ctrl.pointerIds;\n    if (state._active) {\n      if (Array.from(_pointerEvents.keys()).every(id => ctrlPointerIds.has(id))) return;\n    }\n    if (_pointerEvents.size < 2) {\n      _pointerEvents.set(event.pointerId, event);\n    }\n    if (state._pointerEvents.size < 2) return;\n    this.start(event);\n    const payload = distanceAngle(...Array.from(_pointerEvents.values()));\n    if (!payload) return;\n    this.pinchStart(event, payload);\n  }\n  pinchStart(event, payload) {\n    const state = this.state;\n    state.origin = payload.origin;\n    this.computeValues([payload.distance, payload.angle]);\n    this.computeInitial();\n    this.compute(event);\n    this.emit();\n  }\n  touchMove(event) {\n    if (!this.state._active) return;\n    const payload = touchDistanceAngle(event, this.state._touchIds);\n    if (!payload) return;\n    this.pinchMove(event, payload);\n  }\n  pointerMove(event) {\n    const _pointerEvents = this.state._pointerEvents;\n    if (_pointerEvents.has(event.pointerId)) {\n      _pointerEvents.set(event.pointerId, event);\n    }\n    if (!this.state._active) return;\n    const payload = distanceAngle(...Array.from(_pointerEvents.values()));\n    if (!payload) return;\n    this.pinchMove(event, payload);\n  }\n  pinchMove(event, payload) {\n    const state = this.state;\n    const prev_a = state._values[1];\n    const delta_a = payload.angle - prev_a;\n    let delta_turns = 0;\n    if (Math.abs(delta_a) > 270) delta_turns += Math.sign(delta_a);\n    this.computeValues([payload.distance, payload.angle - 360 * delta_turns]);\n    state.origin = payload.origin;\n    state.turns = delta_turns;\n    state._movement = [state._values[0] / state._initial[0] - 1, state._values[1] - state._initial[1]];\n    this.compute(event);\n    this.emit();\n  }\n  touchEnd(event) {\n    this.ctrl.setEventIds(event);\n    if (!this.state._active) return;\n    if (this.state._touchIds.some(id => !this.ctrl.touchIds.has(id))) {\n      this.state._active = false;\n      this.compute(event);\n      this.emit();\n    }\n  }\n  pointerEnd(event) {\n    const state = this.state;\n    this.ctrl.setEventIds(event);\n    try {\n      event.target.releasePointerCapture(event.pointerId);\n    } catch (_unused) {}\n    if (state._pointerEvents.has(event.pointerId)) {\n      state._pointerEvents.delete(event.pointerId);\n    }\n    if (!state._active) return;\n    if (state._pointerEvents.size < 2) {\n      state._active = false;\n      this.compute(event);\n      this.emit();\n    }\n  }\n  gestureStart(event) {\n    if (event.cancelable) event.preventDefault();\n    const state = this.state;\n    if (state._active) return;\n    this.start(event);\n    this.computeValues([event.scale, event.rotation]);\n    state.origin = [event.clientX, event.clientY];\n    this.compute(event);\n    this.emit();\n  }\n  gestureMove(event) {\n    if (event.cancelable) event.preventDefault();\n    if (!this.state._active) return;\n    const state = this.state;\n    this.computeValues([event.scale, event.rotation]);\n    state.origin = [event.clientX, event.clientY];\n    const _previousMovement = state._movement;\n    state._movement = [event.scale - 1, event.rotation];\n    state._delta = V.sub(state._movement, _previousMovement);\n    this.compute(event);\n    this.emit();\n  }\n  gestureEnd(event) {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute(event);\n    this.emit();\n  }\n  wheel(event) {\n    const modifierKey = this.config.modifierKey;\n    if (modifierKey && (Array.isArray(modifierKey) ? !modifierKey.find(k => event[k]) : !event[modifierKey])) return;\n    if (!this.state._active) this.wheelStart(event);else this.wheelChange(event);\n    this.timeoutStore.add('wheelEnd', this.wheelEnd.bind(this));\n  }\n  wheelStart(event) {\n    this.start(event);\n    this.wheelChange(event);\n  }\n  wheelChange(event) {\n    const isR3f = ('uv' in event);\n    if (!isR3f) {\n      if (event.cancelable) {\n        event.preventDefault();\n      }\n      if (process.env.NODE_ENV === 'development' && !event.defaultPrevented) {\n        console.warn(`[@use-gesture]: To properly support zoom on trackpads, try using the \\`target\\` option.\\n\\nThis message will only appear in development mode.`);\n      }\n    }\n    const state = this.state;\n    state._delta = [-wheelValues(event)[1] / PINCH_WHEEL_RATIO * state.offset[0], 0];\n    V.addTo(state._movement, state._delta);\n    clampStateInternalMovementToBounds(state);\n    this.state.origin = [event.clientX, event.clientY];\n    this.compute(event);\n    this.emit();\n  }\n  wheelEnd() {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n  bind(bindFunction) {\n    const device = this.config.device;\n    if (!!device) {\n      bindFunction(device, 'start', this[device + 'Start'].bind(this));\n      bindFunction(device, 'change', this[device + 'Move'].bind(this));\n      bindFunction(device, 'end', this[device + 'End'].bind(this));\n      bindFunction(device, 'cancel', this[device + 'End'].bind(this));\n      bindFunction('lostPointerCapture', '', this[device + 'End'].bind(this));\n    }\n    if (this.config.pinchOnWheel) {\n      bindFunction('wheel', '', this.wheel.bind(this), {\n        passive: false\n      });\n    }\n  }\n}\n\nconst pinchConfigResolver = _objectSpread2(_objectSpread2({}, commonConfigResolver), {}, {\n  device(_v, _k, {\n    shared,\n    pointer: {\n      touch = false\n    } = {}\n  }) {\n    const sharedConfig = shared;\n    if (sharedConfig.target && !SUPPORT.touch && SUPPORT.gesture) return 'gesture';\n    if (SUPPORT.touch && touch) return 'touch';\n    if (SUPPORT.touchscreen) {\n      if (SUPPORT.pointer) return 'pointer';\n      if (SUPPORT.touch) return 'touch';\n    }\n  },\n  bounds(_v, _k, {\n    scaleBounds = {},\n    angleBounds = {}\n  }) {\n    const _scaleBounds = state => {\n      const D = assignDefault(call(scaleBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [D.min, D.max];\n    };\n    const _angleBounds = state => {\n      const A = assignDefault(call(angleBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [A.min, A.max];\n    };\n    if (typeof scaleBounds !== 'function' && typeof angleBounds !== 'function') return [_scaleBounds(), _angleBounds()];\n    return state => [_scaleBounds(state), _angleBounds(state)];\n  },\n  threshold(value, _k, config) {\n    this.lockDirection = config.axis === 'lock';\n    const threshold = V.toVector(value, this.lockDirection ? [0.1, 3] : 0);\n    return threshold;\n  },\n  modifierKey(value) {\n    if (value === undefined) return 'ctrlKey';\n    return value;\n  },\n  pinchOnWheel(value = true) {\n    return value;\n  }\n});\n\nclass MoveEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'moving');\n  }\n  move(event) {\n    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n    if (!this.state._active) this.moveStart(event);else this.moveChange(event);\n    this.timeoutStore.add('moveEnd', this.moveEnd.bind(this));\n  }\n  moveStart(event) {\n    this.start(event);\n    this.computeValues(pointerValues(event));\n    this.compute(event);\n    this.computeInitial();\n    this.emit();\n  }\n  moveChange(event) {\n    if (!this.state._active) return;\n    const values = pointerValues(event);\n    const state = this.state;\n    state._delta = V.sub(values, state._values);\n    V.addTo(state._movement, state._delta);\n    this.computeValues(values);\n    this.compute(event);\n    this.emit();\n  }\n  moveEnd(event) {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute(event);\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction('pointer', 'change', this.move.bind(this));\n    bindFunction('pointer', 'leave', this.moveEnd.bind(this));\n  }\n}\n\nconst moveConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  mouseOnly: (value = true) => value\n});\n\nclass ScrollEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'scrolling');\n  }\n  scroll(event) {\n    if (!this.state._active) this.start(event);\n    this.scrollChange(event);\n    this.timeoutStore.add('scrollEnd', this.scrollEnd.bind(this));\n  }\n  scrollChange(event) {\n    if (event.cancelable) event.preventDefault();\n    const state = this.state;\n    const values = scrollValues(event);\n    state._delta = V.sub(values, state._values);\n    V.addTo(state._movement, state._delta);\n    this.computeValues(values);\n    this.compute(event);\n    this.emit();\n  }\n  scrollEnd() {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction('scroll', '', this.scroll.bind(this));\n  }\n}\n\nconst scrollConfigResolver = coordinatesConfigResolver;\n\nclass WheelEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'wheeling');\n  }\n  wheel(event) {\n    if (!this.state._active) this.start(event);\n    this.wheelChange(event);\n    this.timeoutStore.add('wheelEnd', this.wheelEnd.bind(this));\n  }\n  wheelChange(event) {\n    const state = this.state;\n    state._delta = wheelValues(event);\n    V.addTo(state._movement, state._delta);\n    clampStateInternalMovementToBounds(state);\n    this.compute(event);\n    this.emit();\n  }\n  wheelEnd() {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction('wheel', '', this.wheel.bind(this));\n  }\n}\n\nconst wheelConfigResolver = coordinatesConfigResolver;\n\nclass HoverEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'hovering');\n  }\n  enter(event) {\n    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n    this.start(event);\n    this.computeValues(pointerValues(event));\n    this.compute(event);\n    this.emit();\n  }\n  leave(event) {\n    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n    const state = this.state;\n    if (!state._active) return;\n    state._active = false;\n    const values = pointerValues(event);\n    state._movement = state._delta = V.sub(values, state._values);\n    this.computeValues(values);\n    this.compute(event);\n    state.delta = state.movement;\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction('pointer', 'enter', this.enter.bind(this));\n    bindFunction('pointer', 'leave', this.leave.bind(this));\n  }\n}\n\nconst hoverConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  mouseOnly: (value = true) => value\n});\n\nconst EngineMap = new Map();\nconst ConfigResolverMap = new Map();\nfunction registerAction(action) {\n  EngineMap.set(action.key, action.engine);\n  ConfigResolverMap.set(action.key, action.resolver);\n}\nconst dragAction = {\n  key: 'drag',\n  engine: DragEngine,\n  resolver: dragConfigResolver\n};\nconst hoverAction = {\n  key: 'hover',\n  engine: HoverEngine,\n  resolver: hoverConfigResolver\n};\nconst moveAction = {\n  key: 'move',\n  engine: MoveEngine,\n  resolver: moveConfigResolver\n};\nconst pinchAction = {\n  key: 'pinch',\n  engine: PinchEngine,\n  resolver: pinchConfigResolver\n};\nconst scrollAction = {\n  key: 'scroll',\n  engine: ScrollEngine,\n  resolver: scrollConfigResolver\n};\nconst wheelAction = {\n  key: 'wheel',\n  engine: WheelEngine,\n  resolver: wheelConfigResolver\n};\n\nexport { ConfigResolverMap as C, EngineMap as E, SUPPORT as S, _objectSpread2 as _, _defineProperty as a, touchIds as b, chain as c, toHandlerProp as d, dragAction as e, pinchAction as f, hoverAction as h, isTouch as i, moveAction as m, parseProp as p, registerAction as r, scrollAction as s, toDomEventType as t, wheelAction as w };\n","import { S as SUPPORT, C as ConfigResolverMap, _ as _objectSpread2, a as _defineProperty, t as toDomEventType, i as isTouch, b as touchIds, E as EngineMap, c as chain, p as parseProp, d as toHandlerProp } from './actions-fe213e88.esm.js';\nimport './maths-0ab39ae9.esm.js';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\n\nconst sharedConfigResolver = {\n  target(value) {\n    if (value) {\n      return () => 'current' in value ? value.current : value;\n    }\n    return undefined;\n  },\n  enabled(value = true) {\n    return value;\n  },\n  window(value = SUPPORT.isBrowser ? window : undefined) {\n    return value;\n  },\n  eventOptions({\n    passive = true,\n    capture = false\n  } = {}) {\n    return {\n      passive,\n      capture\n    };\n  },\n  transform(value) {\n    return value;\n  }\n};\n\nconst _excluded = [\"target\", \"eventOptions\", \"window\", \"enabled\", \"transform\"];\nfunction resolveWith(config = {}, resolvers) {\n  const result = {};\n  for (const [key, resolver] of Object.entries(resolvers)) {\n    switch (typeof resolver) {\n      case 'function':\n        if (process.env.NODE_ENV === 'development') {\n          const r = resolver.call(result, config[key], key, config);\n          if (!Number.isNaN(r)) result[key] = r;\n        } else {\n          result[key] = resolver.call(result, config[key], key, config);\n        }\n        break;\n      case 'object':\n        result[key] = resolveWith(config[key], resolver);\n        break;\n      case 'boolean':\n        if (resolver) result[key] = config[key];\n        break;\n    }\n  }\n  return result;\n}\nfunction parse(newConfig, gestureKey, _config = {}) {\n  const _ref = newConfig,\n    {\n      target,\n      eventOptions,\n      window,\n      enabled,\n      transform\n    } = _ref,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  _config.shared = resolveWith({\n    target,\n    eventOptions,\n    window,\n    enabled,\n    transform\n  }, sharedConfigResolver);\n  if (gestureKey) {\n    const resolver = ConfigResolverMap.get(gestureKey);\n    _config[gestureKey] = resolveWith(_objectSpread2({\n      shared: _config.shared\n    }, rest), resolver);\n  } else {\n    for (const key in rest) {\n      const resolver = ConfigResolverMap.get(key);\n      if (resolver) {\n        _config[key] = resolveWith(_objectSpread2({\n          shared: _config.shared\n        }, rest[key]), resolver);\n      } else if (process.env.NODE_ENV === 'development') {\n        if (!['drag', 'pinch', 'scroll', 'wheel', 'move', 'hover'].includes(key)) {\n          if (key === 'domTarget') {\n            throw Error(`[@use-gesture]: \\`domTarget\\` option has been renamed to \\`target\\`.`);\n          }\n          console.warn(`[@use-gesture]: Unknown config key \\`${key}\\` was used. Please read the documentation for further information.`);\n        }\n      }\n    }\n  }\n  return _config;\n}\n\nclass EventStore {\n  constructor(ctrl, gestureKey) {\n    _defineProperty(this, \"_listeners\", new Set());\n    this._ctrl = ctrl;\n    this._gestureKey = gestureKey;\n  }\n  add(element, device, action, handler, options) {\n    const listeners = this._listeners;\n    const type = toDomEventType(device, action);\n    const _options = this._gestureKey ? this._ctrl.config[this._gestureKey].eventOptions : {};\n    const eventOptions = _objectSpread2(_objectSpread2({}, _options), options);\n    element.addEventListener(type, handler, eventOptions);\n    const remove = () => {\n      element.removeEventListener(type, handler, eventOptions);\n      listeners.delete(remove);\n    };\n    listeners.add(remove);\n    return remove;\n  }\n  clean() {\n    this._listeners.forEach(remove => remove());\n    this._listeners.clear();\n  }\n}\n\nclass TimeoutStore {\n  constructor() {\n    _defineProperty(this, \"_timeouts\", new Map());\n  }\n  add(key, callback, ms = 140, ...args) {\n    this.remove(key);\n    this._timeouts.set(key, window.setTimeout(callback, ms, ...args));\n  }\n  remove(key) {\n    const timeout = this._timeouts.get(key);\n    if (timeout) window.clearTimeout(timeout);\n  }\n  clean() {\n    this._timeouts.forEach(timeout => void window.clearTimeout(timeout));\n    this._timeouts.clear();\n  }\n}\n\nclass Controller {\n  constructor(handlers) {\n    _defineProperty(this, \"gestures\", new Set());\n    _defineProperty(this, \"_targetEventStore\", new EventStore(this));\n    _defineProperty(this, \"gestureEventStores\", {});\n    _defineProperty(this, \"gestureTimeoutStores\", {});\n    _defineProperty(this, \"handlers\", {});\n    _defineProperty(this, \"config\", {});\n    _defineProperty(this, \"pointerIds\", new Set());\n    _defineProperty(this, \"touchIds\", new Set());\n    _defineProperty(this, \"state\", {\n      shared: {\n        shiftKey: false,\n        metaKey: false,\n        ctrlKey: false,\n        altKey: false\n      }\n    });\n    resolveGestures(this, handlers);\n  }\n  setEventIds(event) {\n    if (isTouch(event)) {\n      this.touchIds = new Set(touchIds(event));\n      return this.touchIds;\n    } else if ('pointerId' in event) {\n      if (event.type === 'pointerup' || event.type === 'pointercancel') this.pointerIds.delete(event.pointerId);else if (event.type === 'pointerdown') this.pointerIds.add(event.pointerId);\n      return this.pointerIds;\n    }\n  }\n  applyHandlers(handlers, nativeHandlers) {\n    this.handlers = handlers;\n    this.nativeHandlers = nativeHandlers;\n  }\n  applyConfig(config, gestureKey) {\n    this.config = parse(config, gestureKey, this.config);\n  }\n  clean() {\n    this._targetEventStore.clean();\n    for (const key of this.gestures) {\n      this.gestureEventStores[key].clean();\n      this.gestureTimeoutStores[key].clean();\n    }\n  }\n  effect() {\n    if (this.config.shared.target) this.bind();\n    return () => this._targetEventStore.clean();\n  }\n  bind(...args) {\n    const sharedConfig = this.config.shared;\n    const props = {};\n    let target;\n    if (sharedConfig.target) {\n      target = sharedConfig.target();\n      if (!target) return;\n    }\n    if (sharedConfig.enabled) {\n      for (const gestureKey of this.gestures) {\n        const gestureConfig = this.config[gestureKey];\n        const bindFunction = bindToProps(props, gestureConfig.eventOptions, !!target);\n        if (gestureConfig.enabled) {\n          const Engine = EngineMap.get(gestureKey);\n          new Engine(this, args, gestureKey).bind(bindFunction);\n        }\n      }\n      const nativeBindFunction = bindToProps(props, sharedConfig.eventOptions, !!target);\n      for (const eventKey in this.nativeHandlers) {\n        nativeBindFunction(eventKey, '', event => this.nativeHandlers[eventKey](_objectSpread2(_objectSpread2({}, this.state.shared), {}, {\n          event,\n          args\n        })), undefined, true);\n      }\n    }\n    for (const handlerProp in props) {\n      props[handlerProp] = chain(...props[handlerProp]);\n    }\n    if (!target) return props;\n    for (const handlerProp in props) {\n      const {\n        device,\n        capture,\n        passive\n      } = parseProp(handlerProp);\n      this._targetEventStore.add(target, device, '', props[handlerProp], {\n        capture,\n        passive\n      });\n    }\n  }\n}\nfunction setupGesture(ctrl, gestureKey) {\n  ctrl.gestures.add(gestureKey);\n  ctrl.gestureEventStores[gestureKey] = new EventStore(ctrl, gestureKey);\n  ctrl.gestureTimeoutStores[gestureKey] = new TimeoutStore();\n}\nfunction resolveGestures(ctrl, internalHandlers) {\n  if (internalHandlers.drag) setupGesture(ctrl, 'drag');\n  if (internalHandlers.wheel) setupGesture(ctrl, 'wheel');\n  if (internalHandlers.scroll) setupGesture(ctrl, 'scroll');\n  if (internalHandlers.move) setupGesture(ctrl, 'move');\n  if (internalHandlers.pinch) setupGesture(ctrl, 'pinch');\n  if (internalHandlers.hover) setupGesture(ctrl, 'hover');\n}\nconst bindToProps = (props, eventOptions, withPassiveOption) => (device, action, handler, options = {}, isNative = false) => {\n  var _options$capture, _options$passive;\n  const capture = (_options$capture = options.capture) !== null && _options$capture !== void 0 ? _options$capture : eventOptions.capture;\n  const passive = (_options$passive = options.passive) !== null && _options$passive !== void 0 ? _options$passive : eventOptions.passive;\n  let handlerProp = isNative ? device : toHandlerProp(device, action, capture);\n  if (withPassiveOption && passive) handlerProp += 'Passive';\n  props[handlerProp] = props[handlerProp] || [];\n  props[handlerProp].push(handler);\n};\n\nconst RE_NOT_NATIVE = /^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;\nfunction sortHandlers(_handlers) {\n  const native = {};\n  const handlers = {};\n  const actions = new Set();\n  for (let key in _handlers) {\n    if (RE_NOT_NATIVE.test(key)) {\n      actions.add(RegExp.lastMatch);\n      handlers[key] = _handlers[key];\n    } else {\n      native[key] = _handlers[key];\n    }\n  }\n  return [handlers, native, actions];\n}\nfunction registerGesture(actions, handlers, handlerKey, key, internalHandlers, config) {\n  if (!actions.has(handlerKey)) return;\n  if (!EngineMap.has(key)) {\n    if (process.env.NODE_ENV === 'development') {\n      console.warn(`[@use-gesture]: You've created a custom handler that that uses the \\`${key}\\` gesture but isn't properly configured.\\n\\nPlease add \\`${key}Action\\` when creating your handler.`);\n    }\n    return;\n  }\n  const startKey = handlerKey + 'Start';\n  const endKey = handlerKey + 'End';\n  const fn = state => {\n    let memo = undefined;\n    if (state.first && startKey in handlers) handlers[startKey](state);\n    if (handlerKey in handlers) memo = handlers[handlerKey](state);\n    if (state.last && endKey in handlers) handlers[endKey](state);\n    return memo;\n  };\n  internalHandlers[key] = fn;\n  config[key] = config[key] || {};\n}\nfunction parseMergedHandlers(mergedHandlers, mergedConfig) {\n  const [handlers, nativeHandlers, actions] = sortHandlers(mergedHandlers);\n  const internalHandlers = {};\n  registerGesture(actions, handlers, 'onDrag', 'drag', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onWheel', 'wheel', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onScroll', 'scroll', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onPinch', 'pinch', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onMove', 'move', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onHover', 'hover', internalHandlers, mergedConfig);\n  return {\n    handlers: internalHandlers,\n    config: mergedConfig,\n    nativeHandlers\n  };\n}\n\nexport { Controller, parseMergedHandlers };\n","import { registerAction, dragAction, pinchAction, wheelAction, scrollAction, moveAction, hoverAction } from '@use-gesture/core/actions';\nexport * from '@use-gesture/core/actions';\nimport React from 'react';\nimport { Controller, parseMergedHandlers } from '@use-gesture/core';\nexport * from '@use-gesture/core/utils';\nexport * from '@use-gesture/core/types';\n\nfunction useRecognizers(handlers, config = {}, gestureKey, nativeHandlers) {\n  const ctrl = React.useMemo(() => new Controller(handlers), []);\n  ctrl.applyHandlers(handlers, nativeHandlers);\n  ctrl.applyConfig(config, gestureKey);\n  React.useEffect(ctrl.effect.bind(ctrl));\n  React.useEffect(() => {\n    return ctrl.clean.bind(ctrl);\n  }, []);\n  if (config.target === undefined) {\n    return ctrl.bind.bind(ctrl);\n  }\n  return undefined;\n}\n\nfunction useDrag(handler, config) {\n  registerAction(dragAction);\n  return useRecognizers({\n    drag: handler\n  }, config || {}, 'drag');\n}\n\nfunction usePinch(handler, config) {\n  registerAction(pinchAction);\n  return useRecognizers({\n    pinch: handler\n  }, config || {}, 'pinch');\n}\n\nfunction useWheel(handler, config) {\n  registerAction(wheelAction);\n  return useRecognizers({\n    wheel: handler\n  }, config || {}, 'wheel');\n}\n\nfunction useScroll(handler, config) {\n  registerAction(scrollAction);\n  return useRecognizers({\n    scroll: handler\n  }, config || {}, 'scroll');\n}\n\nfunction useMove(handler, config) {\n  registerAction(moveAction);\n  return useRecognizers({\n    move: handler\n  }, config || {}, 'move');\n}\n\nfunction useHover(handler, config) {\n  registerAction(hoverAction);\n  return useRecognizers({\n    hover: handler\n  }, config || {}, 'hover');\n}\n\nfunction createUseGesture(actions) {\n  actions.forEach(registerAction);\n  return function useGesture(_handlers, _config) {\n    const {\n      handlers,\n      nativeHandlers,\n      config\n    } = parseMergedHandlers(_handlers, _config || {});\n    return useRecognizers(handlers, config, undefined, nativeHandlers);\n  };\n}\n\nfunction useGesture(handlers, config) {\n  const hook = createUseGesture([dragAction, pinchAction, scrollAction, wheelAction, moveAction, hoverAction]);\n  return hook(handlers, config || {});\n}\n\nexport { createUseGesture, useDrag, useGesture, useHover, useMove, usePinch, useScroll, useWheel };\n","import { create } from 'zustand'\nimport { persist } from 'zustand/middleware'\n\n// Shared types across settings\nexport type FitScreenMode = 'none' | 'fitX' | 'fitXY'\nexport type LayoutPreset = 'compact' | 'maximizeFontSize' | 'custom'\nexport const isSmallScreen = () => window.matchMedia('(max-width: 768px)').matches;\n\n// Core settings interfaces\nexport interface LayoutSettings {\n  fitScreenMode: FitScreenMode\n  fontSize: number\n  repeatParts: boolean\n  repeatPartsChords: boolean\n  twoColumns: boolean\n  compactInFullScreen: boolean\n}\n\nexport interface ChordSettings {\n  showChords: boolean\n  czechChordNames: boolean\n  inlineChords: boolean\n}\n\n// Constants and preset configurations\nexport const LAYOUT_PRESETS = {\n  compact: {\n    fitScreenMode: 'fitXY' as FitScreenMode,\n    repeatParts: false,\n    repeatPartsChords: false,\n    twoColumns: false,\n    fontSize: 12,\n  },\n  maximizeFontSize: {\n    fitScreenMode: 'fitX' as FitScreenMode,\n    repeatParts: true,\n    repeatPartsChords: true,\n    twoColumns: false,\n    fontSize: 12,\n  },\n} as const\n\nconst defaultLayoutSettings: LayoutSettings = isSmallScreen()\n  ? {\n    fitScreenMode: 'fitX',\n    fontSize: 12,\n    repeatParts: true,\n    repeatPartsChords: true,\n    twoColumns: false,\n    compactInFullScreen: true,\n  }\n  :\n  {\n    fitScreenMode: 'fitXY',\n    fontSize: 12,\n    repeatParts: false,\n    repeatPartsChords: false,\n    twoColumns: true,\n    compactInFullScreen: false,\n  };\n\n// Store interface\ninterface SettingsState {\n  layout: LayoutSettings\n  customLayoutPreset: LayoutSettings\n  layoutPreset: LayoutPreset\n  chords: ChordSettings\n  actions: {\n    setLayoutSettings: (settings: Partial<LayoutSettings>) => void\n    setCustomLayoutPreset: (settings: Partial<LayoutSettings>) => void\n    setLayoutPreset: (preset: LayoutPreset) => void\n    setChordSettings: (settings: Partial<ChordSettings>) => void\n    applyPreset: (preset: LayoutPreset) => void\n  }\n}\n\n// Utility functions\nconst getFontSizeInRange = (size: number) => {\n  const MIN_FONT_SIZE = 4\n  const MAX_FONT_SIZE = 160\n  return Math.min(Math.max(MIN_FONT_SIZE, size), MAX_FONT_SIZE)\n}\n\nexport const useViewSettingsStore = create<SettingsState>()(\n  persist(\n    (set, get) => ({\n      layout: defaultLayoutSettings,\n      customLayoutPreset: {\n        ...LAYOUT_PRESETS.compact,\n        compactInFullScreen: isSmallScreen() ? true : false,\n      },\n      layoutPreset: isSmallScreen() ? 'maximizeFontSize' : 'compact',\n      chords: {\n        showChords: true,\n        czechChordNames: true,\n        inlineChords: true,\n      },\n      actions: {\n        setLayoutSettings: (settings) =>\n          set((state) => ({\n            layout: {\n              ...state.layout,\n              ...settings,\n              fontSize: settings.fontSize\n                ? getFontSizeInRange(settings.fontSize)\n                : state.layout.fontSize,\n            },\n          })),\n        setCustomLayoutPreset: (settings) =>\n          set((state) => ({\n            customLayoutPreset: {\n              ...state.customLayoutPreset,\n              ...settings,\n            },\n          })),\n        setLayoutPreset: (preset) =>\n          set(() => ({\n            layoutPreset: preset,\n          })),\n        setChordSettings: (settings) =>\n          set((state) => ({\n            chords: {\n              ...state.chords,\n              ...settings,\n            },\n          })),\n        applyPreset: (preset) => {\n          const { actions, customLayoutPreset } = get()\n          if (preset === 'custom') {\n            actions.setLayoutSettings(customLayoutPreset)\n          } else {\n            actions.setLayoutSettings({\n              ...LAYOUT_PRESETS[preset],\n              compactInFullScreen: customLayoutPreset.compactInFullScreen\n            })\n          }\n          actions.setLayoutPreset(preset)\n        },\n      },\n    }),\n    {\n      name: 'songview-settings-store',\n\n      partialize: (state) => ({\n        // Only persist the data state, not the actions\n        layout: state.layout,\n        customLayoutPreset: state.customLayoutPreset,\n        layoutPreset: state.layoutPreset,\n        chords: state.chords,\n      }),\n    }\n  )\n)","import { Guitar, Piano, ChevronsLeftRightEllipsis } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { DropdownIconStart, DropdownMenuCheckboxItem, DropdownMenuLabel, DropdownMenuSeparator } from '@/components/ui/dropdown-menu';\nimport { useViewSettingsStore } from '../hooks/viewSettingsStore';\n\nexport interface ChordSettings {\n  showChords: boolean;\n  czechChordNames: boolean;\n  inlineChords: boolean;\n}\n\nconst chordSettingsNames = [\"showChords\", \"czechChordNames\", \"inlineChords\"];\n\nconst chordSettingsValues = {\n  showChords: { icon: <Guitar />, label: \"Show chords\" },\n  czechChordNames: { icon: <Piano />, label: \"Czech notes (A-B-H-C)\" },\n  inlineChords: { icon: <ChevronsLeftRightEllipsis />, label: \"Chords inline\" }\n};\n\nexport const ChordSettingsDropdownMenu: React.FC = () => {\n  const { chords: chordSettings, actions } = useViewSettingsStore();\n\n  const toggleSetting = (key: keyof ChordSettings) => {\n    actions.setChordSettings({ [key]: !chordSettings[key] });\n  };\n\n  return (\n    <>\n      <DropdownMenuLabel>Chord settings</DropdownMenuLabel>\n      <DropdownMenuSeparator />\n      {chordSettingsNames.map(k => (\n        <DropdownMenuCheckboxItem\n          key={k}\n          checked={chordSettings[k as keyof ChordSettings]}\n          disabled={k !== \"showChords\" && !chordSettings.showChords}\n          onCheckedChange={() => toggleSetting(k as keyof ChordSettings)}\n          onSelect={e => e.preventDefault()}\n        >\n          <DropdownIconStart icon={chordSettingsValues[k as keyof typeof chordSettingsValues].icon} />\n          {chordSettingsValues[k as keyof typeof chordSettingsValues].label}\n        </DropdownMenuCheckboxItem>\n      ))}\n    </>\n  );\n};\n\nexport const ChordSettingsButtons: React.FC = () => {\n  const { chords: chordSettings, actions } = useViewSettingsStore();\n\n  const toggleSetting = (key: keyof ChordSettings) => {\n    actions.setChordSettings({ [key]: !chordSettings[key] });\n  };\n\n  return (\n    <>\n      <Button\n        size=\"icon\"\n        variant=\"circular\"\n        isActive={chordSettings.showChords}\n        className=\"hidden sm:flex\"\n        onClick={() => toggleSetting(\"showChords\")}\n      >\n        {chordSettingsValues.showChords.icon}\n      </Button>\n      <Button\n        size=\"icon\"\n        variant=\"circular\"\n        className=\"max-[620px]:hidden\"\n        isActive={chordSettings.inlineChords}\n        disabled={!chordSettings.showChords}\n        onClick={() => toggleSetting(\"inlineChords\")}\n      >\n        {chordSettingsValues.inlineChords.icon}\n      </Button>\n    </>\n  );\n};","export const LoopNoteIcon = () => {\n   // return <LoopNoteIconSVG />\n   return (<svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 531.12134 487.28763\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n   >\n      <g\n         transform=\"matrix(0.1,0,0,-0.1,9.4062996,499.50655)\"\n         fill=\"currentColor\"\n         stroke=\"none\"\n         id=\"g2\">\n         <path\n            d=\"M 2165,4890 C 1859,4864 1586,4788 1303,4649 688,4347 236,3787 70,3120 19,2918 6,2797 6,2560 6,2404 10,2314 23,2230 71,1922 175,1628 323,1381 564,979 896,671 1303,471 c 299,-147 559,-217 900,-242 128,-10 151,-9 171,4 29,19 37,48 22,79 -10,21 -20,24 -111,30 -388,28 -638,91 -925,234 -450,224 -799,574 -1016,1018 -296,609 -296,1323 0,1932 323,662 946,1115 1691,1229 151,24 470,24 620,1 814,-127 1465,-641 1764,-1393 70,-177 124,-401 137,-563 l 6,-85 -169,168 c -93,92 -177,167 -187,167 -22,0 -66,-44 -66,-67 0,-9 104,-122 232,-250 181,-182 238,-233 258,-233 20,0 76,51 258,233 223,224 245,251 224,283 -15,22 -50,34 -74,25 -13,-5 -95,-82 -183,-170 -107,-108 -162,-156 -167,-148 -4,7 -8,28 -8,47 0,61 -29,231 -60,357 -227,909 -998,1606 -1930,1743 -152,22 -390,31 -525,20 z\"\n            style={{ display: \"inline\", stroke: \"currentColor\", strokeWidth: 300.126, strokeOpacity: 1 }}\n            id=\"path1\" />\n         <path\n            d=\"m 2411,3694 c -453,-156 -830,-289 -838,-295 -20,-17 -16,-50 32,-283 l 45,-217 v -518 -518 l -64,-7 c -223,-23 -387,-171 -388,-351 0,-90 24,-155 84,-220 91,-100 202,-146 348,-146 180,0 326,81 402,223 l 23,43 3,776 2,776 73,27 c 149,53 860,296 869,296 4,0 8,-231 8,-514 v -513 l -68,-6 c -126,-10 -245,-72 -314,-163 -175,-230 4,-531 327,-551 198,-13 370,79 443,235 l 27,57 3,815 3,815 -51,239 c -27,132 -50,243 -50,247 0,18 -34,39 -63,38 -18,0 -403,-129 -856,-285 z\"\n            id=\"path21\" />\n         <path\n            d=\"m 2411,3694 c -453,-156 -830,-289 -838,-295 -20,-17 -16,-50 32,-283 l 45,-217 v -518 -518 l -64,-7 c -223,-23 -387,-171 -388,-351 0,-90 24,-155 84,-220 91,-100 202,-146 348,-146 180,0 326,81 402,223 l 23,43 3,776 2,776 73,27 c 149,53 860,296 869,296 4,0 8,-231 8,-514 v -513 l -68,-6 c -126,-10 -245,-72 -314,-163 -175,-230 4,-531 327,-551 198,-13 370,79 443,235 l 27,57 3,815 3,815 -51,239 c -27,132 -50,243 -50,247 0,18 -34,39 -63,38 -18,0 -403,-129 -856,-285 z m 819,139 c 0,-5 18,-93 40,-197 l 40,-189 v -649 c 0,-356 -3,-648 -6,-648 -3,0 -19,9 -34,20 -16,12 -54,32 -85,45 l -55,25 v 577 c 0,522 -2,578 -17,595 -9,10 -24,18 -34,18 -10,0 -262,-84 -561,-186 -362,-124 -549,-193 -560,-206 -17,-19 -18,-64 -18,-649 0,-346 -2,-629 -5,-629 -2,0 -25,13 -51,30 -26,16 -62,34 -81,41 l -33,11 v 535 536 l -42,199 c -22,109 -39,201 -35,204 3,3 254,91 559,196 304,104 641,220 748,258 192,67 230,77 230,63 z m -85,-1737 c 104,-47 154,-115 155,-209 1,-203 -305,-310 -512,-178 -144,92 -143,274 2,366 68,43 119,55 210,52 67,-2 98,-9 145,-31 z M 1777,1705 c 173,-79 215,-245 91,-361 -125,-119 -360,-117 -483,3 -136,132 -57,330 152,383 65,16 176,5 240,-25 z\"\n            id=\"path2\" />\n      </g>\n   </svg>\n   )\n}","\nimport React from 'react'\nimport { Button } from '@/components/ui/button'\nimport { MoveDiagonal, MoveHorizontal, Columns2, Fullscreen, AArrowDown, AArrowUp, PencilRuler, Repeat, Maximize } from 'lucide-react'\nimport FancySwitch from '@/components/ui/fancy-switch'\nimport { LayoutPreset, LayoutSettings, useViewSettingsStore } from '../hooks/viewSettingsStore'\nimport { FullScreenHandle } from 'react-full-screen'\nimport { DropdownIconStart, DropdownMenuCheckboxItem, DropdownMenuItem, DropdownMenuLabel, DropdownMenuSeparator } from '@/components/ui/dropdown-menu'\nimport { LoopNoteIcon } from '@/components/ui/loop-note-icon'\n\nconst layouSettingsBoolsKeys = [\"twoColumns\", \"repeatParts\", \"repeatPartsChords\", \"compactInFullScreen\"] as const satisfies ReadonlyArray<keyof LayoutSettings>;\nconst layoutSettingsValues = {\n  \"twoColumns\": { icon: <Columns2 />, label: \"View as two columns\" },\n  \"repeatParts\": { icon: <Repeat />, label: \"Show repeated parts\" },\n  \"repeatPartsChords\": { icon: <LoopNoteIcon />, label: \"Show chords in repeated parts\" },\n  \"compactInFullScreen\": { icon: <Maximize />, label: \"Auto fullscreen in compact view\" }\n}\n\n\nexport const LayoutSettingsToolbar: React.FC<{\n  fullScreenHandle: FullScreenHandle\n}> = ({ fullScreenHandle }) => {\n  const { layout, layoutPreset, actions } = useViewSettingsStore();\n  const presetOptions = [\n    {\n      icon: <MoveDiagonal />,\n      label: 'Compact',\n      value: 'compact' as LayoutPreset,\n    },\n    {\n      icon: <PencilRuler />,\n      label: 'Custom',\n      value: 'custom' as LayoutPreset,\n    },\n    {\n      icon: <MoveHorizontal />,\n      label: 'Scroll',\n      value: 'maximizeFontSize' as LayoutPreset,\n    },\n  ]\n\n  return (\n    <>\n      <Button\n        size=\"icon\"\n        variant=\"circular\"\n        className=\"max-sm:hidden\"\n        isActive={layout.twoColumns}\n        onClick={() => actions.setLayoutSettings({ twoColumns: !layout.twoColumns })}\n      >\n        <Columns2 />\n      </Button>\n\n      <Button\n        size=\"icon\"\n        variant=\"circular\"\n        className=\"max-[620px]:hidden\"\n        onClick={fullScreenHandle.enter}\n      >\n        <Fullscreen />\n      </Button>\n\n      <div className='flex flex-grow h-full align-center justify-center max-xsm:hidden  max-md:hide-fancy-switch-label '\n        id=\"preset-selector-large\">\n        <FancySwitch\n          options={presetOptions}\n          setSelectedOption={(preset: LayoutPreset) => {\n            actions.applyPreset(preset);\n            if (preset === 'compact' && layout.compactInFullScreen) {\n              fullScreenHandle.enter();\n            }\n          }}\n          selectedOption={layoutPreset}\n          roundedClass={\"rounded-full\"}\n        />\n      </div>\n      <div className='flex flex-grow h-full align-center justify-center hide-fancy-switch-label xsm:hidden'\n        id=\"preset-selector-small\">\n        <FancySwitch\n          options={presetOptions.filter(o => o.value !== \"custom\")}\n          setSelectedOption={(preset: LayoutPreset) => {\n            actions.applyPreset(preset);\n            if (preset === 'compact' && layout.compactInFullScreen) {\n              fullScreenHandle.enter();\n            }\n          }}\n          selectedOption={layoutPreset}\n          hiddenHighlightOnOther={true}\n          roundedClass={\"rounded-full\"}\n        />\n      </div>\n    </>\n  )\n}\n\nexport const LayoutSettingsDropdownSection: React.FC<{\n  fullScreenHandle: FullScreenHandle\n}> = ({ fullScreenHandle }) => {\n  const { layout: layoutSettings, actions } = useViewSettingsStore();\n  function setBothSettings(modifiedSettings: Partial<LayoutSettings>) {\n    actions.setLayoutSettings({ ...modifiedSettings });\n    actions.setCustomLayoutPreset({ ...modifiedSettings });\n    actions.setLayoutPreset('custom'); // Switch to custom preset when modifying settings\n  }\n  const FONT_SIZE_STEP = 1.2;\n  return (<>\n    <DropdownMenuLabel>Font size</DropdownMenuLabel>\n    <DropdownMenuSeparator />\n    <DropdownMenuCheckboxItem\n      key=\"fitXY\"\n      checked={layoutSettings.fitScreenMode === \"fitXY\"}\n      onSelect={e => e.preventDefault()}\n      onCheckedChange={() => setBothSettings({ fitScreenMode: \"fitXY\" })}\n    >\n      <DropdownIconStart icon={<MoveDiagonal />} />\n      Fit screen\n    </DropdownMenuCheckboxItem>\n    <DropdownMenuCheckboxItem\n      key=\"fitX\"\n      checked={layoutSettings.fitScreenMode === \"fitX\"}\n      onSelect={e => e.preventDefault()}\n      onCheckedChange={() => setBothSettings({ fitScreenMode: \"fitX\" })}\n    >\n      <DropdownIconStart icon={<MoveHorizontal />} />\n      Fit screen width\n    </DropdownMenuCheckboxItem>\n    <DropdownMenuItem\n      onClick={() => setBothSettings({\n        fitScreenMode: \"none\",\n        fontSize: layoutSettings.fontSize * FONT_SIZE_STEP\n      })}\n      onSelect={e => e.preventDefault()}\n    >\n      <DropdownIconStart icon={<AArrowUp />} />\n      Increase font size\n    </DropdownMenuItem>\n    <DropdownMenuItem\n      onClick={() => setBothSettings({\n        fitScreenMode: \"none\",\n        fontSize: layoutSettings.fontSize / FONT_SIZE_STEP\n      })}\n      onSelect={e => e.preventDefault()}\n    >\n      <DropdownIconStart icon={<AArrowDown />} />\n      Decrease font size\n    </DropdownMenuItem>\n\n    <DropdownMenuLabel>Contents</DropdownMenuLabel>\n    <DropdownMenuSeparator />\n    <DropdownMenuItem onClick={() => { fullScreenHandle.enter() }}>\n      <DropdownIconStart icon={<Fullscreen />} />\n      Enter fullscreen\n    </DropdownMenuItem >\n    {\n      layouSettingsBoolsKeys.map(k => (\n        <DropdownMenuCheckboxItem\n          key={k}\n          checked={layoutSettings[k]}\n          onCheckedChange={() => setBothSettings({ [k]: !layoutSettings[k] })}\n          onSelect={e => e.preventDefault()}\n        >\n          <DropdownIconStart icon={layoutSettingsValues[k].icon} />\n          {layoutSettingsValues[k].label}\n        </DropdownMenuCheckboxItem>\n      ))\n    }\n  </>\n  );\n}","const TransposeIcon = () => {\n   return (\n      <svg\n         stroke=\"currentColor\"\n         strokeWidth=\"2\"\n         version=\"1.1\"\n         strokeLinecap=\"round\"\n         strokeLinejoin=\"round\"\n         width=\"24\"\n         height=\"24\"\n         viewBox=\"0 0 24 24\">\n         <g\n            id=\"g5\"\n            transform=\"translate(0.80523595)\">\n            <ellipse\n               cx=\"14.395982\"\n               cy=\"17.280313\"\n               id=\"circle1\"\n               rx=\"3.5461161\"\n               ry=\"3.5202065\"\n\n               transform=\"translate(2.2005142)\" />\n            <path\n               d=\"M 17.923865,17.280314 V 3.1994884\"\n               id=\"path1\"\n               transform=\"translate(2.2005142)\" />\n         </g>\n         <g\n            id=\"g4\"\n            strokeWidth=\"1.5\"\n\n            transform=\"matrix(1.0564799,0,0,1.224205,2.4388328,-2.4634601)\">\n            <g\n               transform=\"translate(-2)\">\n               <path\n                  d=\"M 6.084224,4.4653453 V 18.546171\"\n                  id=\"path1-1\"\n                  strokeWidth=\"2\"\n                  transform=\"matrix(0.94653954,0,0,0.81685665,-1.3744042,2.4160182)\" />\n               <path\n\n                  d=\"M 4.3845544,17.565582 8.1707128,13.950747\"\n                  id=\"path8\" />\n               <path\n\n                  d=\"M 0.59839599,9.6784002 4.3845544,6.0635652\"\n                  id=\"path8-7\" />\n               <path\n\n                  d=\"M 8.1707128,9.6784002 4.3845543,6.0635652\"\n                  id=\"path8-7-9\" />\n               <path\n\n                  d=\"M 4.3845544,17.565581 0.59839539,13.950746\"\n                  id=\"path8-7-9-5\" />\n            </g>\n         </g>\n      </svg >\n   )\n}\n\nexport default TransposeIcon;","// import { ButtonGroup, Button, Dropdown, DropdownTrigger, DropdownMenu, DropdownItem } from \"@nextui-org/react\";\nimport { Button } from \"@/components/ui/button\";\nimport { DropdownMenu, DropdownMenuCheckboxItem, DropdownMenuContent, DropdownMenuTrigger } from \"@/components/ui/dropdown-menu\";\nimport FancySwitch from \"@/components/ui/fancy-switch\";\nimport ToolbarBase from \"@/components/ui/toolbar-base\";\nimport { useEffect, useMemo, useRef, useState } from \"react\";\nimport { Note } from \"@/types/types\";\nimport { Key } from \"@/types/musicTypes\";\nimport TransposeIcon from \"./transpose_icon\"\n\nconst RENDER_KEYS = ['C', 'C#', 'D', 'Es', 'E', 'F', 'F#', 'G', 'As', 'A', 'B', 'H'];\n\n\ninterface TransposeSettingsProps {\n  originalKey: Key | undefined;\n  transposeSteps: number\n  setTransposeSteps: (value: number) => void\n}\n\nconst TransposeSettings: React.FC<TransposeSettingsProps> = ({ originalKey, transposeSteps, setTransposeSteps }) => {\n  const originalKeyIndex = originalKey?.note\n    ? new Note('C').semitonesBetween(originalKey?.note)\n    : 0;\n\n  const transposeValues = useMemo(\n    () => [...Array(12).keys()].map((v) => v - originalKeyIndex),\n    [originalKeyIndex]\n  );\n\n  return (\n    <div className=\"flex items-center h-full\">\n      <div className=\"hidden xl:block h-full\">\n        <TransposeButtons\n          values={transposeValues}\n          selected={transposeSteps}\n          onChange={setTransposeSteps}\n        />\n      </div>\n\n      <div className=\"xl:hidden h-full\">\n        <TransposeDropdown\n          values={transposeValues}\n          selected={transposeSteps}\n          onChange={setTransposeSteps}\n        />\n      </div>\n    </div>\n  );\n};\n\nfunction useComponentVisible(initialIsVisible: boolean) {\n  const [isComponentVisible, setIsComponentVisible] = useState(initialIsVisible);\n  const ref = useRef<HTMLDivElement>(null);\n\n  const handleClickOutside = (event: MouseEvent) => {\n    if (ref.current && !ref.current.contains(event.target as Node)) {\n      setIsComponentVisible(false);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener('click', handleClickOutside, true);\n    return () => {\n      document.removeEventListener('click', handleClickOutside, true);\n    };\n  }, []);\n\n  return { ref, isComponentVisible, setIsComponentVisible };\n}\n\ninterface TransposeButtonsProps {\n  values: number[];\n  selected: number;\n  onChange: (steps: number) => void;\n  vertical?: boolean;\n}\n\nconst TransposeButtons: React.FC<TransposeButtonsProps> = ({ values, selected, onChange, vertical = false }) => {\n  return (\n    <FancySwitch\n      options={RENDER_KEYS.map((k, index) => ({ label: k, value: values[index] }))}\n      selectedOption={selected}\n      setSelectedOption={onChange}\n      vertical={vertical}\n      roundedClass={\"rounded-full\"}\n      full={true}\n    />\n  );\n};\n\ninterface TransposeDropdownProps {\n  values: number[];\n  selected: number;\n  onChange: (steps: number) => void;\n}\n\nconst TransposeDropdown: React.FC<TransposeDropdownProps> = ({ values, selected, onChange }) => {\n  const { ref, isComponentVisible, setIsComponentVisible } = useComponentVisible(false);\n\n  return (\n    <>\n      <div className='hidden xl:flex h-full'>\n        <TransposeButtons values={values} selected={selected} onChange={onChange} />\n      </div>\n      <div className='xl:hidden max-sm:hidden'>\n        <Button size=\"icon\" variant=\"circular\" onClick={() => setIsComponentVisible(!isComponentVisible)}>\n          <TransposeIcon />\n        </Button>\n        <div className={\"absolute top-14 w-fit left-0\"} ref={ref}>\n          {isComponentVisible &&\n            <ToolbarBase showToolbar={isComponentVisible} className=\"!px-0\">\n              <div className=\"w-full flex justify-center p-0 h-full\">\n                <TransposeButtons values={values} selected={selected} onChange={onChange} />\n              </div>\n            </ToolbarBase>}\n        </div>\n      </div>\n      <div className='sm:hidden xl:hidden flex'>\n        <DropdownMenu modal={false}>\n          <DropdownMenuTrigger asChild>\n            <Button size=\"icon\" variant=\"circular\" onClick={() => setIsComponentVisible(!isComponentVisible)}>\n              <TransposeIcon />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent className=\"w-12\">\n            {RENDER_KEYS.map((k, index) => (\n              <DropdownMenuCheckboxItem\n                checked={selected === values[index]}\n                key={k}\n                onSelect={e => e.preventDefault()}\n                onCheckedChange={() => onChange(values[index])}\n              >\n                {k}\n              </DropdownMenuCheckboxItem>\n            ))}\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </div>\n    </>\n  );\n};\n\nexport default TransposeSettings;","import { useEffect, useRef, useState, useCallback } from \"react\";\nimport { FitScreenMode } from \"./viewSettingsStore\";\n\nexport const useScrollHandler = (fitScreenMode: FitScreenMode) => {\n    const prevScrollPos = useRef(0);\n    const [atBottom, setAtBottom] = useState(false);\n    const [isToolbarVisible, setIsToolbarVisible] = useState(true);\n\n    const handleScroll = useCallback(() => {\n        const currentScrollPos = window.scrollY;\n\n        if (currentScrollPos < 0) {\n            setIsToolbarVisible(true);\n            return;\n        }\n\n        if (currentScrollPos > prevScrollPos.current) {\n            if (fitScreenMode !== \"fitXY\") {\n                setIsToolbarVisible(false);\n            }\n        } else if (currentScrollPos < prevScrollPos.current - 10) {\n            setIsToolbarVisible(true);\n            setAtBottom(false);\n        }\n\n        prevScrollPos.current = currentScrollPos;\n\n        const remainingContent = document.body.scrollHeight - window.scrollY - window.innerHeight;\n        // Firefox on Android sometimes scrolls so that the remaining content is like 0.6, so checking against 0 does not work...\n        setAtBottom(remainingContent <= 10);\n    }, [fitScreenMode]);\n\n    useEffect(() => {\n        window.addEventListener(\"scroll\", handleScroll);\n        return () => window.removeEventListener(\"scroll\", handleScroll);\n    }, [handleScroll]);\n\n    return { atBottom, isToolbarVisible };\n};\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nvar PwaInstallHandler = /** @class */ (function () {\n    function PwaInstallHandler() {\n        var _this = this;\n        this.event = null;\n        this.callbacks = [];\n        /**\n         * Triggers install prompt.\n         */\n        this.install = function () { return __awaiter(_this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.event) return [3 /*break*/, 2];\n                        this.event.prompt();\n                        return [4 /*yield*/, this.event.userChoice.then(function (_a) {\n                                var outcome = _a.outcome;\n                                _this.updateEvent(null);\n                                return outcome === 'accepted';\n                            })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                    case 2: throw new Error('Not allowed to prompt.');\n                }\n            });\n        }); };\n        if (typeof window === 'undefined') {\n            return;\n        }\n        window.addEventListener('beforeinstallprompt', function (event) {\n            event.preventDefault();\n            _this.updateEvent(event);\n        });\n        window.addEventListener('appinstalled', function () {\n            _this.updateEvent(null);\n        });\n    }\n    /**\n     * Returns internal `BeforeInstallPromptEvent`.\n     */\n    PwaInstallHandler.prototype.getEvent = function () {\n        return this.event;\n    };\n    /**\n     * Tells whether the app is ready to be installed.\n     */\n    PwaInstallHandler.prototype.canInstall = function () {\n        return this.event !== null;\n    };\n    PwaInstallHandler.prototype.updateEvent = function (event) {\n        var _this = this;\n        if (event === this.event) {\n            return;\n        }\n        this.event = event;\n        this.callbacks.forEach(function (callback) { return callback(_this.canInstall()); });\n    };\n    /**\n     * Adds listener with a callback which is called when installability state changes.\n     */\n    PwaInstallHandler.prototype.addListener = function (callback) {\n        callback(this.canInstall());\n        this.callbacks.push(callback);\n    };\n    /**\n     * Removes listener.\n     */\n    PwaInstallHandler.prototype.removeListener = function (callback) {\n        this.callbacks = this.callbacks.filter(function (otherCallback) { return callback !== otherCallback; });\n    };\n    return PwaInstallHandler;\n}());\nvar pwaInstallHandler = new PwaInstallHandler();\n\nexport { pwaInstallHandler };\n//# sourceMappingURL=index.es.js.map\n","import { pwaInstallHandler } from 'pwa-install-handler';\nimport { useCallback, useSyncExternalStore } from 'react';\n\nvar usePWAInstall = function () {\n    var subscribe = useCallback(function (onStoreChange) {\n        pwaInstallHandler.addListener(onStoreChange);\n        return function () {\n            pwaInstallHandler.removeListener(onStoreChange);\n        };\n    }, []);\n    var getSnapshot = useCallback(function () { return (pwaInstallHandler.canInstall() ? pwaInstallHandler.install : null); }, []);\n    var getServerSnapshot = useCallback(function () { return null; }, []);\n    return useSyncExternalStore(subscribe, getSnapshot, getServerSnapshot);\n};\n\nexport { usePWAInstall };\n//# sourceMappingURL=index.es.js.map\n","\nimport React, { useState } from 'react'\nimport { Button } from '@/components/ui/button'\nimport { DropdownMenu, DropdownMenuTrigger, DropdownMenuContent, DropdownMenuItem, DropdownIconStart, DropdownMenuLabel, DropdownMenuSeparator } from '@/components/ui/dropdown-menu'\nimport ToolbarBase from '@/components/ui/toolbar-base'\nimport { Settings2, Github, Undo2, Save } from 'lucide-react'\nimport { Link } from 'react-router-dom'\nimport RandomSong from '@/components/RandomSong'\nimport { DataForSongView, resolveAssetPath } from '@/components/song_loader'\nimport { ModeToggleInner } from '@/components/mode-toggle'\nimport { ChordSettingsButtons, ChordSettingsDropdownMenu } from './ChordSettingsMenu'\nimport { LayoutSettingsDropdownSection, LayoutSettingsToolbar } from './LayoutSettings'\nimport TransposeSettings from './TransposeSettings'\nimport { FullScreenHandle } from 'react-full-screen'\nimport { useScrollHandler } from '../hooks/useScrollHandler'\nimport { useViewSettingsStore } from '../hooks/viewSettingsStore'\nimport { Key } from '@/types/musicTypes'\nimport { usePWAInstall } from 'react-use-pwa-install'\n\nimport PWAPrompt from 'react-ios-pwa-prompt'\n\ninterface ToolbarProps {\n    navigate: (path: string) => void\n    songDB: DataForSongView['songDB']\n    songData: DataForSongView['songData']\n    fullScreenHandle: FullScreenHandle\n    originalKey: Key | undefined\n    transposeSteps: number\n    setTransposeSteps: (value: number) => void\n}\n\nexport const Toolbar: React.FC<ToolbarProps> = ({\n    navigate,\n    songDB,\n    songData,\n    fullScreenHandle,\n    originalKey,\n    transposeSteps,\n    setTransposeSteps\n}) => {\n    const { layout } = useViewSettingsStore();\n    const { isToolbarVisible } = useScrollHandler(layout.fitScreenMode);\n    const [showiOSPWAPrompt, setShowiOSPWAPrompt] = useState(false); //iOS\n    const install = usePWAInstall() // normal OS\n    console.log(install)\n\n    return (\n        <div className=\"absolute top-0 w-full\">\n            <ToolbarBase showToolbar={isToolbarVisible} scrollOffset={window.scrollY}>\n                <Button size=\"icon\" variant=\"circular\" onClick={() => navigate(\"/\")}>\n                    <Undo2 />\n                </Button>\n\n                <ChordSettingsButtons />\n                <LayoutSettingsToolbar fullScreenHandle={fullScreenHandle} />\n                <TransposeSettings\n                    originalKey={originalKey}\n                    transposeSteps={transposeSteps}\n                    setTransposeSteps={setTransposeSteps} />\n\n                <DropdownMenu modal={false}>\n                    <DropdownMenuTrigger asChild>\n                        <Button size=\"icon\" variant=\"circular\">\n                            <Settings2 size={32} />\n                        </Button>\n                    </DropdownMenuTrigger>\n                    <DropdownMenuContent className=\"w-56 max-h-[80vh] overflow-y-scroll\">\n                        {React.Children.toArray(<LayoutSettingsDropdownSection fullScreenHandle={fullScreenHandle} />)}\n                        {React.Children.toArray(<ChordSettingsDropdownMenu />)}\n                        <DropdownMenuLabel>Theme</DropdownMenuLabel>\n                        <DropdownMenuSeparator />\n                        {React.Children.toArray(<ModeToggleInner />)}\n                        <DropdownMenuLabel>Misc</DropdownMenuLabel>\n                        <DropdownMenuSeparator />\n                        <DropdownMenuItem>\n                            <DropdownIconStart icon={<Github />} />\n                            <Link\n                                to={\"https://github.com/tragram/domcikuv-zpevnik-v2/tree/main/songs/chordpro/\" + songData.chordproFile}>\n                                Edit on GitHub\n                            </Link>\n                        </DropdownMenuItem>\n                        <DropdownMenuItem\n                            onClick={() => {\n                                if (install) {\n                                    install();\n                                } else {\n                                    setShowiOSPWAPrompt(true);\n                                }\n                            }}>\n                            <DropdownIconStart icon={<Save />} />\n                            Install app\n                        </DropdownMenuItem>\n                    </DropdownMenuContent>\n                </DropdownMenu>\n                <RandomSong songs={songDB.songs} />\n            </ToolbarBase>\n            <div className='absolte h-screen w-screen'>\n                <PWAPrompt appIconPath={resolveAssetPath('assets/icons/maskable_icon.png')} copySubtitle=\"Domčíkův Zpěvník\" isShown={showiOSPWAPrompt} onClose={() => setShowiOSPWAPrompt(false)} />\n            </div>\n        </div>\n    )\n}","interface PdfViewProps {\n    pdfFilenames: string[];\n}\n\nconst PdfView: React.FC<PdfViewProps> = ({ pdfFilenames }) => {\n    // The last PDF is the smallest filesize (they are ordered as scan > compressed > gen (if it exists))\n    return <iframe src={pdfFilenames.slice(-1)[0]} className='w-screen h-screen' />;\n};\n\nexport default PdfView;","\nimport React, { forwardRef } from 'react'\nimport { cn } from '@/lib/utils'\nimport { useViewSettingsStore } from '../hooks/viewSettingsStore'\n\ninterface SongViewLayoutProps {\n    children: React.ReactNode\n}\n\nexport const SongViewLayout = forwardRef<HTMLDivElement, SongViewLayoutProps>(\n    ({ children }, ref) => {\n        const { layout } = useViewSettingsStore()\n\n        return (\n            <div\n                className={cn(\n                    'flex flex-col sm:pt-[80px] pt-[72px] relative',\n                    layout.fitScreenMode === 'fitXY' ? 'h-dvh' : 'min-h-dvh'\n                )}\n                ref={ref}\n                style={{\n                    touchAction: 'pan-y',// Prevent default pinch-to-zoom behavior\n                    userSelect: 'none',  // Prevent text selection\n                    // transition: 'font-size 0.2s ease',\n                }}\n            >\n                {children}\n            </div>\n        )\n    }\n)","import { updateTextSize } from \"auto-text-size\";\nimport {\n    useCallback,\n    useLayoutEffect,\n    useRef\n} from \"react\";\n\n/**\n * Make text fit container, prevent overflow and underflow.\n */\nexport function CustomAutoTextSize({\n    fitMode,\n    minFontSizePx,\n    maxFontSizePx,\n    fontSizePrecisionPx = 0.1,\n    fontSize,\n    setFontSize,\n    children,\n    ...rest\n}) {\n    const innerElRef = useRef(null);\n    const updateSize = useCallback(() => {\n        const innerEl = innerElRef.current as HTMLElement | null;\n        const containerEl = innerEl?.parentElement;\n        if (!innerEl || !containerEl || fitMode === \"none\") return;\n\n        const autoTextMode = fitMode === \"fitXY\" ? \"boxoneline\" : \"oneline\";\n        updateTextSize({\n            innerEl,\n            containerEl,\n            mode: autoTextMode,\n            minFontSizePx,\n            maxFontSizePx,\n            fontSizePrecisionPx,\n        });\n\n        // Update the fontSize state with the computed value\n        const computedFontSize = getComputedStyle(innerEl).fontSize;\n        setFontSize(parseFloat(computedFontSize));\n    }, [fitMode, fontSizePrecisionPx, maxFontSizePx, minFontSizePx, setFontSize]);\n\n\n    useLayoutEffect(() => {\n        updateSize();\n        // Set up the resize observer\n        const containerEl = (innerElRef.current as HTMLElement | null)?.parentElement;\n        if (!containerEl) return;\n\n        const resizeObserver = new ResizeObserver(() => {\n            updateSize();\n        });\n\n        resizeObserver.observe(containerEl);\n\n        return () => {\n            resizeObserver.disconnect();\n        };\n    }, [updateSize]);\n\n\n    return (\n        <div ref={innerElRef} style={{ fontSize: fontSize }}{...rest}>\n            {children}\n        </div>\n    );\n}","import { cn } from \"@/lib/utils\";\nimport { SongData } from \"@/types/types\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { LayoutSettings } from \"../hooks/viewSettingsStore\";\n\n\ninterface SongHeadingProps {\n    songData: SongData;\n    layoutSettings: LayoutSettings;\n    transposeSteps: number;\n}\n\nfunction formatChords(data: string) {\n    return data.split(/(\\d|[#b])/).map((part, index) => {\n        if (/\\d/.test(part)) {\n            return <sub key={index}>{part}</sub>; // Render numbers as superscripts\n        } else if (/[#b]/.test(part)) {\n            return <sup key={index}>{part}</sup>; // Render # or b as superscripts\n        }\n        return part; // Render other parts as plain text\n    });\n}\n\nconst SongHeading: React.FC<SongHeadingProps> = ({ songData, layoutSettings, transposeSteps }) => {\n    const containerRef = useRef<HTMLDivElement>(null);\n    const [wrappedIndices, setWrappedIndices] = useState<number[]>([]);\n\n    const detectWrapping = () => {\n        if (!containerRef.current) return;\n\n        const children = Array.from(containerRef.current.children);\n        const newWrappedIndices: number[] = [];\n\n        children.forEach((child, index) => {\n            const currentTop = (child as HTMLElement).offsetTop;\n            if (index > 0 && currentTop > (children[0] as HTMLElement).offsetTop) {\n                newWrappedIndices.push(index);\n            }\n        });\n        setWrappedIndices(newWrappedIndices);\n    };\n\n    useEffect(() => {\n        detectWrapping();\n\n        const handleResize = () => detectWrapping();\n        window.addEventListener(\"resize\", handleResize);\n\n        return () => {\n            window.removeEventListener(\"resize\", handleResize);\n        };\n    }, []);\n\n    useEffect(() => {\n        detectWrapping();\n    }, [layoutSettings]);\n\n    const isWrapped = wrappedIndices.length > 0;\n\n    return (\n        <div className={cn('flex w-full justify-between flex-wrap gap-4')} ref={containerRef}>\n            {layoutSettings.fitScreenMode === \"fitXY\" || layoutSettings.twoColumns ? (\n                <h1 className='self-center font-bold text-wrap mb-2'>\n                    {songData.artist}: {songData.title}\n                </h1>\n            ) : (\n                <div className={cn('flex flex-col flex-grow', isWrapped ? \"text-center\" : \"justify-start mb-4\")}>\n                    <h2 className='font-semibold text-white/80 text-wrap uppercase'>{songData.artist}</h2>\n                    <h2 className='font-bold text-wrap'>{songData.title}</h2>\n                </div>\n            )}\n            <div className={cn('flex flex-col flex-grow', isWrapped ? \"text-center mb-4\" : \"text-right\")}>\n                <h2 className='text-[0.75em] text-white/70 text-nowrap'>\n                    Capo: {(songData.capo - transposeSteps + 12) % 12}\n                </h2>\n                <h2 className='text-[0.75em] text-white/70 sub-sup-container'>\n                    {formatChords(songData.range.toString(transposeSteps))}\n                </h2>\n            </div>\n        </div>\n    );\n};\n\nexport default SongHeading;","import React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { SongData } from \"@/types/types\";\n\ninterface BackgroundImageProps {\n  songData: SongData;\n  id: string;\n  className?: string; \n}\n\nconst BackgroundImage: React.FC<BackgroundImageProps> = ({ songData, id, className }) => {\n  return (\n    <div\n      className={cn(\n        \"absolute top-0 left-0 min-h-lvh h-full w-full bg-image -z-20 blur-lg overflow-hidden transition-all duration-1000 ease-in-out\",\n        className\n      )}\n      id={id}\n      style={{ backgroundImage: `url(${songData.thumbnailURL()})` }}\n    >\n      <div className=\"w-full h-full bg-glass/60 dark:bg-glass/50\"></div>\n    </div>\n  );\n};\n\nexport default BackgroundImage;\n","\nimport { forwardRef, useCallback, useEffect, useMemo, useState } from 'react'\nimport { cn } from '@/lib/utils'\nimport { CustomAutoTextSize } from './CustomAutoTextSize'\nimport SongHeading from './SongHeading'\nimport { SongData } from '@/types/types'\nimport { useViewSettingsStore } from '../hooks/viewSettingsStore'\nimport BackgroundImage from './BackgroundImage'\nimport { renderSong } from '../songRendering'\n\ninterface SongContentProps {\n    songData: SongData\n    transposeSteps: number\n}\n\nexport const SongContent = forwardRef<HTMLDivElement, SongContentProps>(\n    ({ songData, transposeSteps }, ref) => {\n        const { layout, chords: chordSettings, actions } = useViewSettingsStore();\n\n        const parsedContent = renderSong(\n            songData,\n            transposeSteps,\n            layout.repeatParts,\n            chordSettings.czechChordNames\n        );\n\n        const setFontSize = useCallback((fontSize: number) => {\n            actions.setLayoutSettings({ fontSize })\n        }, [actions]);\n\n        const autoTextSizeProps = useMemo(() => ({\n            fitMode: layout.fitScreenMode,\n            minFontSizePx: 4,\n            maxFontSizePx: 160,\n            fontSize: layout.fontSize,\n            setFontSize,\n        }), [layout.fitScreenMode, layout.fontSize, setFontSize]);\n        return (\n            <>\n                <BackgroundImage songData={songData} className=\"hidden\" id=\"inner-background-image\" />\n                <div id=\"auto-text-size-wrapper\" className={cn('w-full z-10 lg:px-16 p-4 sm:p-8', layout.fitScreenMode == \"fitXY\" ? \"h-full \" : \"h-fit \", layout.fitScreenMode !== \"fitXY\" ? \"mb-10\" : \"\")}\n                >\n                    <CustomAutoTextSize {...autoTextSizeProps}>\n                        <SongHeading\n                            songData={songData}\n                            layoutSettings={layout}\n                            transposeSteps={transposeSteps}\n                        />\n\n                        <div\n                            ref={ref} id=\"song-content-wrapper\"\n                            className={cn(\n                                'flex flex-col max-w-screen',\n                                chordSettings.inlineChords ? 'chords-inline' : '',\n                                chordSettings.showChords ? '' : 'chords-hidden',\n                                `fit-screen-${layout.fitScreenMode}`,\n                                layout.repeatPartsChords ? '' : 'repeated-chords-hidden',\n                                layout.twoColumns ? 'song-content-columns' : ''\n                            )}\n                            dangerouslySetInnerHTML={{ __html: parsedContent }}\n                        />\n                    </CustomAutoTextSize>\n                </div>\n            </>\n        )\n    }\n)","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/*\r\n * Tell the browser that the event listener won't prevent a scroll.\r\n * Allowing the browser to continue scrolling without having to\r\n * to wait for the listener to return.\r\n */\nvar addPassiveEventListener = exports.addPassiveEventListener = function addPassiveEventListener(target, eventName, listener) {\n  var listenerName = listener.name;\n  if (!listenerName) {\n    listenerName = eventName;\n    console.warn('Listener must be a named function.');\n  }\n\n  if (!attachedListeners.has(eventName)) attachedListeners.set(eventName, new Set());\n  var listeners = attachedListeners.get(eventName);\n  if (listeners.has(listenerName)) return;\n\n  var supportsPassiveOption = function () {\n    var supportsPassiveOption = false;\n    try {\n      var opts = Object.defineProperty({}, 'passive', {\n        get: function get() {\n          supportsPassiveOption = true;\n        }\n      });\n      window.addEventListener('test', null, opts);\n    } catch (e) {}\n    return supportsPassiveOption;\n  }();\n  target.addEventListener(eventName, listener, supportsPassiveOption ? { passive: true } : false);\n  listeners.add(listenerName);\n};\n\nvar removePassiveEventListener = exports.removePassiveEventListener = function removePassiveEventListener(target, eventName, listener) {\n  target.removeEventListener(eventName, listener);\n  attachedListeners.get(eventName).delete(listener.name || eventName);\n};\n\nvar attachedListeners = new Map();","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _lodash = require('lodash.throttle');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _passiveEventListeners = require('./passive-event-listeners');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// The eventHandler will execute at a rate of 15fps by default\nvar eventThrottler = function eventThrottler(eventHandler) {\n  var throttleAmount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 66;\n  return (0, _lodash2.default)(eventHandler, throttleAmount);\n};\n\nvar scrollSpy = {\n\n  spyCallbacks: [],\n  spySetState: [],\n  scrollSpyContainers: [],\n\n  mount: function mount(scrollSpyContainer, throttle) {\n    if (scrollSpyContainer) {\n      var eventHandler = eventThrottler(function (event) {\n        scrollSpy.scrollHandler(scrollSpyContainer);\n      }, throttle);\n      scrollSpy.scrollSpyContainers.push(scrollSpyContainer);\n      (0, _passiveEventListeners.addPassiveEventListener)(scrollSpyContainer, 'scroll', eventHandler);\n    }\n  },\n  isMounted: function isMounted(scrollSpyContainer) {\n    return scrollSpy.scrollSpyContainers.indexOf(scrollSpyContainer) !== -1;\n  },\n  currentPositionX: function currentPositionX(scrollSpyContainer) {\n    if (scrollSpyContainer === document) {\n      var supportPageOffset = window.pageYOffset !== undefined;\n      var isCSS1Compat = (document.compatMode || \"\") === \"CSS1Compat\";\n      return supportPageOffset ? window.pageXOffset : isCSS1Compat ? document.documentElement.scrollLeft : document.body.scrollLeft;\n    } else {\n      return scrollSpyContainer.scrollLeft;\n    }\n  },\n  currentPositionY: function currentPositionY(scrollSpyContainer) {\n    if (scrollSpyContainer === document) {\n      var supportPageOffset = window.pageXOffset !== undefined;\n      var isCSS1Compat = (document.compatMode || \"\") === \"CSS1Compat\";\n      return supportPageOffset ? window.pageYOffset : isCSS1Compat ? document.documentElement.scrollTop : document.body.scrollTop;\n    } else {\n      return scrollSpyContainer.scrollTop;\n    }\n  },\n  scrollHandler: function scrollHandler(scrollSpyContainer) {\n    var callbacks = scrollSpy.scrollSpyContainers[scrollSpy.scrollSpyContainers.indexOf(scrollSpyContainer)].spyCallbacks || [];\n    callbacks.forEach(function (c) {\n      return c(scrollSpy.currentPositionX(scrollSpyContainer), scrollSpy.currentPositionY(scrollSpyContainer));\n    });\n  },\n  addStateHandler: function addStateHandler(handler) {\n    scrollSpy.spySetState.push(handler);\n  },\n  addSpyHandler: function addSpyHandler(handler, scrollSpyContainer) {\n    var container = scrollSpy.scrollSpyContainers[scrollSpy.scrollSpyContainers.indexOf(scrollSpyContainer)];\n\n    if (!container.spyCallbacks) {\n      container.spyCallbacks = [];\n    }\n\n    container.spyCallbacks.push(handler);\n\n    handler(scrollSpy.currentPositionX(scrollSpyContainer), scrollSpy.currentPositionY(scrollSpyContainer));\n  },\n  updateStates: function updateStates() {\n    scrollSpy.spySetState.forEach(function (s) {\n      return s();\n    });\n  },\n  unmount: function unmount(stateHandler, spyHandler) {\n    scrollSpy.scrollSpyContainers.forEach(function (c) {\n      return c.spyCallbacks && c.spyCallbacks.length && c.spyCallbacks.indexOf(spyHandler) > -1 && c.spyCallbacks.splice(c.spyCallbacks.indexOf(spyHandler), 1);\n    });\n\n    if (scrollSpy.spySetState && scrollSpy.spySetState.length && scrollSpy.spySetState.indexOf(stateHandler) > -1) {\n      scrollSpy.spySetState.splice(scrollSpy.spySetState.indexOf(stateHandler), 1);\n    }\n\n    document.removeEventListener('scroll', scrollSpy.scrollHandler);\n  },\n\n\n  update: function update() {\n    return scrollSpy.scrollSpyContainers.forEach(function (c) {\n      return scrollSpy.scrollHandler(c);\n    });\n  }\n};\n\nexports.default = scrollSpy;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar updateHash = function updateHash(hash, historyUpdate) {\n  var hashVal = hash.indexOf(\"#\") === 0 ? hash.substring(1) : hash;\n  var hashToUpdate = hashVal ? \"#\" + hashVal : \"\";\n  var curLoc = window && window.location;\n  var urlToPush = hashToUpdate ? curLoc.pathname + curLoc.search + hashToUpdate : curLoc.pathname + curLoc.search;\n  historyUpdate ? history.pushState(history.state, \"\", urlToPush) : history.replaceState(history.state, \"\", urlToPush);\n};\n\nvar getHash = function getHash() {\n  return window.location.hash.replace(/^#/, \"\");\n};\n\nvar filterElementInContainer = function filterElementInContainer(container) {\n  return function (element) {\n    return container.contains ? container != element && container.contains(element) : !!(container.compareDocumentPosition(element) & 16);\n  };\n};\n\nvar isPositioned = function isPositioned(element) {\n  return getComputedStyle(element).position !== \"static\";\n};\n\nvar getElementOffsetInfoUntil = function getElementOffsetInfoUntil(element, predicate) {\n  var offsetTop = element.offsetTop;\n  var currentOffsetParent = element.offsetParent;\n\n  while (currentOffsetParent && !predicate(currentOffsetParent)) {\n    offsetTop += currentOffsetParent.offsetTop;\n    currentOffsetParent = currentOffsetParent.offsetParent;\n  }\n\n  return { offsetTop: offsetTop, offsetParent: currentOffsetParent };\n};\n\nvar scrollOffset = function scrollOffset(c, t, horizontal) {\n  if (horizontal) {\n    return c === document ? t.getBoundingClientRect().left + (window.scrollX || window.pageXOffset) : getComputedStyle(c).position !== \"static\" ? t.offsetLeft : t.offsetLeft - c.offsetLeft;\n  } else {\n    if (c === document) {\n      return t.getBoundingClientRect().top + (window.scrollY || window.pageYOffset);\n    }\n\n    // The offsetParent of an element, according to MDN, is its nearest positioned\n    // (an element whose position is anything other than static) ancestor. The offsetTop\n    // of an element is taken with respect to its offsetParent which may not neccessarily\n    // be its parentElement except the parent itself is positioned.\n\n    // So if containerElement is positioned, then it must be an offsetParent somewhere\n    // If it happens that targetElement is a descendant of the containerElement, and there\n    // is not intermediate positioned element between the two of them, i.e.\n    // targetElement\"s offsetParent is the same as the containerElement, then the\n    // distance between the two will be the offsetTop of the targetElement.\n    // If, on the other hand, there are intermediate positioned elements between the\n    // two entities, the distance between the targetElement and the containerElement\n    // will be the accumulation of the offsetTop of the element and that of its\n    // subsequent offsetParent until the containerElement is reached, since it\n    // will also be an offsetParent at some point due to the fact that it is positioned.\n\n    // If the containerElement is not positioned, then it can\"t be an offsetParent,\n    // which means that the offsetTop of the targetElement would not be with respect to it.\n    // However, if the two of them happen to have the same offsetParent, then\n    // the distance between them will be the difference between their offsetTop\n    // since they are both taken with respect to the same entity.\n    // The last resort would be to accumulate their offsetTop until a common\n    // offsetParent is reached (usually the document) and taking the difference\n    // between the accumulated offsetTops\n\n    if (isPositioned(c)) {\n      if (t.offsetParent !== c) {\n        var isContainerElementOrDocument = function isContainerElementOrDocument(e) {\n          return e === c || e === document;\n        };\n\n        var _getElementOffsetInfo = getElementOffsetInfoUntil(t, isContainerElementOrDocument),\n            offsetTop = _getElementOffsetInfo.offsetTop,\n            offsetParent = _getElementOffsetInfo.offsetParent;\n\n        if (offsetParent !== c) {\n          throw new Error(\"Seems containerElement is not an ancestor of the Element\");\n        }\n\n        return offsetTop;\n      }\n\n      return t.offsetTop;\n    }\n\n    if (t.offsetParent === c.offsetParent) {\n      return t.offsetTop - c.offsetTop;\n    }\n\n    var isDocument = function isDocument(e) {\n      return e === document;\n    };\n    return getElementOffsetInfoUntil(t, isDocument).offsetTop - getElementOffsetInfoUntil(c, isDocument).offsetTop;\n  }\n};\n\nexports.default = {\n  updateHash: updateHash,\n  getHash: getHash,\n  filterElementInContainer: filterElementInContainer,\n  scrollOffset: scrollOffset\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  /*\r\n   * https://github.com/oblador/angular-scroll (duScrollDefaultEasing)\r\n   */\n  defaultEasing: function defaultEasing(x) {\n    if (x < 0.5) {\n      return Math.pow(x * 2, 2) / 2;\n    }\n    return 1 - Math.pow((1 - x) * 2, 2) / 2;\n  },\n  /*\r\n   * https://gist.github.com/gre/1650294\r\n   */\n  // no easing, no acceleration\n  linear: function linear(x) {\n    return x;\n  },\n  // accelerating from zero velocity\n  easeInQuad: function easeInQuad(x) {\n    return x * x;\n  },\n  // decelerating to zero velocity\n  easeOutQuad: function easeOutQuad(x) {\n    return x * (2 - x);\n  },\n  // acceleration until halfway, then deceleration\n  easeInOutQuad: function easeInOutQuad(x) {\n    return x < .5 ? 2 * x * x : -1 + (4 - 2 * x) * x;\n  },\n  // accelerating from zero velocity \n  easeInCubic: function easeInCubic(x) {\n    return x * x * x;\n  },\n  // decelerating to zero velocity π\n  easeOutCubic: function easeOutCubic(x) {\n    return --x * x * x + 1;\n  },\n  // acceleration until halfway, then deceleration \n  easeInOutCubic: function easeInOutCubic(x) {\n    return x < .5 ? 4 * x * x * x : (x - 1) * (2 * x - 2) * (2 * x - 2) + 1;\n  },\n  // accelerating from zero velocity \n  easeInQuart: function easeInQuart(x) {\n    return x * x * x * x;\n  },\n  // decelerating to zero velocity \n  easeOutQuart: function easeOutQuart(x) {\n    return 1 - --x * x * x * x;\n  },\n  // acceleration until halfway, then deceleration\n  easeInOutQuart: function easeInOutQuart(x) {\n    return x < .5 ? 8 * x * x * x * x : 1 - 8 * --x * x * x * x;\n  },\n  // accelerating from zero velocity\n  easeInQuint: function easeInQuint(x) {\n    return x * x * x * x * x;\n  },\n  // decelerating to zero velocity\n  easeOutQuint: function easeOutQuint(x) {\n    return 1 + --x * x * x * x * x;\n  },\n  // acceleration until halfway, then deceleration \n  easeInOutQuint: function easeInOutQuint(x) {\n    return x < .5 ? 16 * x * x * x * x * x : 1 + 16 * --x * x * x * x * x;\n  }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _passiveEventListeners = require('./passive-event-listeners');\n\nvar events = ['mousedown', 'mousewheel', 'touchmove', 'keydown'];\n\nexports.default = {\n  subscribe: function subscribe(cancelEvent) {\n    return typeof document !== 'undefined' && events.forEach(function (event) {\n      return (0, _passiveEventListeners.addPassiveEventListener)(document, event, cancelEvent);\n    });\n  }\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar Events = {\n\tregistered: {},\n\tscrollEvent: {\n\t\tregister: function register(evtName, callback) {\n\t\t\tEvents.registered[evtName] = callback;\n\t\t},\n\t\tremove: function remove(evtName) {\n\t\t\tEvents.registered[evtName] = null;\n\t\t}\n\t}\n};\n\nexports.default = Events;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _smooth = require('./smooth');\n\nvar _smooth2 = _interopRequireDefault(_smooth);\n\nvar _cancelEvents = require('./cancel-events');\n\nvar _cancelEvents2 = _interopRequireDefault(_cancelEvents);\n\nvar _scrollEvents = require('./scroll-events');\n\nvar _scrollEvents2 = _interopRequireDefault(_scrollEvents);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * Gets the easing type from the smooth prop within options.\r\n */\nvar getAnimationType = function getAnimationType(options) {\n  return _smooth2.default[options.smooth] || _smooth2.default.defaultEasing;\n};\n/*\r\n * Function helper\r\n */\nvar functionWrapper = function functionWrapper(value) {\n  return typeof value === 'function' ? value : function () {\n    return value;\n  };\n};\n/*\r\n * Wraps window properties to allow server side rendering\r\n */\nvar currentWindowProperties = function currentWindowProperties() {\n  if (typeof window !== 'undefined') {\n    return window.requestAnimationFrame || window.webkitRequestAnimationFrame;\n  }\n};\n\n/*\r\n * Helper function to never extend 60fps on the webpage.\r\n */\nvar requestAnimationFrameHelper = function () {\n  return currentWindowProperties() || function (callback, element, delay) {\n    window.setTimeout(callback, delay || 1000 / 60, new Date().getTime());\n  };\n}();\n\nvar makeData = function makeData() {\n  return {\n    currentPosition: 0,\n    startPosition: 0,\n    targetPosition: 0,\n    progress: 0,\n    duration: 0,\n    cancel: false,\n\n    target: null,\n    containerElement: null,\n    to: null,\n    start: null,\n    delta: null,\n    percent: null,\n    delayTimeout: null\n  };\n};\n\nvar currentPositionX = function currentPositionX(options) {\n  var containerElement = options.data.containerElement;\n  if (containerElement && containerElement !== document && containerElement !== document.body) {\n    return containerElement.scrollLeft;\n  } else {\n    var supportPageOffset = window.pageXOffset !== undefined;\n    var isCSS1Compat = (document.compatMode || \"\") === \"CSS1Compat\";\n    return supportPageOffset ? window.pageXOffset : isCSS1Compat ? document.documentElement.scrollLeft : document.body.scrollLeft;\n  }\n};\n\nvar currentPositionY = function currentPositionY(options) {\n  var containerElement = options.data.containerElement;\n  if (containerElement && containerElement !== document && containerElement !== document.body) {\n    return containerElement.scrollTop;\n  } else {\n    var supportPageOffset = window.pageXOffset !== undefined;\n    var isCSS1Compat = (document.compatMode || \"\") === \"CSS1Compat\";\n    return supportPageOffset ? window.pageYOffset : isCSS1Compat ? document.documentElement.scrollTop : document.body.scrollTop;\n  }\n};\n\nvar scrollContainerWidth = function scrollContainerWidth(options) {\n  var containerElement = options.data.containerElement;\n  if (containerElement && containerElement !== document && containerElement !== document.body) {\n    return containerElement.scrollWidth - containerElement.offsetWidth;\n  } else {\n    var body = document.body;\n    var html = document.documentElement;\n\n    return Math.max(body.scrollWidth, body.offsetWidth, html.clientWidth, html.scrollWidth, html.offsetWidth);\n  }\n};\n\nvar scrollContainerHeight = function scrollContainerHeight(options) {\n  var containerElement = options.data.containerElement;\n  if (containerElement && containerElement !== document && containerElement !== document.body) {\n    return containerElement.scrollHeight - containerElement.offsetHeight;\n  } else {\n    var body = document.body;\n    var html = document.documentElement;\n\n    return Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n  }\n};\n\nvar animateScroll = function animateScroll(easing, options, timestamp) {\n  var data = options.data;\n\n  // Cancel on specific events\n  if (!options.ignoreCancelEvents && data.cancel) {\n    if (_scrollEvents2.default.registered['end']) {\n      _scrollEvents2.default.registered['end'](data.to, data.target, data.currentPositionY);\n    }\n    return;\n  };\n\n  data.delta = Math.round(data.targetPosition - data.startPosition);\n\n  if (data.start === null) {\n    data.start = timestamp;\n  }\n\n  data.progress = timestamp - data.start;\n\n  data.percent = data.progress >= data.duration ? 1 : easing(data.progress / data.duration);\n\n  data.currentPosition = data.startPosition + Math.ceil(data.delta * data.percent);\n\n  if (data.containerElement && data.containerElement !== document && data.containerElement !== document.body) {\n    if (options.horizontal) {\n      data.containerElement.scrollLeft = data.currentPosition;\n    } else {\n      data.containerElement.scrollTop = data.currentPosition;\n    }\n  } else {\n    if (options.horizontal) {\n      window.scrollTo(data.currentPosition, 0);\n    } else {\n      window.scrollTo(0, data.currentPosition);\n    }\n  }\n\n  if (data.percent < 1) {\n    var easedAnimate = animateScroll.bind(null, easing, options);\n    requestAnimationFrameHelper.call(window, easedAnimate);\n    return;\n  }\n\n  if (_scrollEvents2.default.registered['end']) {\n    _scrollEvents2.default.registered['end'](data.to, data.target, data.currentPosition);\n  }\n};\n\nvar setContainer = function setContainer(options) {\n  options.data.containerElement = !options ? null : options.containerId ? document.getElementById(options.containerId) : options.container && options.container.nodeType ? options.container : document;\n};\n\nvar animateTopScroll = function animateTopScroll(scrollOffset, options, to, target) {\n  options.data = options.data || makeData();\n\n  window.clearTimeout(options.data.delayTimeout);\n\n  var setCancel = function setCancel() {\n    options.data.cancel = true;\n  };\n  _cancelEvents2.default.subscribe(setCancel);\n\n  setContainer(options);\n\n  options.data.start = null;\n  options.data.cancel = false;\n  options.data.startPosition = options.horizontal ? currentPositionX(options) : currentPositionY(options);\n  options.data.targetPosition = options.absolute ? scrollOffset : scrollOffset + options.data.startPosition;\n\n  if (options.data.startPosition === options.data.targetPosition) {\n    if (_scrollEvents2.default.registered['end']) {\n      _scrollEvents2.default.registered['end'](options.data.to, options.data.target, options.data.currentPosition);\n    }\n    return;\n  }\n\n  options.data.delta = Math.round(options.data.targetPosition - options.data.startPosition);\n\n  options.data.duration = functionWrapper(options.duration)(options.data.delta);\n  options.data.duration = isNaN(parseFloat(options.data.duration)) ? 1000 : parseFloat(options.data.duration);\n  options.data.to = to;\n  options.data.target = target;\n\n  var easing = getAnimationType(options);\n  var easedAnimate = animateScroll.bind(null, easing, options);\n\n  if (options && options.delay > 0) {\n    options.data.delayTimeout = window.setTimeout(function () {\n      if (_scrollEvents2.default.registered['begin']) {\n        _scrollEvents2.default.registered['begin'](options.data.to, options.data.target);\n      }\n      requestAnimationFrameHelper.call(window, easedAnimate);\n    }, options.delay);\n    return;\n  }\n\n  if (_scrollEvents2.default.registered['begin']) {\n    _scrollEvents2.default.registered['begin'](options.data.to, options.data.target);\n  }\n  requestAnimationFrameHelper.call(window, easedAnimate);\n};\n\nvar proceedOptions = function proceedOptions(options) {\n  options = _extends({}, options);\n  options.data = options.data || makeData();\n  options.absolute = true;\n  return options;\n};\n\nvar scrollToTop = function scrollToTop(options) {\n  animateTopScroll(0, proceedOptions(options));\n};\n\nvar scrollTo = function scrollTo(toPosition, options) {\n  animateTopScroll(toPosition, proceedOptions(options));\n};\n\nvar scrollToBottom = function scrollToBottom(options) {\n  options = proceedOptions(options);\n  setContainer(options);\n  animateTopScroll(options.horizontal ? scrollContainerWidth(options) : scrollContainerHeight(options), options);\n};\n\nvar scrollMore = function scrollMore(toPosition, options) {\n  options = proceedOptions(options);\n  setContainer(options);\n  var currentPosition = options.horizontal ? currentPositionX(options) : currentPositionY(options);\n  animateTopScroll(toPosition + currentPosition, options);\n};\n\nexports.default = {\n  animateTopScroll: animateTopScroll,\n  getAnimationType: getAnimationType,\n  scrollToTop: scrollToTop,\n  scrollToBottom: scrollToBottom,\n  scrollTo: scrollTo,\n  scrollMore: scrollMore\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _animateScroll = require('./animate-scroll');\n\nvar _animateScroll2 = _interopRequireDefault(_animateScroll);\n\nvar _scrollEvents = require('./scroll-events');\n\nvar _scrollEvents2 = _interopRequireDefault(_scrollEvents);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar __mapped = {};\nvar __activeLink = void 0;\n\nexports.default = {\n\n  unmount: function unmount() {\n    __mapped = {};\n  },\n\n  register: function register(name, element) {\n    __mapped[name] = element;\n  },\n\n  unregister: function unregister(name) {\n    delete __mapped[name];\n  },\n\n  get: function get(name) {\n    return __mapped[name] || document.getElementById(name) || document.getElementsByName(name)[0] || document.getElementsByClassName(name)[0];\n  },\n\n  setActiveLink: function setActiveLink(link) {\n    return __activeLink = link;\n  },\n\n  getActiveLink: function getActiveLink() {\n    return __activeLink;\n  },\n\n  scrollTo: function scrollTo(to, props) {\n\n    var target = this.get(to);\n\n    if (!target) {\n      console.warn(\"target Element not found\");\n      return;\n    }\n\n    props = _extends({}, props, { absolute: false });\n\n    var containerId = props.containerId;\n    var container = props.container;\n\n    var containerElement = void 0;\n    if (containerId) {\n      containerElement = document.getElementById(containerId);\n    } else if (container && container.nodeType) {\n      containerElement = container;\n    } else {\n      containerElement = document;\n    }\n\n    props.absolute = true;\n\n    var horizontal = props.horizontal;\n    var scrollOffset = _utils2.default.scrollOffset(containerElement, target, horizontal) + (props.offset || 0);\n\n    /*\r\n     * if animate is not provided just scroll into the view\r\n     */\n    if (!props.smooth) {\n      if (_scrollEvents2.default.registered['begin']) {\n        _scrollEvents2.default.registered['begin'](to, target);\n      }\n\n      if (containerElement === document) {\n        if (props.horizontal) {\n          window.scrollTo(scrollOffset, 0);\n        } else {\n          window.scrollTo(0, scrollOffset);\n        }\n      } else {\n        containerElement.scrollTop = scrollOffset;\n      }\n\n      if (_scrollEvents2.default.registered['end']) {\n        _scrollEvents2.default.registered['end'](to, target);\n      }\n\n      return;\n    }\n\n    /*\r\n     * Animate scrolling\r\n     */\n\n    _animateScroll2.default.animateTopScroll(scrollOffset, props, to, target);\n  }\n};","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _passiveEventListeners = require('./passive-event-listeners');\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar scrollHash = {\n  mountFlag: false,\n  initialized: false,\n  scroller: null,\n  containers: {},\n\n  mount: function mount(scroller) {\n    this.scroller = scroller;\n\n    this.handleHashChange = this.handleHashChange.bind(this);\n    window.addEventListener('hashchange', this.handleHashChange);\n\n    this.initStateFromHash();\n    this.mountFlag = true;\n  },\n  mapContainer: function mapContainer(to, container) {\n    this.containers[to] = container;\n  },\n  isMounted: function isMounted() {\n    return this.mountFlag;\n  },\n  isInitialized: function isInitialized() {\n    return this.initialized;\n  },\n  initStateFromHash: function initStateFromHash() {\n    var _this = this;\n\n    var hash = this.getHash();\n    if (hash) {\n      window.setTimeout(function () {\n        _this.scrollTo(hash, true);\n        _this.initialized = true;\n      }, 10);\n    } else {\n      this.initialized = true;\n    }\n  },\n  scrollTo: function scrollTo(to, isInit) {\n    var scroller = this.scroller;\n    var element = scroller.get(to);\n    if (element && (isInit || to !== scroller.getActiveLink())) {\n      var container = this.containers[to] || document;\n      scroller.scrollTo(to, { container: container });\n    }\n  },\n  getHash: function getHash() {\n    return _utils2.default.getHash();\n  },\n  changeHash: function changeHash(to, saveHashHistory) {\n    if (this.isInitialized() && _utils2.default.getHash() !== to) {\n      _utils2.default.updateHash(to, saveHashHistory);\n    }\n  },\n  handleHashChange: function handleHashChange() {\n    this.scrollTo(this.getHash());\n  },\n  unmount: function unmount() {\n    this.scroller = null;\n    this.containers = null;\n    window.removeEventListener('hashchange', this.handleHashChange);\n  }\n};\n\nexports.default = scrollHash;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _scrollSpy = require('./scroll-spy');\n\nvar _scrollSpy2 = _interopRequireDefault(_scrollSpy);\n\nvar _scroller = require('./scroller');\n\nvar _scroller2 = _interopRequireDefault(_scroller);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _scrollHash = require('./scroll-hash');\n\nvar _scrollHash2 = _interopRequireDefault(_scrollHash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar protoTypes = {\n  to: _propTypes2.default.string.isRequired,\n  containerId: _propTypes2.default.string,\n  container: _propTypes2.default.object,\n  activeClass: _propTypes2.default.string,\n  activeStyle: _propTypes2.default.object,\n  spy: _propTypes2.default.bool,\n  horizontal: _propTypes2.default.bool,\n  smooth: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.string]),\n  offset: _propTypes2.default.number,\n  delay: _propTypes2.default.number,\n  isDynamic: _propTypes2.default.bool,\n  onClick: _propTypes2.default.func,\n  duration: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.func]),\n  absolute: _propTypes2.default.bool,\n  onSetActive: _propTypes2.default.func,\n  onSetInactive: _propTypes2.default.func,\n  ignoreCancelEvents: _propTypes2.default.bool,\n  hashSpy: _propTypes2.default.bool,\n  saveHashHistory: _propTypes2.default.bool,\n  spyThrottle: _propTypes2.default.number\n};\n\nexports.default = function (Component, customScroller) {\n\n  var scroller = customScroller || _scroller2.default;\n\n  var Link = function (_React$PureComponent) {\n    _inherits(Link, _React$PureComponent);\n\n    function Link(props) {\n      _classCallCheck(this, Link);\n\n      var _this = _possibleConstructorReturn(this, (Link.__proto__ || Object.getPrototypeOf(Link)).call(this, props));\n\n      _initialiseProps.call(_this);\n\n      _this.state = {\n        active: false\n      };\n      return _this;\n    }\n\n    _createClass(Link, [{\n      key: 'getScrollSpyContainer',\n      value: function getScrollSpyContainer() {\n        var containerId = this.props.containerId;\n        var container = this.props.container;\n\n        if (containerId && !container) {\n          return document.getElementById(containerId);\n        }\n\n        if (container && container.nodeType) {\n          return container;\n        }\n\n        return document;\n      }\n    }, {\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        if (this.props.spy || this.props.hashSpy) {\n          var scrollSpyContainer = this.getScrollSpyContainer();\n\n          if (!_scrollSpy2.default.isMounted(scrollSpyContainer)) {\n            _scrollSpy2.default.mount(scrollSpyContainer, this.props.spyThrottle);\n          }\n\n          if (this.props.hashSpy) {\n            if (!_scrollHash2.default.isMounted()) {\n              _scrollHash2.default.mount(scroller);\n            }\n            _scrollHash2.default.mapContainer(this.props.to, scrollSpyContainer);\n          }\n\n          _scrollSpy2.default.addSpyHandler(this.spyHandler, scrollSpyContainer);\n\n          this.setState({\n            container: scrollSpyContainer\n          });\n        }\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        _scrollSpy2.default.unmount(this.stateHandler, this.spyHandler);\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var className = \"\";\n\n        if (this.state && this.state.active) {\n          className = ((this.props.className || \"\") + \" \" + (this.props.activeClass || \"active\")).trim();\n        } else {\n          className = this.props.className;\n        }\n\n        var style = {};\n\n        if (this.state && this.state.active) {\n          style = _extends({}, this.props.style, this.props.activeStyle);\n        } else {\n          style = _extends({}, this.props.style);\n        }\n\n        var props = _extends({}, this.props);\n\n        for (var prop in protoTypes) {\n          if (props.hasOwnProperty(prop)) {\n            delete props[prop];\n          }\n        }\n\n        props.className = className;\n        props.style = style;\n        props.onClick = this.handleClick;\n\n        return _react2.default.createElement(Component, props);\n      }\n    }]);\n\n    return Link;\n  }(_react2.default.PureComponent);\n\n  var _initialiseProps = function _initialiseProps() {\n    var _this2 = this;\n\n    this.scrollTo = function (to, props) {\n      scroller.scrollTo(to, _extends({}, _this2.state, props));\n    };\n\n    this.handleClick = function (event) {\n\n      /*\r\n       * give the posibility to override onClick\r\n       */\n\n      if (_this2.props.onClick) {\n        _this2.props.onClick(event);\n      }\n\n      /*\r\n       * dont bubble the navigation\r\n       */\n\n      if (event.stopPropagation) event.stopPropagation();\n      if (event.preventDefault) event.preventDefault();\n\n      /*\r\n       * do the magic!\r\n       */\n      _this2.scrollTo(_this2.props.to, _this2.props);\n    };\n\n    this.spyHandler = function (x, y) {\n      var scrollSpyContainer = _this2.getScrollSpyContainer();\n\n      if (_scrollHash2.default.isMounted() && !_scrollHash2.default.isInitialized()) {\n        return;\n      }\n\n      var horizontal = _this2.props.horizontal;\n\n      var to = _this2.props.to;\n      var element = null;\n      var isInside = void 0;\n      var isOutside = void 0;\n\n      if (horizontal) {\n        var elemLeftBound = 0;\n        var elemRightBound = 0;\n        var containerLeft = 0;\n\n        if (scrollSpyContainer.getBoundingClientRect) {\n          var containerCords = scrollSpyContainer.getBoundingClientRect();\n          containerLeft = containerCords.left;\n        }\n\n        if (!element || _this2.props.isDynamic) {\n          element = scroller.get(to);\n          if (!element) {\n            return;\n          }\n\n          var cords = element.getBoundingClientRect();\n          elemLeftBound = cords.left - containerLeft + x;\n          elemRightBound = elemLeftBound + cords.width;\n        }\n\n        var offsetX = x - _this2.props.offset;\n        isInside = offsetX >= Math.floor(elemLeftBound) && offsetX < Math.floor(elemRightBound);\n        isOutside = offsetX < Math.floor(elemLeftBound) || offsetX >= Math.floor(elemRightBound);\n      } else {\n        var elemTopBound = 0;\n        var elemBottomBound = 0;\n        var containerTop = 0;\n\n        if (scrollSpyContainer.getBoundingClientRect) {\n          var _containerCords = scrollSpyContainer.getBoundingClientRect();\n          containerTop = _containerCords.top;\n        }\n\n        if (!element || _this2.props.isDynamic) {\n          element = scroller.get(to);\n          if (!element) {\n            return;\n          }\n\n          var _cords = element.getBoundingClientRect();\n          elemTopBound = _cords.top - containerTop + y;\n          elemBottomBound = elemTopBound + _cords.height;\n        }\n\n        var offsetY = y - _this2.props.offset;\n        isInside = offsetY >= Math.floor(elemTopBound) && offsetY < Math.floor(elemBottomBound);\n        isOutside = offsetY < Math.floor(elemTopBound) || offsetY >= Math.floor(elemBottomBound);\n      }\n\n      var activeLink = scroller.getActiveLink();\n\n      if (isOutside) {\n        if (to === activeLink) {\n          scroller.setActiveLink(void 0);\n        }\n\n        if (_this2.props.hashSpy && _scrollHash2.default.getHash() === to) {\n          var _props$saveHashHistor = _this2.props.saveHashHistory,\n              saveHashHistory = _props$saveHashHistor === undefined ? false : _props$saveHashHistor;\n\n          _scrollHash2.default.changeHash(\"\", saveHashHistory);\n        }\n\n        if (_this2.props.spy && _this2.state.active) {\n          _this2.setState({ active: false });\n          _this2.props.onSetInactive && _this2.props.onSetInactive(to, element);\n        }\n      }\n\n      if (isInside && (activeLink !== to || _this2.state.active === false)) {\n        scroller.setActiveLink(to);\n\n        var _props$saveHashHistor2 = _this2.props.saveHashHistory,\n            _saveHashHistory = _props$saveHashHistor2 === undefined ? false : _props$saveHashHistor2;\n\n        _this2.props.hashSpy && _scrollHash2.default.changeHash(to, _saveHashHistory);\n\n        if (_this2.props.spy) {\n          _this2.setState({ active: true });\n          _this2.props.onSetActive && _this2.props.onSetActive(to, element);\n        }\n      }\n    };\n  };\n\n  ;\n\n  Link.propTypes = protoTypes;\n\n  Link.defaultProps = { offset: 0 };\n\n  return Link;\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _scrollLink = require('../mixins/scroll-link');\n\nvar _scrollLink2 = _interopRequireDefault(_scrollLink);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LinkElement = function (_React$Component) {\n  _inherits(LinkElement, _React$Component);\n\n  function LinkElement() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, LinkElement);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = LinkElement.__proto__ || Object.getPrototypeOf(LinkElement)).call.apply(_ref, [this].concat(args))), _this), _this.render = function () {\n      return _react2.default.createElement(\n        'a',\n        _this.props,\n        _this.props.children\n      );\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  return LinkElement;\n}(_react2.default.Component);\n\n;\n\nexports.default = (0, _scrollLink2.default)(LinkElement);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _scrollLink = require('../mixins/scroll-link');\n\nvar _scrollLink2 = _interopRequireDefault(_scrollLink);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ButtonElement = function (_React$Component) {\n  _inherits(ButtonElement, _React$Component);\n\n  function ButtonElement() {\n    _classCallCheck(this, ButtonElement);\n\n    return _possibleConstructorReturn(this, (ButtonElement.__proto__ || Object.getPrototypeOf(ButtonElement)).apply(this, arguments));\n  }\n\n  _createClass(ButtonElement, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'button',\n        this.props,\n        this.props.children\n      );\n    }\n  }]);\n\n  return ButtonElement;\n}(_react2.default.Component);\n\n;\n\nexports.default = (0, _scrollLink2.default)(ButtonElement);","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _scroller = require('./scroller');\n\nvar _scroller2 = _interopRequireDefault(_scroller);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nexports.default = function (Component) {\n  var Element = function (_React$Component) {\n    _inherits(Element, _React$Component);\n\n    function Element(props) {\n      _classCallCheck(this, Element);\n\n      var _this = _possibleConstructorReturn(this, (Element.__proto__ || Object.getPrototypeOf(Element)).call(this, props));\n\n      _this.childBindings = {\n        domNode: null\n      };\n      return _this;\n    }\n\n    _createClass(Element, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        if (typeof window === 'undefined') {\n          return false;\n        }\n        this.registerElems(this.props.name);\n      }\n    }, {\n      key: 'componentDidUpdate',\n      value: function componentDidUpdate(prevProps) {\n        if (this.props.name !== prevProps.name) {\n          this.registerElems(this.props.name);\n        }\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        if (typeof window === 'undefined') {\n          return false;\n        }\n        _scroller2.default.unregister(this.props.name);\n      }\n    }, {\n      key: 'registerElems',\n      value: function registerElems(name) {\n        _scroller2.default.register(name, this.childBindings.domNode);\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        return _react2.default.createElement(Component, _extends({}, this.props, { parentBindings: this.childBindings }));\n      }\n    }]);\n\n    return Element;\n  }(_react2.default.Component);\n\n  ;\n\n  Element.propTypes = {\n    name: _propTypes2.default.string,\n    id: _propTypes2.default.string\n  };\n\n  return Element;\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _scrollElement = require('../mixins/scroll-element');\n\nvar _scrollElement2 = _interopRequireDefault(_scrollElement);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ElementWrapper = function (_React$Component) {\n  _inherits(ElementWrapper, _React$Component);\n\n  function ElementWrapper() {\n    _classCallCheck(this, ElementWrapper);\n\n    return _possibleConstructorReturn(this, (ElementWrapper.__proto__ || Object.getPrototypeOf(ElementWrapper)).apply(this, arguments));\n  }\n\n  _createClass(ElementWrapper, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      // Remove `parentBindings` and `name` from props\n      var newProps = _extends({}, this.props);\n      delete newProps.name;\n      if (newProps.parentBindings) {\n        delete newProps.parentBindings;\n      }\n\n      return _react2.default.createElement(\n        'div',\n        _extends({}, newProps, { ref: function ref(el) {\n            _this2.props.parentBindings.domNode = el;\n          } }),\n        this.props.children\n      );\n    }\n  }]);\n\n  return ElementWrapper;\n}(_react2.default.Component);\n\n;\n\nElementWrapper.propTypes = {\n  name: _propTypes2.default.string,\n  id: _propTypes2.default.string\n};\n\nexports.default = (0, _scrollElement2.default)(ElementWrapper);","\"use strict\";\n\n/* DEPRECATED */\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar utils = require('./utils');\nvar scrollSpy = require('./scroll-spy');\nvar defaultScroller = require('./scroller');\nvar PropTypes = require('prop-types');\nvar scrollHash = require('./scroll-hash');\n\nvar protoTypes = {\n  to: PropTypes.string.isRequired,\n  containerId: PropTypes.string,\n  container: PropTypes.object,\n  activeClass: PropTypes.string,\n  spy: PropTypes.bool,\n  smooth: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  offset: PropTypes.number,\n  delay: PropTypes.number,\n  isDynamic: PropTypes.bool,\n  onClick: PropTypes.func,\n  duration: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  absolute: PropTypes.bool,\n  onSetActive: PropTypes.func,\n  onSetInactive: PropTypes.func,\n  ignoreCancelEvents: PropTypes.bool,\n  hashSpy: PropTypes.bool,\n  spyThrottle: PropTypes.number\n};\n\nvar Helpers = {\n  Scroll: function Scroll(Component, customScroller) {\n\n    console.warn(\"Helpers.Scroll is deprecated since v1.7.0\");\n\n    var scroller = customScroller || defaultScroller;\n\n    var Scroll = function (_React$Component) {\n      _inherits(Scroll, _React$Component);\n\n      function Scroll(props) {\n        _classCallCheck(this, Scroll);\n\n        var _this = _possibleConstructorReturn(this, (Scroll.__proto__ || Object.getPrototypeOf(Scroll)).call(this, props));\n\n        _initialiseProps.call(_this);\n\n        _this.state = {\n          active: false\n        };\n        return _this;\n      }\n\n      _createClass(Scroll, [{\n        key: 'getScrollSpyContainer',\n        value: function getScrollSpyContainer() {\n          var containerId = this.props.containerId;\n          var container = this.props.container;\n\n          if (containerId) {\n            return document.getElementById(containerId);\n          }\n\n          if (container && container.nodeType) {\n            return container;\n          }\n\n          return document;\n        }\n      }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n          if (this.props.spy || this.props.hashSpy) {\n            var scrollSpyContainer = this.getScrollSpyContainer();\n\n            if (!scrollSpy.isMounted(scrollSpyContainer)) {\n              scrollSpy.mount(scrollSpyContainer, this.props.spyThrottle);\n            }\n\n            if (this.props.hashSpy) {\n              if (!scrollHash.isMounted()) {\n                scrollHash.mount(scroller);\n              }\n              scrollHash.mapContainer(this.props.to, scrollSpyContainer);\n            }\n\n            if (this.props.spy) {\n              scrollSpy.addStateHandler(this.stateHandler);\n            }\n\n            scrollSpy.addSpyHandler(this.spyHandler, scrollSpyContainer);\n\n            this.setState({\n              container: scrollSpyContainer\n            });\n          }\n        }\n      }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n          scrollSpy.unmount(this.stateHandler, this.spyHandler);\n        }\n      }, {\n        key: 'render',\n        value: function render() {\n          var className = \"\";\n\n          if (this.state && this.state.active) {\n            className = ((this.props.className || \"\") + \" \" + (this.props.activeClass || \"active\")).trim();\n          } else {\n            className = this.props.className;\n          }\n\n          var props = _extends({}, this.props);\n\n          for (var prop in protoTypes) {\n            if (props.hasOwnProperty(prop)) {\n              delete props[prop];\n            }\n          }\n\n          props.className = className;\n          props.onClick = this.handleClick;\n\n          return React.createElement(Component, props);\n        }\n      }]);\n\n      return Scroll;\n    }(React.Component);\n\n    var _initialiseProps = function _initialiseProps() {\n      var _this2 = this;\n\n      this.scrollTo = function (to, props) {\n        scroller.scrollTo(to, _extends({}, _this2.state, props));\n      };\n\n      this.handleClick = function (event) {\n\n        /*\r\n         * give the posibility to override onClick\r\n         */\n\n        if (_this2.props.onClick) {\n          _this2.props.onClick(event);\n        }\n\n        /*\r\n         * dont bubble the navigation\r\n         */\n\n        if (event.stopPropagation) event.stopPropagation();\n        if (event.preventDefault) event.preventDefault();\n\n        /*\r\n         * do the magic!\r\n         */\n        _this2.scrollTo(_this2.props.to, _this2.props);\n      };\n\n      this.stateHandler = function () {\n        if (scroller.getActiveLink() !== _this2.props.to) {\n          if (_this2.state !== null && _this2.state.active && _this2.props.onSetInactive) {\n            _this2.props.onSetInactive();\n          }\n          _this2.setState({ active: false });\n        }\n      };\n\n      this.spyHandler = function (y) {\n\n        var scrollSpyContainer = _this2.getScrollSpyContainer();\n\n        if (scrollHash.isMounted() && !scrollHash.isInitialized()) {\n          return;\n        }\n\n        var to = _this2.props.to;\n        var element = null;\n        var elemTopBound = 0;\n        var elemBottomBound = 0;\n        var containerTop = 0;\n\n        if (scrollSpyContainer.getBoundingClientRect) {\n          var containerCords = scrollSpyContainer.getBoundingClientRect();\n          containerTop = containerCords.top;\n        }\n\n        if (!element || _this2.props.isDynamic) {\n          element = scroller.get(to);\n          if (!element) {\n            return;\n          }\n\n          var cords = element.getBoundingClientRect();\n          elemTopBound = cords.top - containerTop + y;\n          elemBottomBound = elemTopBound + cords.height;\n        }\n\n        var offsetY = y - _this2.props.offset;\n        var isInside = offsetY >= Math.floor(elemTopBound) && offsetY < Math.floor(elemBottomBound);\n        var isOutside = offsetY < Math.floor(elemTopBound) || offsetY >= Math.floor(elemBottomBound);\n        var activeLink = scroller.getActiveLink();\n\n        if (isOutside) {\n          if (to === activeLink) {\n            scroller.setActiveLink(void 0);\n          }\n\n          if (_this2.props.hashSpy && scrollHash.getHash() === to) {\n            scrollHash.changeHash();\n          }\n\n          if (_this2.props.spy && _this2.state.active) {\n            _this2.setState({ active: false });\n            _this2.props.onSetInactive && _this2.props.onSetInactive();\n          }\n\n          return scrollSpy.updateStates();\n        }\n\n        if (isInside && activeLink !== to) {\n          scroller.setActiveLink(to);\n\n          _this2.props.hashSpy && scrollHash.changeHash(to);\n\n          if (_this2.props.spy) {\n            _this2.setState({ active: true });\n            _this2.props.onSetActive && _this2.props.onSetActive(to);\n          }\n          return scrollSpy.updateStates();\n        }\n      };\n    };\n\n    ;\n\n    Scroll.propTypes = protoTypes;\n\n    Scroll.defaultProps = { offset: 0 };\n\n    return Scroll;\n  },\n  Element: function Element(Component) {\n\n    console.warn(\"Helpers.Element is deprecated since v1.7.0\");\n\n    var Element = function (_React$Component2) {\n      _inherits(Element, _React$Component2);\n\n      function Element(props) {\n        _classCallCheck(this, Element);\n\n        var _this3 = _possibleConstructorReturn(this, (Element.__proto__ || Object.getPrototypeOf(Element)).call(this, props));\n\n        _this3.childBindings = {\n          domNode: null\n        };\n        return _this3;\n      }\n\n      _createClass(Element, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n          if (typeof window === 'undefined') {\n            return false;\n          }\n          this.registerElems(this.props.name);\n        }\n      }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps) {\n          if (this.props.name !== prevProps.name) {\n            this.registerElems(this.props.name);\n          }\n        }\n      }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n          if (typeof window === 'undefined') {\n            return false;\n          }\n          defaultScroller.unregister(this.props.name);\n        }\n      }, {\n        key: 'registerElems',\n        value: function registerElems(name) {\n          defaultScroller.register(name, this.childBindings.domNode);\n        }\n      }, {\n        key: 'render',\n        value: function render() {\n          return React.createElement(Component, _extends({}, this.props, { parentBindings: this.childBindings }));\n        }\n      }]);\n\n      return Element;\n    }(React.Component);\n\n    ;\n\n    Element.propTypes = {\n      name: PropTypes.string,\n      id: PropTypes.string\n    };\n\n    return Element;\n  }\n};\n\nmodule.exports = Helpers;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Helpers = exports.ScrollElement = exports.ScrollLink = exports.animateScroll = exports.scrollSpy = exports.Events = exports.scroller = exports.Element = exports.Button = exports.Link = undefined;\n\nvar _Link = require('./components/Link.js');\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nvar _Button = require('./components/Button.js');\n\nvar _Button2 = _interopRequireDefault(_Button);\n\nvar _Element = require('./components/Element.js');\n\nvar _Element2 = _interopRequireDefault(_Element);\n\nvar _scroller = require('./mixins/scroller.js');\n\nvar _scroller2 = _interopRequireDefault(_scroller);\n\nvar _scrollEvents = require('./mixins/scroll-events.js');\n\nvar _scrollEvents2 = _interopRequireDefault(_scrollEvents);\n\nvar _scrollSpy = require('./mixins/scroll-spy.js');\n\nvar _scrollSpy2 = _interopRequireDefault(_scrollSpy);\n\nvar _animateScroll = require('./mixins/animate-scroll.js');\n\nvar _animateScroll2 = _interopRequireDefault(_animateScroll);\n\nvar _scrollLink = require('./mixins/scroll-link.js');\n\nvar _scrollLink2 = _interopRequireDefault(_scrollLink);\n\nvar _scrollElement = require('./mixins/scroll-element.js');\n\nvar _scrollElement2 = _interopRequireDefault(_scrollElement);\n\nvar _Helpers = require('./mixins/Helpers.js');\n\nvar _Helpers2 = _interopRequireDefault(_Helpers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Link = _Link2.default;\nexports.Button = _Button2.default;\nexports.Element = _Element2.default;\nexports.scroller = _scroller2.default;\nexports.Events = _scrollEvents2.default;\nexports.scrollSpy = _scrollSpy2.default;\nexports.animateScroll = _animateScroll2.default;\nexports.ScrollLink = _scrollLink2.default;\nexports.ScrollElement = _scrollElement2.default;\nexports.Helpers = _Helpers2.default;\nexports.default = { Link: _Link2.default, Button: _Button2.default, Element: _Element2.default, scroller: _scroller2.default, Events: _scrollEvents2.default, scrollSpy: _scrollSpy2.default, animateScroll: _animateScroll2.default, ScrollLink: _scrollLink2.default, ScrollElement: _scrollElement2.default, Helpers: _Helpers2.default };","\nimport { Button } from \"@/components/ui/button\";\nimport { cn } from \"@/lib/utils\";\nimport { ArrowBigDown, ArrowBigUpDash } from \"lucide-react\";\nimport { useEffect, useState, memo } from \"react\";\nimport { animateScroll as scroll } from 'react-scroll';\nimport { FitScreenMode } from \"../hooks/viewSettingsStore\";\nimport { useScrollHandler } from \"../hooks/useScrollHandler\";\n\ninterface ScrollButtonsProps {\n    fitScreenMode: FitScreenMode;\n}\n\nconst ScrollButtons = memo(({ fitScreenMode }: ScrollButtonsProps) => {\n    const [showScrollButtons, setShowScrollButtons] = useState(false);\n    const { atBottom } = useScrollHandler(fitScreenMode);\n\n    useEffect(() => {\n        const resizeObserver = new ResizeObserver(() => {\n            setShowScrollButtons(\n                document.body.scrollHeight > screen.height && \n                fitScreenMode != \"fitXY\"\n            );\n        });\n        \n        resizeObserver.observe(document.body);\n        return () => resizeObserver.disconnect();\n    }, [fitScreenMode]);\n\n    const scrollDown = () => {\n        const remainingContent = document.body.scrollHeight - window.scrollY - screen.height;\n        const scrollSpeed = screen.height / 2000; // whole screen in 2s \n        \n        if (remainingContent < 0) return;\n        \n        if (remainingContent < 0.8 * screen.height) {\n            scroll.scrollToBottom({\n                duration: remainingContent / scrollSpeed,\n                onComplete: () => {\n                    // Trigger a tiny native scroll to hide the UI in Firefox Mobile\n                    window.scrollBy(0, -1);\n                }\n            });\n            return;\n        }\n        \n        const sections = document.querySelectorAll('.section');\n        for (const container of sections) {\n            const rect = container.getBoundingClientRect();\n            if (rect.bottom >= screen.height) {\n                const offset = Math.max(100, 0.2 * screen.height);\n                const scrollDist = rect.top - offset;\n                scroll.scrollTo(\n                    rect.top + window.scrollY - offset, \n                    { duration: scrollDist / scrollSpeed }\n                );\n                break;\n            }\n        }\n    };\n\n    const scrollUp = () => {\n        scroll.scrollTo(0, { duration: 200 });\n    };\n\n    if (!showScrollButtons) return null;\n\n    return (\n        <div className=\"fixed bottom-10 right-10 z-50 h-24 flex\">\n            {!atBottom && (\n                <Button\n                    size=\"icon\"\n                    variant=\"circular\"\n                    onClick={scrollDown}\n                    className=\"absolute bottom-0 right-0\"\n                >\n                    <ArrowBigDown />\n                </Button>\n            )}\n            {atBottom && (\n                <Button\n                    size=\"icon\"\n                    variant=\"circular\"\n                    onClick={scrollUp}\n                    className=\"absolute top-0 right-0\"\n                >\n                    <ArrowBigUpDash />\n                </Button>\n            )}\n        </div>\n    );\n});\n\nexport default ScrollButtons;","import { useState, useCallback } from 'react'\n\nexport const useToolbarVisibility = () => {\n    const [isVisible, setIsVisible] = useState(true)\n\n    const updateVisibility = useCallback((visible: boolean) => {\n        setIsVisible(visible)\n    }, [])\n\n    return {\n        isVisible,\n        updateVisibility\n    }\n}\n","\nimport { useEffect, useRef } from 'react'\nimport { useNavigate, useLoaderData } from 'react-router-dom'\nimport { useFullScreenHandle } from 'react-full-screen'\nimport { useGesture } from '@use-gesture/react'\nimport { cn } from '@/lib/utils'\nimport { DataForSongView } from '@/components/song_loader'\nimport { Toolbar } from './settings/Toolbar'\nimport PdfView from './components/pdfView'\nimport { useViewSettingsStore } from './hooks/viewSettingsStore'\nimport { SongViewLayout } from './components/SongViewLayout'\nimport { SongContent } from './components/SongContent'\nimport { FullScreen } from 'react-full-screen'\nimport ScrollButtons from './components/ScrollButtons'\nimport './SongView.css'\nimport { useToolbarVisibility } from './hooks/useToolbarVisibility'\nimport useLocalStorageState from 'use-local-storage-state'\n\n\nexport const SongView = () => {\n    const { songDB, songData } = useLoaderData() as DataForSongView;\n    const navigate = useNavigate();\n    const fullScreenHandle = useFullScreenHandle();\n    const viewRef = useRef<HTMLDivElement>(null);\n    const {\n        layout: layoutSettings,\n        actions: settingsActions,\n    } = useViewSettingsStore()\n    const { updateVisibility } = useToolbarVisibility();\n    const [transposeSteps, setTransposeSteps] = useLocalStorageState(`transposeSteps/${songData.id}`, { defaultValue: 0 });\n\n    // Handle pinch gesture\n    useGesture({\n        onPinch: ({ movement: [dScale], memo }) => {\n            if (!memo) memo = layoutSettings.fontSize\n            const newFontSize = Math.max(8, Math.min(memo * dScale, 50))\n\n            settingsActions.setLayoutSettings({\n                fitScreenMode: 'none',\n                fontSize: newFontSize,\n            })\n            settingsActions.setCustomLayoutPreset({\n                fitScreenMode: 'none',\n                fontSize: newFontSize,\n            })\n            settingsActions.applyPreset(\"custom\");\n\n            // Update toolbar visibility based on scroll position\n            // TODO: this is a different state than the one used in toolbar -- does this even do anything?\n            if (screen.height > 50 + document.body.scrollHeight) {\n                updateVisibility(true);\n            } else if (screen.height < document.body.scrollHeight && window.scrollY > 0) {\n                updateVisibility(false);\n            }\n\n            return memo;\n        },\n    }, {\n        target: viewRef,\n    })\n\n    // Prevent default gesture behavior\n    useEffect(() => {\n        const preventDefault = (e: Event) => e.preventDefault()\n        document.addEventListener('gesturestart', preventDefault)\n        document.addEventListener('gesturechange', preventDefault)\n\n        return () => {\n            document.removeEventListener('gesturestart', preventDefault)\n            document.removeEventListener('gesturechange', preventDefault)\n        }\n    }, [])\n\n    // Render PDF view for short songs\n    if (songData.lyricsLength() < 50) {\n        return <PdfView pdfFilenames={songData.pdfFilenames} />\n    }\n\n    return (\n        <SongViewLayout\n            ref={viewRef}\n        >\n            <Toolbar\n                navigate={navigate}\n                songDB={songDB}\n                songData={songData}\n                fullScreenHandle={fullScreenHandle}\n                originalKey={songData.key}\n                transposeSteps={transposeSteps}\n                setTransposeSteps={setTransposeSteps}\n            />\n            <FullScreen handle={fullScreenHandle} className={cn('w-full overflow-x-clip', layoutSettings.fitScreenMode == \"fitXY\" ? \" h-full \" : \" h-fit overflow-y-scroll\")}>\n                <ScrollButtons\n                    fitScreenMode={layoutSettings.fitScreenMode}\n                />\n                <SongContent\n                    songData={songData}\n                    transposeSteps={transposeSteps}\n                />\n            </FullScreen>\n        </SongViewLayout>\n    )\n}\n\nexport default SongView;   "],"names":["AArrowDown","createLucideIcon","AArrowUp","ArrowBigDown","ArrowBigUpDash","ChevronsLeftRightEllipsis","Columns2","Fullscreen","Github","Guitar","Maximize","MoveDiagonal","MoveHorizontal","PencilRuler","Piano","Repeat","Save","Settings2","Undo2","key","webkit","moz","ms","document","vendor","fscreen","element","type","handler","options","val","useFullScreenHandle","_useState","useState","active","setActive","node","useRef","useEffect","handleChange","enter","useCallback","exit","useMemo","FullScreen","_ref","handle","onChange","children","className","classNames","React","clamp","v","min","max","V","fallback","v1","v2","rubberband","distance","dimension","constant","rubberbandIfOutOfBounds","position","computeRubberband","bounds","Vx","Vy","Rx","Ry","X0","X1","Y0","Y1","_toPrimitive","input","hint","prim","res","_toPropertyKey","arg","_defineProperty","obj","value","ownKeys","e","r","o","_objectSpread2","EVENT_TYPE_MAP","capitalize","string","actionsWithoutCaptureSupported","hasCapture","capture","actionKey","toHandlerProp","device","action","deviceProps","pointerCaptureEvents","parseProp","prop","eventKey","passive","captureKey","toDomEventType","isTouch","event","getPointerType","getCurrentTargetTouchList","_event$currentTarget","_event$currentTarget$","getTouchList","getValueEvent","distanceAngle","P1","P2","dx","dy","cx","cy","touchIds","touch","touchDistanceAngle","ids","pointerId","valueEvent","pointerValues","LINE_HEIGHT","PAGE_HEIGHT","wheelValues","deltaX","deltaY","deltaMode","scrollValues","_ref2","scrollX","scrollY","scrollLeft","scrollTop","getEventDetails","payload","shiftKey","altKey","metaKey","ctrlKey","call","args","noop","chain","fns","result","fn","assignDefault","BEFORE_LAST_KINEMATICS_DELAY","Engine","ctrl","state","shared","ingKey","config","values","dt","_absoluteDelta","_m0","_m1","t0","t1","_step","movement","v0","previousOffset","gestureIsActive","ox","oy","x0","x1","y0","y1","absoluteDelta","memo","selectAxis","threshold","absDx","absDy","CoordinatesEngine","identity","DEFAULT_RUBBERBAND","commonConfigResolver","_k","transform","DEFAULT_AXIS_THRESHOLD","coordinatesConfigResolver","_v","axis","left","right","top","bottom","KEYS_DELTA_MAP","displacement","factor","DragEngine","boundRect","targetRect","_bounds","ctrlIds","id","_values","_dx","_dy","_mx","_my","svx","svy","sx","sy","sdt","_vx","_vy","persistEvent","remove","deltaFn","bindFunction","isBrowser","supportsTouchEvents","isTouchScreen","supportsPointerEvents","supportsPointerLock","supportsGestureEvents","SUPPORT","DEFAULT_PREVENT_SCROLL_DELAY","DEFAULT_DRAG_DELAY","DEFAULT_SWIPE_VELOCITY","DEFAULT_SWIPE_DISTANCE","DEFAULT_SWIPE_DURATION","DEFAULT_KEYBOARD_DISPLACEMENT","DEFAULT_DRAG_AXIS_THRESHOLD","dragConfigResolver","lock","mouse","preventScroll","buttons","keys","filterTaps","tapsThreshold","velocity","duration","clampStateInternalMovementToBounds","dirx","diry","SCALE_ANGLE_RATIO_INTENT_DEG","PINCH_WHEEL_RATIO","PinchEngine","lastOffset","offset","axisMovementDifference","ctrlTouchIds","_pointerEvents","ctrlPointerIds","prev_a","delta_a","delta_turns","_previousMovement","modifierKey","k","pinchConfigResolver","scaleBounds","angleBounds","_scaleBounds","D","_angleBounds","A","MoveEngine","moveConfigResolver","ScrollEngine","scrollConfigResolver","WheelEngine","wheelConfigResolver","HoverEngine","hoverConfigResolver","EngineMap","ConfigResolverMap","registerAction","dragAction","hoverAction","moveAction","pinchAction","scrollAction","wheelAction","_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","i","_objectWithoutProperties","sourceSymbolKeys","sharedConfigResolver","_excluded","resolveWith","resolvers","resolver","parse","newConfig","gestureKey","_config","eventOptions","window","enabled","rest","EventStore","listeners","_options","TimeoutStore","callback","timeout","Controller","handlers","resolveGestures","nativeHandlers","sharedConfig","props","gestureConfig","bindToProps","nativeBindFunction","handlerProp","setupGesture","internalHandlers","withPassiveOption","isNative","_options$capture","_options$passive","RE_NOT_NATIVE","sortHandlers","_handlers","native","actions","registerGesture","handlerKey","startKey","endKey","parseMergedHandlers","mergedHandlers","mergedConfig","useRecognizers","createUseGesture","useGesture","isSmallScreen","LAYOUT_PRESETS","defaultLayoutSettings","getFontSizeInRange","size","useViewSettingsStore","create","persist","set","get","settings","preset","customLayoutPreset","chordSettingsNames","chordSettingsValues","ChordSettingsDropdownMenu","chordSettings","toggleSetting","jsxs","Fragment","jsx","DropdownMenuLabel","DropdownMenuSeparator","DropdownMenuCheckboxItem","DropdownIconStart","ChordSettingsButtons","Button","LoopNoteIcon","layouSettingsBoolsKeys","layoutSettingsValues","LayoutSettingsToolbar","fullScreenHandle","layout","layoutPreset","presetOptions","FancySwitch","LayoutSettingsDropdownSection","layoutSettings","setBothSettings","modifiedSettings","FONT_SIZE_STEP","DropdownMenuItem","TransposeIcon","RENDER_KEYS","TransposeSettings","originalKey","transposeSteps","setTransposeSteps","originalKeyIndex","Note","transposeValues","TransposeButtons","TransposeDropdown","useComponentVisible","initialIsVisible","isComponentVisible","setIsComponentVisible","ref","handleClickOutside","selected","vertical","index","ToolbarBase","DropdownMenu","DropdownMenuTrigger","DropdownMenuContent","useScrollHandler","fitScreenMode","prevScrollPos","atBottom","setAtBottom","isToolbarVisible","setIsToolbarVisible","handleScroll","currentScrollPos","remainingContent","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","reject","fulfilled","step","rejected","__generator","body","_","t","f","y","g","verb","n","op","PwaInstallHandler","_this","_a","outcome","otherCallback","pwaInstallHandler","usePWAInstall","subscribe","onStoreChange","getSnapshot","getServerSnapshot","useSyncExternalStore","Toolbar","navigate","songDB","songData","showiOSPWAPrompt","setShowiOSPWAPrompt","install","ModeToggleInner","Link","RandomSong","PWAPrompt","resolveAssetPath","PdfView","pdfFilenames","SongViewLayout","forwardRef","cn","CustomAutoTextSize","fitMode","minFontSizePx","maxFontSizePx","fontSizePrecisionPx","fontSize","setFontSize","innerElRef","updateSize","innerEl","containerEl","updateTextSize","computedFontSize","useLayoutEffect","resizeObserver","formatChords","data","part","SongHeading","containerRef","wrappedIndices","setWrappedIndices","detectWrapping","newWrappedIndices","child","currentTop","handleResize","isWrapped","BackgroundImage","SongContent","parsedContent","renderSong","autoTextSizeProps","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","global","freeSelf","root","objectProto","objectToString","nativeMax","nativeMin","now","debounce","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","toNumber","isObject","invokeFunc","time","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","shouldInvoke","trailingEdge","cancel","flush","debounced","isInvoking","throttle","isObjectLike","isSymbol","other","isBinary","lodash_throttle","passiveEventListeners","eventName","listener","listenerName","attachedListeners","supportsPassiveOption","opts","scrollSpy_1","_lodash","require$$0","_lodash2","_interopRequireDefault","_passiveEventListeners","require$$1","eventThrottler","eventHandler","throttleAmount","scrollSpy","scrollSpyContainer","supportPageOffset","isCSS1Compat","callbacks","c","container","s","stateHandler","spyHandler","utils","updateHash","hash","historyUpdate","hashVal","hashToUpdate","curLoc","urlToPush","getHash","filterElementInContainer","isPositioned","getElementOffsetInfoUntil","predicate","offsetTop","currentOffsetParent","scrollOffset","horizontal","isContainerElementOrDocument","_getElementOffsetInfo","offsetParent","isDocument","smooth","x","cancelEvents","events","cancelEvent","scrollEvents","Events","evtName","animateScroll_1","_extends","_utils","_smooth","_smooth2","_cancelEvents","require$$2","_cancelEvents2","_scrollEvents","require$$3","_scrollEvents2","getAnimationType","functionWrapper","currentWindowProperties","requestAnimationFrameHelper","delay","makeData","currentPositionX","containerElement","currentPositionY","scrollContainerWidth","html","scrollContainerHeight","animateScroll","easing","timestamp","easedAnimate","setContainer","animateTopScroll","to","setCancel","proceedOptions","scrollToTop","scrollTo","toPosition","scrollToBottom","scrollMore","currentPosition","scroller","_utils2","_animateScroll","_animateScroll2","__mapped","__activeLink","name","link","containerId","ReactPropTypesSecret","ReactPropTypesSecret_1","emptyFunction","emptyFunctionWithReset","factoryWithThrowingShims","shim","propName","componentName","location","propFullName","secret","err","getShim","ReactPropTypes","propTypesModule","scrollHash_1","scrollHash","isInit","saveHashHistory","scrollLink","_createClass","defineProperties","descriptor","Constructor","protoProps","staticProps","_react","_react2","_scrollSpy","_scrollSpy2","_scroller","_scroller2","_propTypes","_propTypes2","_scrollHash","require$$4","_scrollHash2","_classCallCheck","instance","_possibleConstructorReturn","self","_inherits","subClass","superClass","protoTypes","Component","customScroller","_React$PureComponent","_initialiseProps","style","_this2","isInside","isOutside","elemLeftBound","elemRightBound","containerLeft","containerCords","cords","offsetX","elemTopBound","elemBottomBound","containerTop","_containerCords","_cords","offsetY","activeLink","_props$saveHashHistor","_props$saveHashHistor2","_saveHashHistory","_scrollLink","_scrollLink2","LinkElement","_React$Component","_temp","_ret","_len","_key","ButtonElement","scrollElement","_reactDom","Element","prevProps","_scrollElement","_scrollElement2","ElementWrapper","newProps","el","defaultScroller","PropTypes","require$$5","require$$6","Helpers","Scroll","_React$Component2","_this3","Helpers_1","modules","_Link","_Link2","_Button","_Button2","_Element","_Element2","require$$7","require$$8","_Helpers","require$$9","_Helpers2","ScrollButtons","showScrollButtons","setShowScrollButtons","scrollDown","scrollSpeed","scroll","sections","rect","scrollDist","scrollUp","useToolbarVisibility","isVisible","setIsVisible","updateVisibility","visible","SongView","useLoaderData","useNavigate","viewRef","settingsActions","useLocalStorageState","dScale","newFontSize","preventDefault"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,31,32,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59]}